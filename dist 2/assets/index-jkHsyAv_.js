var SP=Object.defineProperty;var _P=(e,t,r)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xd=(e,t,r)=>_P(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var kw={exports:{}},ku={},Pw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),PP=Symbol.for("react.portal"),CP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),OP=Symbol.for("react.profiler"),EP=Symbol.for("react.provider"),TP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),IP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),$P=Symbol.for("react.lazy"),Q0=Symbol.iterator;function LP(e){return e===null||typeof e!="object"?null:(e=Q0&&e[Q0]||e["@@iterator"],typeof e=="function"?e:null)}var Cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aw=Object.assign,Ow={};function si(e,t,r){this.props=e,this.context=t,this.refs=Ow,this.updater=r||Cw}si.prototype.isReactComponent={};si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ew(){}Ew.prototype=si.prototype;function np(e,t,r){this.props=e,this.context=t,this.refs=Ow,this.updater=r||Cw}var sp=np.prototype=new Ew;sp.constructor=np;Aw(sp,si.prototype);sp.isPureReactComponent=!0;var Z0=Array.isArray,Tw=Object.prototype.hasOwnProperty,ap={current:null},Mw={key:!0,ref:!0,__self:!0,__source:!0};function Iw(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Tw.call(t,n)&&!Mw.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ql,type:e,key:i,ref:l,props:a,_owner:ap.current}}function RP(e,t){return{$$typeof:ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===ql}function FP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ex=/\/+/g;function Qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FP(""+e.key):t.toString(36)}function ec(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ql:case PP:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Qd(l,0):n,Z0(a)?(r="",e!=null&&(r=e.replace(ex,"$&/")+"/"),ec(a,t,r,"",function(d){return d})):a!=null&&(ip(a)&&(a=RP(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(ex,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Z0(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Qd(i,o);l+=ec(i,t,r,c,a)}else if(c=LP(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Qd(i,o++),l+=ec(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function go(e,t,r){if(e==null)return e;var n=[],a=0;return ec(e,n,"","",function(i){return t.call(r,i,a++)}),n}function BP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},tc={transition:null},UP={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:tc,ReactCurrentOwner:ap};function Dw(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:go,forEach:function(e,t,r){go(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return go(e,function(){t++}),t},toArray:function(e){return go(e,function(t){return t})||[]},only:function(e){if(!ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=si;te.Fragment=CP;te.Profiler=OP;te.PureComponent=np;te.StrictMode=AP;te.Suspense=IP;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;te.act=Dw;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Aw({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ap.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Tw.call(t,c)&&!Mw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ql,type:e.type,key:a,ref:i,props:n,_owner:l}};te.createContext=function(e){return e={$$typeof:TP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EP,_context:e},e.Consumer=e};te.createElement=Iw;te.createFactory=function(e){var t=Iw.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:MP,render:e}};te.isValidElement=ip;te.lazy=function(e){return{$$typeof:$P,_payload:{_status:-1,_result:e},_init:BP}};te.memo=function(e,t){return{$$typeof:DP,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=tc.transition;tc.transition={};try{e()}finally{tc.transition=t}};te.unstable_act=Dw;te.useCallback=function(e,t){return jt.current.useCallback(e,t)};te.useContext=function(e){return jt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};te.useEffect=function(e,t){return jt.current.useEffect(e,t)};te.useId=function(){return jt.current.useId()};te.useImperativeHandle=function(e,t,r){return jt.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return jt.current.useMemo(e,t)};te.useReducer=function(e,t,r){return jt.current.useReducer(e,t,r)};te.useRef=function(e){return jt.current.useRef(e)};te.useState=function(e){return jt.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return jt.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return jt.current.useTransition()};te.version="18.3.1";Pw.exports=te;var w=Pw.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=w,WP=Symbol.for("react.element"),KP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,HP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VP={key:!0,ref:!0,__self:!0,__source:!0};function $w(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)qP.call(t,n)&&!VP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:WP,type:e,key:i,ref:l,props:a,_owner:HP.current}}ku.Fragment=KP;ku.jsx=$w;ku.jsxs=$w;kw.exports=ku;var s=kw.exports,Lw={exports:{}},sr={},Rw={exports:{}},Fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var Y=I.length;I.push(U);e:for(;0<Y;){var F=Y-1>>>1,D=I[F];if(0<a(D,U))I[F]=U,I[Y]=D,Y=F;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var U=I[0],Y=I.pop();if(Y!==U){I[0]=Y;e:for(var F=0,D=I.length,re=D>>>1;F<re;){var xe=2*(F+1)-1,le=I[xe],De=xe+1,zr=I[De];if(0>a(le,Y))De<D&&0>a(zr,le)?(I[F]=zr,I[De]=Y,F=De):(I[F]=le,I[xe]=Y,F=xe);else if(De<D&&0>a(zr,Y))I[F]=zr,I[De]=Y,F=De;else break e}}return U}function a(I,U){var Y=I.sortIndex-U.sortIndex;return Y!==0?Y:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=I)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function S(I){if(g=!1,b(I),!x)if(r(c)!==null)x=!0,M(j);else{var U=r(d);U!==null&&B(S,U.startTime-I)}}function j(I,U){x=!1,g&&(g=!1,p(k),k=-1),h=!0;var Y=m;try{for(b(U),f=r(c);f!==null&&(!(f.expirationTime>U)||I&&!P());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var D=F(f.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),b(U)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var xe=r(d);xe!==null&&B(S,xe.startTime-U),re=!1}return re}finally{f=null,m=Y,h=!1}}var N=!1,_=null,k=-1,A=5,O=-1;function P(){return!(e.unstable_now()-O<A)}function C(){if(_!==null){var I=e.unstable_now();O=I;var U=!0;try{U=_(!0,I)}finally{U?E():(N=!1,_=null)}}else N=!1}var E;if(typeof v=="function")E=function(){v(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,z=R.port2;R.port1.onmessage=C,E=function(){z.postMessage(null)}}else E=function(){y(C,0)};function M(I){_=I,N||(N=!0,E())}function B(I,U){k=y(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,M(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var Y=m;m=U;try{return I()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=m;m=I;try{return U()}finally{m=Y}},e.unstable_scheduleCallback=function(I,U,Y){var F=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,I={id:u++,callback:U,priorityLevel:I,startTime:Y,expirationTime:D,sortIndex:-1},Y>F?(I.sortIndex=Y,t(d,I),r(c)===null&&I===r(d)&&(g?(p(k),k=-1):g=!0,B(S,Y-F))):(I.sortIndex=D,t(c,I),x||h||(x=!0,M(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var U=m;return function(){var Y=m;m=U;try{return I.apply(this,arguments)}finally{m=Y}}}})(Fw);Rw.exports=Fw;var YP=Rw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=w,Jt=YP;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bw=new Set,cl={};function ra(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(cl[e]=t,e=0;e<t.length;e++)Bw.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,JP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tx={},rx={};function XP(e){return sm.call(rx,e)?!0:sm.call(tx,e)?!1:JP.test(e)?rx[e]=!0:(tx[e]=!0,!1)}function QP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,r,n){if(t===null||typeof t>"u"||QP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function op(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lp,op);it[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lp,op);it[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lp,op);it[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function cp(e,t,r,n){var a=it.hasOwnProperty(t)?it[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,r,a,n)&&(r=null),n||a===null?XP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var kn=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),xa=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),zw=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),nx=Symbol.iterator;function yi(e){return e===null||typeof e!="object"?null:(e=nx&&e[nx]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Zd;function Li(e){if(Zd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zd=t&&t[1]||""}return`
`+Zd+e}var ef=!1;function tf(e,t){if(!e||ef)return"";ef=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ef=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Li(e):""}function eC(e){switch(e.tag){case 5:return Li(e.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return e=tf(e.type,!1),e;case 11:return e=tf(e.type.render,!1),e;case 1:return e=tf(e.type,!0),e;default:return""}}function om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case va:return"Fragment";case xa:return"Portal";case am:return"Profiler";case up:return"StrictMode";case im:return"Suspense";case lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zw:return(e.displayName||"Context")+".Consumer";case Uw:return(e._context.displayName||"Context")+".Provider";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fp:return t=e.displayName||null,t!==null?t:om(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return om(e(t))}catch{}}return null}function tC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(t);case 8:return t===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rC(e){var t=Kw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=rC(e))}function qw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Kw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cm(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=as(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hw(e,t){t=t.checked,t!=null&&cp(e,"checked",t,!1)}function um(e,t){Hw(e,t);var r=as(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dm(e,t.type,r):t.hasOwnProperty("defaultValue")&&dm(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ax(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dm(e,t,r){(t!=="number"||mc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ri=Array.isArray;function Ea(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+as(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ix(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Ri(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:as(r)}}function Vw(e,t){var r=as(t.value),n=as(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,Gw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nC=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){nC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function Jw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function Xw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Jw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var sC=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(e,t){if(t){if(sC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function pm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xm=null,Ta=null,Ma=null;function ox(e){if(e=Yl(e)){if(typeof xm!="function")throw Error($(280));var t=e.stateNode;t&&(t=Eu(t),xm(e.stateNode,e.type,t))}}function Qw(e){Ta?Ma?Ma.push(e):Ma=[e]:Ta=e}function Zw(){if(Ta){var e=Ta,t=Ma;if(Ma=Ta=null,ox(e),t)for(e=0;e<t.length;e++)ox(t[e])}}function ej(e,t){return e(t)}function tj(){}var rf=!1;function rj(e,t,r){if(rf)return e(t,r);rf=!0;try{return ej(e,t,r)}finally{rf=!1,(Ta!==null||Ma!==null)&&(tj(),Zw())}}function dl(e,t){var r=e.stateNode;if(r===null)return null;var n=Eu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var vm=!1;if(gn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){vm=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{vm=!1}function aC(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var qi=!1,hc=null,pc=!1,ym=null,iC={onError:function(e){qi=!0,hc=e}};function lC(e,t,r,n,a,i,l,o,c){qi=!1,hc=null,aC.apply(iC,arguments)}function oC(e,t,r,n,a,i,l,o,c){if(lC.apply(this,arguments),qi){if(qi){var d=hc;qi=!1,hc=null}else throw Error($(198));pc||(pc=!0,ym=d)}}function na(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cx(e){if(na(e)!==e)throw Error($(188))}function cC(e){var t=e.alternate;if(!t){if(t=na(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return cx(a),e;if(i===n)return cx(a),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function sj(e){return e=cC(e),e!==null?aj(e):null}function aj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aj(e);if(t!==null)return t;e=e.sibling}return null}var ij=Jt.unstable_scheduleCallback,ux=Jt.unstable_cancelCallback,uC=Jt.unstable_shouldYield,dC=Jt.unstable_requestPaint,Le=Jt.unstable_now,fC=Jt.unstable_getCurrentPriorityLevel,hp=Jt.unstable_ImmediatePriority,lj=Jt.unstable_UserBlockingPriority,gc=Jt.unstable_NormalPriority,mC=Jt.unstable_LowPriority,oj=Jt.unstable_IdlePriority,Pu=null,Vr=null;function hC(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Pu,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:xC,pC=Math.log,gC=Math.LN2;function xC(e){return e>>>=0,e===0?32:31-(pC(e)/gC|0)|0}var bo=64,wo=4194304;function Fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Fi(o):(i&=l,i!==0&&(n=Fi(i)))}else l=r&~a,l!==0?n=Fi(l):i!==0&&(n=Fi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dr(t),a=1<<r,n|=e[r],t&=~a;return n}function vC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Dr(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=vC(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function bm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cj(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function nf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=r}function bC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Dr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function pp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var de=0;function uj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dj,gp,fj,mj,hj,wm=!1,jo=[],Vn=null,Yn=null,Gn=null,fl=new Map,ml=new Map,Un=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dx(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function wi(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Yl(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function jC(e,t,r,n,a){switch(t){case"focusin":return Vn=wi(Vn,e,t,r,n,a),!0;case"dragenter":return Yn=wi(Yn,e,t,r,n,a),!0;case"mouseover":return Gn=wi(Gn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return fl.set(i,wi(fl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ml.set(i,wi(ml.get(i)||null,e,t,r,n,a)),!0}return!1}function pj(e){var t=Ts(e.target);if(t!==null){var r=na(t);if(r!==null){if(t=r.tag,t===13){if(t=nj(r),t!==null){e.blockedOn=t,hj(e.priority,function(){fj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gm=n,r.target.dispatchEvent(n),gm=null}else return t=Yl(r),t!==null&&gp(t),e.blockedOn=r,!1;t.shift()}return!0}function fx(e,t,r){rc(e)&&r.delete(t)}function NC(){wm=!1,Vn!==null&&rc(Vn)&&(Vn=null),Yn!==null&&rc(Yn)&&(Yn=null),Gn!==null&&rc(Gn)&&(Gn=null),fl.forEach(fx),ml.forEach(fx)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,wm||(wm=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,NC)))}function hl(e){function t(a){return ji(a,e)}if(0<jo.length){ji(jo[0],e);for(var r=1;r<jo.length;r++){var n=jo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vn!==null&&ji(Vn,e),Yn!==null&&ji(Yn,e),Gn!==null&&ji(Gn,e),fl.forEach(t),ml.forEach(t),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)pj(r),r.blockedOn===null&&Un.shift()}var Ia=kn.ReactCurrentBatchConfig,vc=!0;function SC(e,t,r,n){var a=de,i=Ia.transition;Ia.transition=null;try{de=1,xp(e,t,r,n)}finally{de=a,Ia.transition=i}}function _C(e,t,r,n){var a=de,i=Ia.transition;Ia.transition=null;try{de=4,xp(e,t,r,n)}finally{de=a,Ia.transition=i}}function xp(e,t,r,n){if(vc){var a=jm(e,t,r,n);if(a===null)hf(e,t,n,yc,r),dx(e,n);else if(jC(a,e,t,r,n))n.stopPropagation();else if(dx(e,n),t&4&&-1<wC.indexOf(e)){for(;a!==null;){var i=Yl(a);if(i!==null&&dj(i),i=jm(e,t,r,n),i===null&&hf(e,t,n,yc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hf(e,t,n,null,r)}}var yc=null;function jm(e,t,r,n){if(yc=null,e=mp(n),e=Ts(e),e!==null)if(t=na(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function gj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case hp:return 1;case lj:return 4;case gc:case mC:return 16;case oj:return 536870912;default:return 16}default:return 16}}var qn=null,vp=null,nc=null;function xj(){if(nc)return nc;var e,t=vp,r=t.length,n,a="value"in qn?qn.value:qn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return nc=a.slice(e,1<n?1-n:void 0)}function sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function mx(){return!1}function ar(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?No:mx,this.isPropagationStopped=mx,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=ar(ai),Vl=Ie({},ai,{view:0,detail:0}),kC=ar(Vl),sf,af,Ni,Cu=Ie({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(sf=e.screenX-Ni.screenX,af=e.screenY-Ni.screenY):af=sf=0,Ni=e),sf)},movementY:function(e){return"movementY"in e?e.movementY:af}}),hx=ar(Cu),PC=Ie({},Cu,{dataTransfer:0}),CC=ar(PC),AC=Ie({},Vl,{relatedTarget:0}),lf=ar(AC),OC=Ie({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),EC=ar(OC),TC=Ie({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MC=ar(TC),IC=Ie({},ai,{data:0}),px=ar(IC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LC[e])?!!t[e]:!1}function bp(){return RC}var FC=Ie({},Vl,{key:function(e){if(e.key){var t=DC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$C[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(e){return e.type==="keypress"?sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BC=ar(FC),UC=Ie({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=ar(UC),zC=Ie({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),WC=ar(zC),KC=Ie({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=ar(KC),HC=Ie({},Cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=ar(HC),YC=[9,13,27,32],wp=gn&&"CompositionEvent"in window,Hi=null;gn&&"documentMode"in document&&(Hi=document.documentMode);var GC=gn&&"TextEvent"in window&&!Hi,vj=gn&&(!wp||Hi&&8<Hi&&11>=Hi),xx=" ",vx=!1;function yj(e,t){switch(e){case"keyup":return YC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function JC(e,t){switch(e){case"compositionend":return bj(t);case"keypress":return t.which!==32?null:(vx=!0,xx);case"textInput":return e=t.data,e===xx&&vx?null:e;default:return null}}function XC(e,t){if(ya)return e==="compositionend"||!wp&&yj(e,t)?(e=xj(),nc=vp=qn=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vj&&t.locale!=="ko"?null:t.data;default:return null}}var QC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QC[e.type]:t==="textarea"}function wj(e,t,r,n){Qw(n),t=bc(t,"onChange"),0<t.length&&(r=new yp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vi=null,pl=null;function ZC(e){Tj(e,0)}function Au(e){var t=ja(e);if(qw(t))return e}function e4(e,t){if(e==="change")return t}var jj=!1;if(gn){var of;if(gn){var cf="oninput"in document;if(!cf){var bx=document.createElement("div");bx.setAttribute("oninput","return;"),cf=typeof bx.oninput=="function"}of=cf}else of=!1;jj=of&&(!document.documentMode||9<document.documentMode)}function wx(){Vi&&(Vi.detachEvent("onpropertychange",Nj),pl=Vi=null)}function Nj(e){if(e.propertyName==="value"&&Au(pl)){var t=[];wj(t,pl,e,mp(e)),rj(ZC,t)}}function t4(e,t,r){e==="focusin"?(wx(),Vi=t,pl=r,Vi.attachEvent("onpropertychange",Nj)):e==="focusout"&&wx()}function r4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(pl)}function n4(e,t){if(e==="click")return Au(t)}function s4(e,t){if(e==="input"||e==="change")return Au(t)}function a4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:a4;function gl(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sm.call(t,a)||!Lr(e[a],t[a]))return!1}return!0}function jx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nx(e,t){var r=jx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jx(r)}}function Sj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _j(){for(var e=window,t=mc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mc(e.document)}return t}function jp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i4(e){var t=_j(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sj(r.ownerDocument.documentElement,r)){if(n!==null&&jp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Nx(r,i);var l=Nx(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l4=gn&&"documentMode"in document&&11>=document.documentMode,ba=null,Nm=null,Yi=null,Sm=!1;function Sx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sm||ba==null||ba!==mc(n)||(n=ba,"selectionStart"in n&&jp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yi&&gl(Yi,n)||(Yi=n,n=bc(Nm,"onSelect"),0<n.length&&(t=new yp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ba)))}function So(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},uf={},kj={};gn&&(kj=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ou(e){if(uf[e])return uf[e];if(!wa[e])return e;var t=wa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kj)return uf[e]=t[r];return e}var Pj=Ou("animationend"),Cj=Ou("animationiteration"),Aj=Ou("animationstart"),Oj=Ou("transitionend"),Ej=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(e,t){Ej.set(e,t),ra(t,[e])}for(var df=0;df<_x.length;df++){var ff=_x[df],o4=ff.toLowerCase(),c4=ff[0].toUpperCase()+ff.slice(1);ds(o4,"on"+c4)}ds(Pj,"onAnimationEnd");ds(Cj,"onAnimationIteration");ds(Aj,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(Oj,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function kx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oC(n,t,void 0,e),e.currentTarget=null}function Tj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;kx(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;kx(a,o,d),i=c}}}if(pc)throw e=ym,pc=!1,ym=null,e}function ke(e,t){var r=t[Am];r===void 0&&(r=t[Am]=new Set);var n=e+"__bubble";r.has(n)||(Mj(t,e,2,!1),r.add(n))}function mf(e,t,r){var n=0;t&&(n|=4),Mj(r,e,n,t)}var _o="_reactListening"+Math.random().toString(36).slice(2);function xl(e){if(!e[_o]){e[_o]=!0,Bw.forEach(function(r){r!=="selectionchange"&&(u4.has(r)||mf(r,!1,e),mf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_o]||(t[_o]=!0,mf("selectionchange",!1,t))}}function Mj(e,t,r,n){switch(gj(t)){case 1:var a=SC;break;case 4:a=_C;break;default:a=xp}r=a.bind(null,t,r,e),a=void 0,!vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hf(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ts(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}rj(function(){var d=i,u=mp(r),f=[];e:{var m=Ej.get(e);if(m!==void 0){var h=yp,x=e;switch(e){case"keypress":if(sc(r)===0)break e;case"keydown":case"keyup":h=BC;break;case"focusin":x="focus",h=lf;break;case"focusout":x="blur",h=lf;break;case"beforeblur":case"afterblur":h=lf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=CC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=WC;break;case Pj:case Cj:case Aj:h=EC;break;case Oj:h=qC;break;case"scroll":h=kC;break;case"wheel":h=VC;break;case"copy":case"cut":case"paste":h=MC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gx}var g=(t&4)!==0,y=!g&&e==="scroll",p=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,b;v!==null;){b=v;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,p!==null&&(S=dl(v,p),S!=null&&g.push(vl(v,S,b)))),y)break;v=v.return}0<g.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==gm&&(x=r.relatedTarget||r.fromElement)&&(Ts(x)||x[xn]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?Ts(x):null,x!==null&&(y=na(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(g=hx,S="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=gx,S="onPointerLeave",p="onPointerEnter",v="pointer"),y=h==null?m:ja(h),b=x==null?m:ja(x),m=new g(S,v+"leave",h,r,u),m.target=y,m.relatedTarget=b,S=null,Ts(u)===d&&(g=new g(p,v+"enter",x,r,u),g.target=b,g.relatedTarget=y,S=g),y=S,h&&x)t:{for(g=h,p=x,v=0,b=g;b;b=ca(b))v++;for(b=0,S=p;S;S=ca(S))b++;for(;0<v-b;)g=ca(g),v--;for(;0<b-v;)p=ca(p),b--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=ca(g),p=ca(p)}g=null}else g=null;h!==null&&Px(f,m,h,g,!1),x!==null&&y!==null&&Px(f,y,x,g,!0)}}e:{if(m=d?ja(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=e4;else if(yx(m))if(jj)j=s4;else{j=r4;var N=t4}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=n4);if(j&&(j=j(e,d))){wj(f,j,r,u);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&dm(m,"number",m.value)}switch(N=d?ja(d):window,e){case"focusin":(yx(N)||N.contentEditable==="true")&&(ba=N,Nm=d,Yi=null);break;case"focusout":Yi=Nm=ba=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Sx(f,r,u);break;case"selectionchange":if(l4)break;case"keydown":case"keyup":Sx(f,r,u)}var _;if(wp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ya?yj(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(vj&&r.locale!=="ko"&&(ya||k!=="onCompositionStart"?k==="onCompositionEnd"&&ya&&(_=xj()):(qn=u,vp="value"in qn?qn.value:qn.textContent,ya=!0)),N=bc(d,k),0<N.length&&(k=new px(k,e,null,r,u),f.push({event:k,listeners:N}),_?k.data=_:(_=bj(r),_!==null&&(k.data=_)))),(_=GC?JC(e,r):XC(e,r))&&(d=bc(d,"onBeforeInput"),0<d.length&&(u=new px("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}Tj(f,t)})}function vl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=dl(e,r),i!=null&&n.unshift(vl(e,i,a)),i=dl(e,t),i!=null&&n.push(vl(e,i,a))),e=e.return}return n}function ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Px(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=dl(r,i),c!=null&&l.unshift(vl(r,c,o))):a||(c=dl(r,i),c!=null&&l.push(vl(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var d4=/\r\n?/g,f4=/\u0000|\uFFFD/g;function Cx(e){return(typeof e=="string"?e:""+e).replace(d4,`
`).replace(f4,"")}function ko(e,t,r){if(t=Cx(t),Cx(e)!==t&&r)throw Error($(425))}function wc(){}var _m=null,km=null;function Pm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cm=typeof setTimeout=="function"?setTimeout:void 0,m4=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(e){return Ax.resolve(null).then(e).catch(p4)}:Cm;function p4(e){setTimeout(function(){throw e})}function pf(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),hl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hl(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ox(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),qr="__reactFiber$"+ii,yl="__reactProps$"+ii,xn="__reactContainer$"+ii,Am="__reactEvents$"+ii,g4="__reactListeners$"+ii,x4="__reactHandles$"+ii;function Ts(e){var t=e[qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ox(e);e!==null;){if(r=e[qr])return r;e=Ox(e)}return t}e=r,r=e.parentNode}return null}function Yl(e){return e=e[qr]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Eu(e){return e[yl]||null}var Om=[],Na=-1;function fs(e){return{current:e}}function Ce(e){0>Na||(e.current=Om[Na],Om[Na]=null,Na--)}function we(e,t){Na++,Om[Na]=e.current,e.current=t}var is={},gt=fs(is),Mt=fs(!1),Hs=is;function Ba(e,t){var r=e.type.contextTypes;if(!r)return is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function It(e){return e=e.childContextTypes,e!=null}function jc(){Ce(Mt),Ce(gt)}function Ex(e,t,r){if(gt.current!==is)throw Error($(168));we(gt,t),we(Mt,r)}function Ij(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($(108,tC(e)||"Unknown",a));return Ie({},r,n)}function Nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,Hs=gt.current,we(gt,e),we(Mt,Mt.current),!0}function Tx(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Ij(e,t,Hs),n.__reactInternalMemoizedMergedChildContext=e,Ce(Mt),Ce(gt),we(gt,e)):Ce(Mt),we(Mt,r)}var ln=null,Tu=!1,gf=!1;function Dj(e){ln===null?ln=[e]:ln.push(e)}function v4(e){Tu=!0,Dj(e)}function ms(){if(!gf&&ln!==null){gf=!0;var e=0,t=de;try{var r=ln;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,Tu=!1}catch(a){throw ln!==null&&(ln=ln.slice(e+1)),ij(hp,ms),a}finally{de=t,gf=!1}}return null}var Sa=[],_a=0,Sc=null,_c=0,dr=[],fr=0,Vs=null,un=1,dn="";function _s(e,t){Sa[_a++]=_c,Sa[_a++]=Sc,Sc=e,_c=t}function $j(e,t,r){dr[fr++]=un,dr[fr++]=dn,dr[fr++]=Vs,Vs=e;var n=un;e=dn;var a=32-Dr(n)-1;n&=~(1<<a),r+=1;var i=32-Dr(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,un=1<<32-Dr(t)+a|r<<a|n,dn=i+e}else un=1<<i|r<<a|n,dn=e}function Np(e){e.return!==null&&(_s(e,1),$j(e,1,0))}function Sp(e){for(;e===Sc;)Sc=Sa[--_a],Sa[_a]=null,_c=Sa[--_a],Sa[_a]=null;for(;e===Vs;)Vs=dr[--fr],dr[fr]=null,dn=dr[--fr],dr[fr]=null,un=dr[--fr],dr[fr]=null}var Yt=null,Vt=null,Oe=!1,Or=null;function Lj(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Vt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vs!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yt=e,Vt=null,!0):!1;default:return!1}}function Em(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tm(e){if(Oe){var t=Vt;if(t){var r=t;if(!Mx(e,t)){if(Em(e))throw Error($(418));t=Jn(r.nextSibling);var n=Yt;t&&Mx(e,t)?Lj(n,r):(e.flags=e.flags&-4097|2,Oe=!1,Yt=e)}}else{if(Em(e))throw Error($(418));e.flags=e.flags&-4097|2,Oe=!1,Yt=e}}}function Ix(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Po(e){if(e!==Yt)return!1;if(!Oe)return Ix(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pm(e.type,e.memoizedProps)),t&&(t=Vt)){if(Em(e))throw Rj(),Error($(418));for(;t;)Lj(e,t),t=Jn(t.nextSibling)}if(Ix(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vt=Jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Yt?Jn(e.stateNode.nextSibling):null;return!0}function Rj(){for(var e=Vt;e;)e=Jn(e.nextSibling)}function Ua(){Vt=Yt=null,Oe=!1}function _p(e){Or===null?Or=[e]:Or.push(e)}var y4=kn.ReactCurrentBatchConfig;function Si(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dx(e){var t=e._init;return t(e._payload)}function Fj(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function a(p,v){return p=es(p,v),p.index=0,p.sibling=null,p}function i(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,v,b,S){return v===null||v.tag!==6?(v=Nf(b,p.mode,S),v.return=p,v):(v=a(v,b),v.return=p,v)}function c(p,v,b,S){var j=b.type;return j===va?u(p,v,b.props.children,S,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ln&&Dx(j)===v.type)?(S=a(v,b.props),S.ref=Si(p,v,b),S.return=p,S):(S=dc(b.type,b.key,b.props,null,p.mode,S),S.ref=Si(p,v,b),S.return=p,S)}function d(p,v,b,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Sf(b,p.mode,S),v.return=p,v):(v=a(v,b.children||[]),v.return=p,v)}function u(p,v,b,S,j){return v===null||v.tag!==7?(v=Us(b,p.mode,S,j),v.return=p,v):(v=a(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nf(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xo:return b=dc(v.type,v.key,v.props,null,p.mode,b),b.ref=Si(p,null,v),b.return=p,b;case xa:return v=Sf(v,p.mode,b),v.return=p,v;case Ln:var S=v._init;return f(p,S(v._payload),b)}if(Ri(v)||yi(v))return v=Us(v,p.mode,b,null),v.return=p,v;Co(p,v)}return null}function m(p,v,b,S){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(p,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xo:return b.key===j?c(p,v,b,S):null;case xa:return b.key===j?d(p,v,b,S):null;case Ln:return j=b._init,m(p,v,j(b._payload),S)}if(Ri(b)||yi(b))return j!==null?null:u(p,v,b,S,null);Co(p,b)}return null}function h(p,v,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(b)||null,o(v,p,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xo:return p=p.get(S.key===null?b:S.key)||null,c(v,p,S,j);case xa:return p=p.get(S.key===null?b:S.key)||null,d(v,p,S,j);case Ln:var N=S._init;return h(p,v,b,N(S._payload),j)}if(Ri(S)||yi(S))return p=p.get(b)||null,u(v,p,S,j,null);Co(v,S)}return null}function x(p,v,b,S){for(var j=null,N=null,_=v,k=v=0,A=null;_!==null&&k<b.length;k++){_.index>k?(A=_,_=null):A=_.sibling;var O=m(p,_,b[k],S);if(O===null){_===null&&(_=A);break}e&&_&&O.alternate===null&&t(p,_),v=i(O,v,k),N===null?j=O:N.sibling=O,N=O,_=A}if(k===b.length)return r(p,_),Oe&&_s(p,k),j;if(_===null){for(;k<b.length;k++)_=f(p,b[k],S),_!==null&&(v=i(_,v,k),N===null?j=_:N.sibling=_,N=_);return Oe&&_s(p,k),j}for(_=n(p,_);k<b.length;k++)A=h(_,p,k,b[k],S),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?k:A.key),v=i(A,v,k),N===null?j=A:N.sibling=A,N=A);return e&&_.forEach(function(P){return t(p,P)}),Oe&&_s(p,k),j}function g(p,v,b,S){var j=yi(b);if(typeof j!="function")throw Error($(150));if(b=j.call(b),b==null)throw Error($(151));for(var N=j=null,_=v,k=v=0,A=null,O=b.next();_!==null&&!O.done;k++,O=b.next()){_.index>k?(A=_,_=null):A=_.sibling;var P=m(p,_,O.value,S);if(P===null){_===null&&(_=A);break}e&&_&&P.alternate===null&&t(p,_),v=i(P,v,k),N===null?j=P:N.sibling=P,N=P,_=A}if(O.done)return r(p,_),Oe&&_s(p,k),j;if(_===null){for(;!O.done;k++,O=b.next())O=f(p,O.value,S),O!==null&&(v=i(O,v,k),N===null?j=O:N.sibling=O,N=O);return Oe&&_s(p,k),j}for(_=n(p,_);!O.done;k++,O=b.next())O=h(_,p,k,O.value,S),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?k:O.key),v=i(O,v,k),N===null?j=O:N.sibling=O,N=O);return e&&_.forEach(function(C){return t(p,C)}),Oe&&_s(p,k),j}function y(p,v,b,S){if(typeof b=="object"&&b!==null&&b.type===va&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xo:e:{for(var j=b.key,N=v;N!==null;){if(N.key===j){if(j=b.type,j===va){if(N.tag===7){r(p,N.sibling),v=a(N,b.props.children),v.return=p,p=v;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ln&&Dx(j)===N.type){r(p,N.sibling),v=a(N,b.props),v.ref=Si(p,N,b),v.return=p,p=v;break e}r(p,N);break}else t(p,N);N=N.sibling}b.type===va?(v=Us(b.props.children,p.mode,S,b.key),v.return=p,p=v):(S=dc(b.type,b.key,b.props,null,p.mode,S),S.ref=Si(p,v,b),S.return=p,p=S)}return l(p);case xa:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=a(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=Sf(b,p.mode,S),v.return=p,p=v}return l(p);case Ln:return N=b._init,y(p,v,N(b._payload),S)}if(Ri(b))return x(p,v,b,S);if(yi(b))return g(p,v,b,S);Co(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=a(v,b),v.return=p,p=v):(r(p,v),v=Nf(b,p.mode,S),v.return=p,p=v),l(p)):r(p,v)}return y}var za=Fj(!0),Bj=Fj(!1),kc=fs(null),Pc=null,ka=null,kp=null;function Pp(){kp=ka=Pc=null}function Cp(e){var t=kc.current;Ce(kc),e._currentValue=t}function Mm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Da(e,t){Pc=e,kp=ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(kp!==e)if(e={context:e,memoizedValue:t,next:null},ka===null){if(Pc===null)throw Error($(308));ka=e,Pc.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ms=null;function Ap(e){Ms===null?Ms=[e]:Ms.push(e)}function Uj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ap(t)):(r.next=a.next,a.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rn=!1;function Op(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vn(e,r)}return a=n.interleaved,a===null?(t.next=t,Ap(n)):(t.next=a.next,a.next=t),n.interleaved=t,vn(e,r)}function ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pp(e,r)}}function $x(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cc(e,t,r,n){var a=e.updateQueue;Rn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,u=d=c=null,o=i;do{var m=o.lane,h=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,g=o;switch(m=t,h=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=Ie({},f,m);break e;case 2:Rn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Gs|=l,e.lanes=l,e.memoizedState=f}}function Lx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error($(191,a));a.call(n)}}}var Gl={},Yr=fs(Gl),bl=fs(Gl),wl=fs(Gl);function Is(e){if(e===Gl)throw Error($(174));return e}function Ep(e,t){switch(we(wl,t),we(bl,e),we(Yr,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mm(t,e)}Ce(Yr),we(Yr,t)}function Wa(){Ce(Yr),Ce(bl),Ce(wl)}function Wj(e){Is(wl.current);var t=Is(Yr.current),r=mm(t,e.type);t!==r&&(we(bl,e),we(Yr,r))}function Tp(e){bl.current===e&&(Ce(Yr),Ce(bl))}var Te=fs(0);function Ac(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xf=[];function Mp(){for(var e=0;e<xf.length;e++)xf[e]._workInProgressVersionPrimary=null;xf.length=0}var ic=kn.ReactCurrentDispatcher,vf=kn.ReactCurrentBatchConfig,Ys=0,Me=null,We=null,Ge=null,Oc=!1,Gi=!1,jl=0,b4=0;function ot(){throw Error($(321))}function Ip(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function Dp(e,t,r,n,a,i){if(Ys=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ic.current=e===null||e.memoizedState===null?S4:_4,e=r(n,a),Gi){i=0;do{if(Gi=!1,jl=0,25<=i)throw Error($(301));i+=1,Ge=We=null,t.updateQueue=null,ic.current=k4,e=r(n,a)}while(Gi)}if(ic.current=Ec,t=We!==null&&We.next!==null,Ys=0,Ge=We=Me=null,Oc=!1,t)throw Error($(300));return e}function $p(){var e=jl!==0;return jl=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Me.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function yr(){if(We===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ge===null?Me.memoizedState:Ge.next;if(t!==null)Ge=t,We=e;else{if(e===null)throw Error($(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Me.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Nl(e,t){return typeof t=="function"?t(e):t}function yf(e){var t=yr(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=We,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Ys&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,Me.lanes|=u,Gs|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Lr(n,t.memoizedState)||(Ot=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Me.lanes|=i,Gs|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bf(e){var t=yr(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Lr(i,t.memoizedState)||(Ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Kj(){}function qj(e,t){var r=Me,n=yr(),a=t(),i=!Lr(n.memoizedState,a);if(i&&(n.memoizedState=a,Ot=!0),n=n.queue,Lp(Yj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,Sl(9,Vj.bind(null,r,n,a,t),void 0,null),Je===null)throw Error($(349));Ys&30||Hj(r,t,a)}return a}function Hj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vj(e,t,r,n){t.value=r,t.getSnapshot=n,Gj(t)&&Jj(e)}function Yj(e,t,r){return r(function(){Gj(t)&&Jj(e)})}function Gj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function Jj(e){var t=vn(e,1);t!==null&&$r(t,e,1,-1)}function Rx(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:e},t.queue=e,e=e.dispatch=N4.bind(null,Me,e),[t.memoizedState,e]}function Sl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xj(){return yr().memoizedState}function lc(e,t,r,n){var a=Kr();Me.flags|=e,a.memoizedState=Sl(1|t,r,void 0,n===void 0?null:n)}function Mu(e,t,r,n){var a=yr();n=n===void 0?null:n;var i=void 0;if(We!==null){var l=We.memoizedState;if(i=l.destroy,n!==null&&Ip(n,l.deps)){a.memoizedState=Sl(t,r,i,n);return}}Me.flags|=e,a.memoizedState=Sl(1|t,r,i,n)}function Fx(e,t){return lc(8390656,8,e,t)}function Lp(e,t){return Mu(2048,8,e,t)}function Qj(e,t){return Mu(4,2,e,t)}function Zj(e,t){return Mu(4,4,e,t)}function e1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t1(e,t,r){return r=r!=null?r.concat([e]):null,Mu(4,4,e1.bind(null,t,e),r)}function Rp(){}function r1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ip(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function n1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ip(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function s1(e,t,r){return Ys&21?(Lr(r,t)||(r=cj(),Me.lanes|=r,Gs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r)}function w4(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=vf.transition;vf.transition={};try{e(!1),t()}finally{de=r,vf.transition=n}}function a1(){return yr().memoizedState}function j4(e,t,r){var n=Zn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i1(e))l1(t,r);else if(r=Uj(e,t,r,n),r!==null){var a=bt();$r(r,e,n,a),o1(r,t,n)}}function N4(e,t,r){var n=Zn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i1(e))l1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Lr(o,l)){var c=t.interleaved;c===null?(a.next=a,Ap(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Uj(e,t,a,n),r!==null&&(a=bt(),$r(r,e,n,a),o1(r,t,n))}}function i1(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function l1(e,t){Gi=Oc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pp(e,r)}}var Ec={readContext:vr,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},S4={readContext:vr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:Fx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lc(4194308,4,e1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lc(4194308,4,e,t)},useInsertionEffect:function(e,t){return lc(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j4.bind(null,Me,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:Rx,useDebugValue:Rp,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=Rx(!1),t=e[0];return e=w4.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Me,a=Kr();if(Oe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Je===null)throw Error($(349));Ys&30||Hj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Fx(Yj.bind(null,n,i,e),[e]),n.flags|=2048,Sl(9,Vj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kr(),t=Je.identifierPrefix;if(Oe){var r=dn,n=un;r=(n&~(1<<32-Dr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=b4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_4={readContext:vr,useCallback:r1,useContext:vr,useEffect:Lp,useImperativeHandle:t1,useInsertionEffect:Qj,useLayoutEffect:Zj,useMemo:n1,useReducer:yf,useRef:Xj,useState:function(){return yf(Nl)},useDebugValue:Rp,useDeferredValue:function(e){var t=yr();return s1(t,We.memoizedState,e)},useTransition:function(){var e=yf(Nl)[0],t=yr().memoizedState;return[e,t]},useMutableSource:Kj,useSyncExternalStore:qj,useId:a1,unstable_isNewReconciler:!1},k4={readContext:vr,useCallback:r1,useContext:vr,useEffect:Lp,useImperativeHandle:t1,useInsertionEffect:Qj,useLayoutEffect:Zj,useMemo:n1,useReducer:bf,useRef:Xj,useState:function(){return bf(Nl)},useDebugValue:Rp,useDeferredValue:function(e){var t=yr();return We===null?t.memoizedState=e:s1(t,We.memoizedState,e)},useTransition:function(){var e=bf(Nl)[0],t=yr().memoizedState;return[e,t]},useMutableSource:Kj,useSyncExternalStore:qj,useId:a1,unstable_isNewReconciler:!1};function Pr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Im(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Iu={isMounted:function(e){return(e=e._reactInternals)?na(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bt(),a=Zn(e),i=hn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Xn(e,i,a),t!==null&&($r(t,e,a,n),ac(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bt(),a=Zn(e),i=hn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xn(e,i,a),t!==null&&($r(t,e,a,n),ac(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bt(),n=Zn(e),a=hn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xn(e,a,n),t!==null&&($r(t,e,n,r),ac(t,e,n))}};function Bx(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!gl(r,n)||!gl(a,i):!0}function c1(e,t,r){var n=!1,a=is,i=t.contextType;return typeof i=="object"&&i!==null?i=vr(i):(a=It(t)?Hs:gt.current,n=t.contextTypes,i=(n=n!=null)?Ba(e,a):is),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ux(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Iu.enqueueReplaceState(t,t.state,null)}function Dm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Op(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vr(i):(i=It(t)?Hs:gt.current,a.context=Ba(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Im(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Iu.enqueueReplaceState(a,a.state,null),Cc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ka(e,t){try{var r="",n=t;do r+=eC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $m(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var P4=typeof WeakMap=="function"?WeakMap:Map;function u1(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mc||(Mc=!0,Hm=n),$m(e,t)},r}function d1(e,t,r){r=hn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$m(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$m(e,t),typeof n!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function zx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new P4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=U4.bind(null,e,t,r),t.then(e,e))}function Wx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e)}var C4=kn.ReactCurrentOwner,Ot=!1;function vt(e,t,r,n){t.child=e===null?Bj(t,null,r,n):za(t,e.child,r,n)}function qx(e,t,r,n,a){r=r.render;var i=t.ref;return Da(t,a),n=Dp(e,t,r,n,i,a),r=$p(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yn(e,t,a)):(Oe&&r&&Np(t),t.flags|=1,vt(e,t,n,a),t.child)}function Hx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Hp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,f1(e,t,i,n,a)):(e=dc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(l,n)&&e.ref===t.ref)return yn(e,t,a)}return t.flags|=1,e=es(i,n),e.ref=t.ref,e.return=t,t.child=e}function f1(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(gl(i,n)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,yn(e,t,a)}return Lm(e,t,r,n,a)}function m1(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ca,zt),zt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ca,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,we(Ca,zt),zt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,we(Ca,zt),zt|=n;return vt(e,t,a,r),t.child}function h1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lm(e,t,r,n,a){var i=It(r)?Hs:gt.current;return i=Ba(t,i),Da(t,a),r=Dp(e,t,r,n,i,a),n=$p(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yn(e,t,a)):(Oe&&n&&Np(t),t.flags|=1,vt(e,t,r,a),t.child)}function Vx(e,t,r,n,a){if(It(r)){var i=!0;Nc(t)}else i=!1;if(Da(t,a),t.stateNode===null)oc(e,t),c1(t,r,n),Dm(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=vr(d):(d=It(r)?Hs:gt.current,d=Ba(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Ux(t,l,n,d),Rn=!1;var m=t.memoizedState;l.state=m,Cc(t,n,l,a),c=t.memoizedState,o!==n||m!==c||Mt.current||Rn?(typeof u=="function"&&(Im(t,r,u,n),c=t.memoizedState),(o=Rn||Bx(t,r,o,n,m,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,zj(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Pr(t.type,o),l.props=d,f=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=It(r)?Hs:gt.current,c=Ba(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||m!==c)&&Ux(t,l,n,c),Rn=!1,m=t.memoizedState,l.state=m,Cc(t,n,l,a);var x=t.memoizedState;o!==f||m!==x||Mt.current||Rn?(typeof h=="function"&&(Im(t,r,h,n),x=t.memoizedState),(d=Rn||Bx(t,r,d,n,m,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Rm(e,t,r,n,i,a)}function Rm(e,t,r,n,a,i){h1(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Tx(t,r,!1),yn(e,t,i);n=t.stateNode,C4.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=za(t,e.child,null,i),t.child=za(t,null,o,i)):vt(e,t,o,i),t.memoizedState=n.state,a&&Tx(t,r,!0),t.child}function p1(e){var t=e.stateNode;t.pendingContext?Ex(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ex(e,t.context,!1),Ep(e,t.containerInfo)}function Yx(e,t,r,n,a){return Ua(),_p(a),t.flags|=256,vt(e,t,r,n),t.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function g1(e,t,r){var n=t.pendingProps,a=Te.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),we(Te,a&1),e===null)return Tm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Lu(l,n,0,null),e=Us(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bm(r),t.memoizedState=Fm,e):Fp(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return A4(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=es(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=es(o,i):(i=Us(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Bm(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Fm,n}return i=e.child,e=i.sibling,n=es(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fp(e,t){return t=Lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,r,n){return n!==null&&_p(n),za(t,e.child,null,r),e=Fp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A4(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=wf(Error($(422))),Ao(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Lu({mode:"visible",children:n.children},a,0,null),i=Us(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&za(t,e.child,null,l),t.child.memoizedState=Bm(l),t.memoizedState=Fm,i);if(!(t.mode&1))return Ao(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error($(419)),n=wf(i,n,void 0),Ao(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ot||o){if(n=Je,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,vn(e,a),$r(n,e,a,-1))}return qp(),n=wf(Error($(421))),Ao(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=z4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Vt=Jn(a.nextSibling),Yt=t,Oe=!0,Or=null,e!==null&&(dr[fr++]=un,dr[fr++]=dn,dr[fr++]=Vs,un=e.id,dn=e.overflow,Vs=t),t=Fp(t,n.children),t.flags|=4096,t)}function Gx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mm(e.return,t,r)}function jf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function x1(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vt(e,t,n.children,r),n=Te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gx(e,r,t);else if(e.tag===19)Gx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Te,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ac(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),jf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ac(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}jf(t,!0,r,null,i);break;case"together":jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function O4(e,t,r){switch(t.tag){case 3:p1(t),Ua();break;case 5:Wj(t);break;case 1:It(t.type)&&Nc(t);break;case 4:Ep(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;we(kc,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?g1(e,t,r):(we(Te,Te.current&1),e=yn(e,t,r),e!==null?e.sibling:null);we(Te,Te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return x1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),we(Te,Te.current),n)break;return null;case 22:case 23:return t.lanes=0,m1(e,t,r)}return yn(e,t,r)}var v1,Um,y1,b1;v1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Um=function(){};y1=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Is(Yr.current);var i=null;switch(r){case"input":a=cm(e,a),n=cm(e,n),i=[];break;case"select":a=Ie({},a,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":a=fm(e,a),n=fm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wc)}hm(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};b1=function(e,t,r,n){r!==n&&(t.flags|=4)};function _i(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E4(e,t,r){var n=t.pendingProps;switch(Sp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return It(t.type)&&jc(),ct(t),null;case 3:return n=t.stateNode,Wa(),Ce(Mt),Ce(gt),Mp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(Gm(Or),Or=null))),Um(e,t),ct(t),null;case 5:Tp(t);var a=Is(wl.current);if(r=t.type,e!==null&&t.stateNode!=null)y1(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return ct(t),null}if(e=Is(Yr.current),Po(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[qr]=t,n[yl]=i,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<Bi.length;a++)ke(Bi[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":sx(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":ix(n,i),ke("invalid",n)}hm(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ko(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ko(n.textContent,o,e),a=["children",""+o]):cl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ke("scroll",n)}switch(r){case"input":vo(n),ax(n,i,!0);break;case"textarea":vo(n),lx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[qr]=t,e[yl]=n,v1(e,t,!1,!1),t.stateNode=e;e:{switch(l=pm(r,n),r){case"dialog":ke("cancel",e),ke("close",e),a=n;break;case"iframe":case"object":case"embed":ke("load",e),a=n;break;case"video":case"audio":for(a=0;a<Bi.length;a++)ke(Bi[a],e);a=n;break;case"source":ke("error",e),a=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),a=n;break;case"details":ke("toggle",e),a=n;break;case"input":sx(e,n),a=cm(e,n),ke("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ie({},n,{value:void 0}),ke("invalid",e);break;case"textarea":ix(e,n),a=fm(e,n),ke("invalid",e);break;default:a=n}hm(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Xw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ul(e,c):typeof c=="number"&&ul(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&cp(e,i,c,l))}switch(r){case"input":vo(e),ax(e,n,!1);break;case"textarea":vo(e),lx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+as(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ea(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ea(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)b1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=Is(wl.current),Is(Yr.current),Po(t)){if(n=t.stateNode,r=t.memoizedProps,n[qr]=t,(i=n.nodeValue!==r)&&(e=Yt,e!==null))switch(e.tag){case 3:ko(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ko(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qr]=t,t.stateNode=n}return ct(t),null;case 13:if(Ce(Te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Vt!==null&&t.mode&1&&!(t.flags&128))Rj(),Ua(),t.flags|=98560,i=!1;else if(i=Po(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[qr]=t}else Ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),i=!1}else Or!==null&&(Gm(Or),Or=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ke===0&&(Ke=3):qp())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Wa(),Um(e,t),e===null&&xl(t.stateNode.containerInfo),ct(t),null;case 10:return Cp(t.type._context),ct(t),null;case 17:return It(t.type)&&jc(),ct(t),null;case 19:if(Ce(Te),i=t.memoizedState,i===null)return ct(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)_i(i,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ac(e),l!==null){for(t.flags|=128,_i(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>qa&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ac(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Oe)return ct(t),null}else 2*Le()-i.renderingStartTime>qa&&r!==1073741824&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,r=Te.current,we(Te,n?r&1|2:r&1),t):(ct(t),null);case 22:case 23:return Kp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function T4(e,t){switch(Sp(t),t.tag){case 1:return It(t.type)&&jc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wa(),Ce(Mt),Ce(gt),Mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tp(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return Wa(),null;case 10:return Cp(t.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Oo=!1,ft=!1,M4=typeof WeakSet=="function"?WeakSet:Set,W=null;function Pa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function zm(e,t,r){try{r()}catch(n){$e(e,t,n)}}var Jx=!1;function I4(e,t){if(_m=vc,e=_j(),jp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(o=l),m===i&&++u===n&&(c=l),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(km={focusedElem:e,selectionRange:r},vc=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pr(t.type,g),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){$e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=Jx,Jx=!1,x}function Ji(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&zm(t,r,i)}a=a.next}while(a!==n)}}function Du(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w1(e){var t=e.alternate;t!==null&&(e.alternate=null,w1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qr],delete t[yl],delete t[Am],delete t[g4],delete t[x4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j1(e){return e.tag===5||e.tag===3||e.tag===4}function Xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Km(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wc));else if(n!==4&&(e=e.child,e!==null))for(Km(e,t,r),e=e.sibling;e!==null;)Km(e,t,r),e=e.sibling}function qm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qm(e,t,r),e=e.sibling;e!==null;)qm(e,t,r),e=e.sibling}var rt=null,Cr=!1;function Tn(e,t,r){for(r=r.child;r!==null;)N1(e,t,r),r=r.sibling}function N1(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Pu,r)}catch{}switch(r.tag){case 5:ft||Pa(r,t);case 6:var n=rt,a=Cr;rt=null,Tn(e,t,r),rt=n,Cr=a,rt!==null&&(Cr?(e=rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(Cr?(e=rt,r=r.stateNode,e.nodeType===8?pf(e.parentNode,r):e.nodeType===1&&pf(e,r),hl(e)):pf(rt,r.stateNode));break;case 4:n=rt,a=Cr,rt=r.stateNode.containerInfo,Cr=!0,Tn(e,t,r),rt=n,Cr=a;break;case 0:case 11:case 14:case 15:if(!ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&zm(r,t,l),a=a.next}while(a!==n)}Tn(e,t,r);break;case 1:if(!ft&&(Pa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){$e(r,t,o)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(ft=(n=ft)||r.memoizedState!==null,Tn(e,t,r),ft=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function Qx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new M4),t.forEach(function(n){var a=W4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,Cr=!1;break e;case 3:rt=o.stateNode.containerInfo,Cr=!0;break e;case 4:rt=o.stateNode.containerInfo,Cr=!0;break e}o=o.return}if(rt===null)throw Error($(160));N1(i,l,a),rt=null,Cr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){$e(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S1(t,e),t=t.sibling}function S1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(t,e),Wr(e),n&4){try{Ji(3,e,e.return),Du(3,e)}catch(g){$e(e,e.return,g)}try{Ji(5,e,e.return)}catch(g){$e(e,e.return,g)}}break;case 1:_r(t,e),Wr(e),n&512&&r!==null&&Pa(r,r.return);break;case 5:if(_r(t,e),Wr(e),n&512&&r!==null&&Pa(r,r.return),e.flags&32){var a=e.stateNode;try{ul(a,"")}catch(g){$e(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Hw(a,i),pm(o,l);var d=pm(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?Xw(a,f):u==="dangerouslySetInnerHTML"?Gw(a,f):u==="children"?ul(a,f):cp(a,u,f,d)}switch(o){case"input":um(a,i);break;case"textarea":Vw(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ea(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ea(a,!!i.multiple,i.defaultValue,!0):Ea(a,!!i.multiple,i.multiple?[]:"",!1))}a[yl]=i}catch(g){$e(e,e.return,g)}}break;case 6:if(_r(t,e),Wr(e),n&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){$e(e,e.return,g)}}break;case 3:if(_r(t,e),Wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hl(t.containerInfo)}catch(g){$e(e,e.return,g)}break;case 4:_r(t,e),Wr(e);break;case 13:_r(t,e),Wr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(zp=Le())),n&4&&Qx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(d=ft)||u,_r(t,e),ft=d):_r(t,e),Wr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(f=W=u;W!==null;){switch(m=W,h=m.child,m.tag){case 0:case 11:case 14:case 15:Ji(4,m,m.return);break;case 1:Pa(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){$e(n,r,g)}}break;case 5:Pa(m,m.return);break;case 22:if(m.memoizedState!==null){ev(f);continue}}h!==null?(h.return=m,W=h):ev(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Jw("display",l))}catch(g){$e(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){$e(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_r(t,e),Wr(e),n&4&&Qx(e);break;case 21:break;default:_r(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(j1(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ul(a,""),n.flags&=-33);var i=Xx(e);qm(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Xx(e);Km(e,o,l);break;default:throw Error($(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D4(e,t,r){W=e,_1(e)}function _1(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var a=W,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Oo;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||ft;o=Oo;var d=ft;if(Oo=l,(ft=c)&&!d)for(W=a;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?tv(a):c!==null?(c.return=l,W=c):tv(a);for(;i!==null;)W=i,_1(i),i=i.sibling;W=a,Oo=o,ft=d}Zx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,W=i):Zx(e)}}function Zx(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||Du(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ft)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Lx(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lx(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&hl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ft||t.flags&512&&Wm(t)}catch(m){$e(t,t.return,m)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function ev(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function tv(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Du(4,t)}catch(c){$e(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$e(t,a,c)}}var i=t.return;try{Wm(t)}catch(c){$e(t,i,c)}break;case 5:var l=t.return;try{Wm(t)}catch(c){$e(t,l,c)}}}catch(c){$e(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var $4=Math.ceil,Tc=kn.ReactCurrentDispatcher,Bp=kn.ReactCurrentOwner,gr=kn.ReactCurrentBatchConfig,ae=0,Je=null,Be=null,at=0,zt=0,Ca=fs(0),Ke=0,_l=null,Gs=0,$u=0,Up=0,Xi=null,Ct=null,zp=0,qa=1/0,sn=null,Mc=!1,Hm=null,Qn=null,Eo=!1,Hn=null,Ic=0,Qi=0,Vm=null,cc=-1,uc=0;function bt(){return ae&6?Le():cc!==-1?cc:cc=Le()}function Zn(e){return e.mode&1?ae&2&&at!==0?at&-at:y4.transition!==null?(uc===0&&(uc=cj()),uc):(e=de,e!==0||(e=window.event,e=e===void 0?16:gj(e.type)),e):1}function $r(e,t,r,n){if(50<Qi)throw Qi=0,Vm=null,Error($(185));Hl(e,r,n),(!(ae&2)||e!==Je)&&(e===Je&&(!(ae&2)&&($u|=r),Ke===4&&zn(e,at)),Dt(e,n),r===1&&ae===0&&!(t.mode&1)&&(qa=Le()+500,Tu&&ms()))}function Dt(e,t){var r=e.callbackNode;yC(e,t);var n=xc(e,e===Je?at:0);if(n===0)r!==null&&ux(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ux(r),t===1)e.tag===0?v4(rv.bind(null,e)):Dj(rv.bind(null,e)),h4(function(){!(ae&6)&&ms()}),r=null;else{switch(uj(n)){case 1:r=hp;break;case 4:r=lj;break;case 16:r=gc;break;case 536870912:r=oj;break;default:r=gc}r=M1(r,k1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k1(e,t){if(cc=-1,uc=0,ae&6)throw Error($(327));var r=e.callbackNode;if($a()&&e.callbackNode!==r)return null;var n=xc(e,e===Je?at:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Dc(e,n);else{t=n;var a=ae;ae|=2;var i=C1();(Je!==e||at!==t)&&(sn=null,qa=Le()+500,Bs(e,t));do try{F4();break}catch(o){P1(e,o)}while(!0);Pp(),Tc.current=i,ae=a,Be!==null?t=0:(Je=null,at=0,t=Ke)}if(t!==0){if(t===2&&(a=bm(e),a!==0&&(n=a,t=Ym(e,a))),t===1)throw r=_l,Bs(e,0),zn(e,n),Dt(e,Le()),r;if(t===6)zn(e,n);else{if(a=e.current.alternate,!(n&30)&&!L4(a)&&(t=Dc(e,n),t===2&&(i=bm(e),i!==0&&(n=i,t=Ym(e,i))),t===1))throw r=_l,Bs(e,0),zn(e,n),Dt(e,Le()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:ks(e,Ct,sn);break;case 3:if(zn(e,n),(n&130023424)===n&&(t=zp+500-Le(),10<t)){if(xc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){bt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cm(ks.bind(null,e,Ct,sn),t);break}ks(e,Ct,sn);break;case 4:if(zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Dr(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$4(n/1960))-n,10<n){e.timeoutHandle=Cm(ks.bind(null,e,Ct,sn),n);break}ks(e,Ct,sn);break;case 5:ks(e,Ct,sn);break;default:throw Error($(329))}}}return Dt(e,Le()),e.callbackNode===r?k1.bind(null,e):null}function Ym(e,t){var r=Xi;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=Dc(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&Gm(t)),e}function Gm(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function L4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Lr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Up,t&=~$u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dr(t),n=1<<r;e[r]=-1,t&=~n}}function rv(e){if(ae&6)throw Error($(327));$a();var t=xc(e,0);if(!(t&1))return Dt(e,Le()),null;var r=Dc(e,t);if(e.tag!==0&&r===2){var n=bm(e);n!==0&&(t=n,r=Ym(e,n))}if(r===1)throw r=_l,Bs(e,0),zn(e,t),Dt(e,Le()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ks(e,Ct,sn),Dt(e,Le()),null}function Wp(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(qa=Le()+500,Tu&&ms())}}function Js(e){Hn!==null&&Hn.tag===0&&!(ae&6)&&$a();var t=ae;ae|=1;var r=gr.transition,n=de;try{if(gr.transition=null,de=1,e)return e()}finally{de=n,gr.transition=r,ae=t,!(ae&6)&&ms()}}function Kp(){zt=Ca.current,Ce(Ca)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,m4(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(Sp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jc();break;case 3:Wa(),Ce(Mt),Ce(gt),Mp();break;case 5:Tp(n);break;case 4:Wa();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:Cp(n.type._context);break;case 22:case 23:Kp()}r=r.return}if(Je=e,Be=e=es(e.current,null),at=zt=t,Ke=0,_l=null,Up=$u=Gs=0,Ct=Xi=null,Ms!==null){for(t=0;t<Ms.length;t++)if(r=Ms[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Ms=null}return e}function P1(e,t){do{var r=Be;try{if(Pp(),ic.current=Ec,Oc){for(var n=Me.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Oc=!1}if(Ys=0,Ge=We=Me=null,Gi=!1,jl=0,Bp.current=null,r===null||r.return===null){Ke=1,_l=t,Be=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=at,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Wx(l);if(h!==null){h.flags&=-257,Kx(h,l,o,i,t),h.mode&1&&zx(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){zx(i,d,t),qp();break e}c=Error($(426))}}else if(Oe&&o.mode&1){var y=Wx(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Kx(y,l,o,i,t),_p(Ka(c,o));break e}}i=c=Ka(c,o),Ke!==4&&(Ke=2),Xi===null?Xi=[i]:Xi.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=u1(i,c,t);$x(i,p);break e;case 1:o=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qn===null||!Qn.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=d1(i,o,t);$x(i,S);break e}}i=i.return}while(i!==null)}O1(r)}catch(j){t=j,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function C1(){var e=Tc.current;return Tc.current=Ec,e===null?Ec:e}function qp(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(Gs&268435455)&&!($u&268435455)||zn(Je,at)}function Dc(e,t){var r=ae;ae|=2;var n=C1();(Je!==e||at!==t)&&(sn=null,Bs(e,t));do try{R4();break}catch(a){P1(e,a)}while(!0);if(Pp(),ae=r,Tc.current=n,Be!==null)throw Error($(261));return Je=null,at=0,Ke}function R4(){for(;Be!==null;)A1(Be)}function F4(){for(;Be!==null&&!uC();)A1(Be)}function A1(e){var t=T1(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?O1(e):Be=t,Bp.current=null}function O1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T4(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Be=null;return}}else if(r=E4(r,t,zt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ke===0&&(Ke=5)}function ks(e,t,r){var n=de,a=gr.transition;try{gr.transition=null,de=1,B4(e,t,r,n)}finally{gr.transition=a,de=n}return null}function B4(e,t,r,n){do $a();while(Hn!==null);if(ae&6)throw Error($(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(bC(e,i),e===Je&&(Be=Je=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eo||(Eo=!0,M1(gc,function(){return $a(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var l=de;de=1;var o=ae;ae|=4,Bp.current=null,I4(e,r),S1(r,e),i4(km),vc=!!_m,km=_m=null,e.current=r,D4(r),dC(),ae=o,de=l,gr.transition=i}else e.current=r;if(Eo&&(Eo=!1,Hn=e,Ic=a),i=e.pendingLanes,i===0&&(Qn=null),hC(r.stateNode),Dt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Mc)throw Mc=!1,e=Hm,Hm=null,e;return Ic&1&&e.tag!==0&&$a(),i=e.pendingLanes,i&1?e===Vm?Qi++:(Qi=0,Vm=e):Qi=0,ms(),null}function $a(){if(Hn!==null){var e=uj(Ic),t=gr.transition,r=de;try{if(gr.transition=null,de=16>e?16:e,Hn===null)var n=!1;else{if(e=Hn,Hn=null,Ic=0,ae&6)throw Error($(331));var a=ae;for(ae|=4,W=e.current;W!==null;){var i=W,l=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Ji(8,u,i)}var f=u.child;if(f!==null)f.return=u,W=f;else for(;W!==null;){u=W;var m=u.sibling,h=u.return;if(w1(u),u===d){W=null;break}if(m!==null){m.return=h,W=m;break}W=h}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}W=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,W=l;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ji(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var v=e.current;for(W=v;W!==null;){l=W;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,W=b;else e:for(l=v;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Du(9,o)}}catch(j){$e(o,o.return,j)}if(o===l){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(ae=a,ms(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Pu,e)}catch{}n=!0}return n}finally{de=r,gr.transition=t}}return!1}function nv(e,t,r){t=Ka(r,t),t=u1(e,t,1),e=Xn(e,t,1),t=bt(),e!==null&&(Hl(e,1,t),Dt(e,t))}function $e(e,t,r){if(e.tag===3)nv(e,e,r);else for(;t!==null;){if(t.tag===3){nv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qn===null||!Qn.has(n))){e=Ka(r,e),e=d1(t,e,1),t=Xn(t,e,1),e=bt(),t!==null&&(Hl(t,1,e),Dt(t,e));break}}t=t.return}}function U4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(at&r)===r&&(Ke===4||Ke===3&&(at&130023424)===at&&500>Le()-zp?Bs(e,0):Up|=r),Dt(e,t)}function E1(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var r=bt();e=vn(e,t),e!==null&&(Hl(e,t,r),Dt(e,r))}function z4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),E1(e,r)}function W4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),E1(e,r)}var T1;T1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ot=!1,O4(e,t,r);Ot=!!(e.flags&131072)}else Ot=!1,Oe&&t.flags&1048576&&$j(t,_c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;oc(e,t),e=t.pendingProps;var a=Ba(t,gt.current);Da(t,r),a=Dp(null,t,n,e,a,r);var i=$p();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(n)?(i=!0,Nc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Op(t),a.updater=Iu,t.stateNode=a,a._reactInternals=t,Dm(t,n,e,r),t=Rm(null,t,n,!0,i,r)):(t.tag=0,Oe&&i&&Np(t),vt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(oc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=q4(n),e=Pr(n,e),a){case 0:t=Lm(null,t,n,e,r);break e;case 1:t=Vx(null,t,n,e,r);break e;case 11:t=qx(null,t,n,e,r);break e;case 14:t=Hx(null,t,n,Pr(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),Lm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),Vx(e,t,n,a,r);case 3:e:{if(p1(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,a=i.element,zj(e,t),Cc(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ka(Error($(423)),t),t=Yx(e,t,n,r,a);break e}else if(n!==a){a=Ka(Error($(424)),t),t=Yx(e,t,n,r,a);break e}else for(Vt=Jn(t.stateNode.containerInfo.firstChild),Yt=t,Oe=!0,Or=null,r=Bj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ua(),n===a){t=yn(e,t,r);break e}vt(e,t,n,r)}t=t.child}return t;case 5:return Wj(t),e===null&&Tm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Pm(n,a)?l=null:i!==null&&Pm(n,i)&&(t.flags|=32),h1(e,t),vt(e,t,l,r),t.child;case 6:return e===null&&Tm(t),null;case 13:return g1(e,t,r);case 4:return Ep(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=za(t,null,n,r):vt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),qx(e,t,n,a,r);case 7:return vt(e,t,t.pendingProps,r),t.child;case 8:return vt(e,t,t.pendingProps.children,r),t.child;case 12:return vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,we(kc,n._currentValue),n._currentValue=l,i!==null)if(Lr(i.value,l)){if(i.children===a.children&&!Mt.current){t=yn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=hn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mm(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Mm(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}vt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Da(t,r),a=vr(a),n=n(a),t.flags|=1,vt(e,t,n,r),t.child;case 14:return n=t.type,a=Pr(n,t.pendingProps),a=Pr(n.type,a),Hx(e,t,n,a,r);case 15:return f1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),oc(e,t),t.tag=1,It(n)?(e=!0,Nc(t)):e=!1,Da(t,r),c1(t,n,a),Dm(t,n,a,r),Rm(null,t,n,!0,e,r);case 19:return x1(e,t,r);case 22:return m1(e,t,r)}throw Error($(156,t.tag))};function M1(e,t){return ij(e,t)}function K4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new K4(e,t,r,n)}function Hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q4(e){if(typeof e=="function")return Hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dp)return 11;if(e===fp)return 14}return 2}function es(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dc(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Hp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case va:return Us(r.children,a,i,t);case up:l=8,a|=8;break;case am:return e=hr(12,r,t,a|2),e.elementType=am,e.lanes=i,e;case im:return e=hr(13,r,t,a),e.elementType=im,e.lanes=i,e;case lm:return e=hr(19,r,t,a),e.elementType=lm,e.lanes=i,e;case Ww:return Lu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uw:l=10;break e;case zw:l=9;break e;case dp:l=11;break e;case fp:l=14;break e;case Ln:l=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=hr(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Us(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function Lu(e,t,r,n){return e=hr(22,e,n,t),e.elementType=Ww,e.lanes=r,e.stateNode={isHidden:!1},e}function Nf(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function Sf(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vp(e,t,r,n,a,i,l,o,c){return e=new H4(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(i),e}function V4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I1(e){if(!e)return is;e=e._reactInternals;e:{if(na(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(It(r))return Ij(e,r,t)}return t}function D1(e,t,r,n,a,i,l,o,c){return e=Vp(r,n,!0,e,a,i,l,o,c),e.context=I1(null),r=e.current,n=bt(),a=Zn(r),i=hn(n,a),i.callback=t??null,Xn(r,i,a),e.current.lanes=a,Hl(e,a,n),Dt(e,n),e}function Ru(e,t,r,n){var a=t.current,i=bt(),l=Zn(a);return r=I1(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xn(a,t,l),e!==null&&($r(e,a,l,i),ac(e,a,l)),l}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yp(e,t){sv(e,t),(e=e.alternate)&&sv(e,t)}function Y4(){return null}var $1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gp(e){this._internalRoot=e}Fu.prototype.render=Gp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Ru(e,t,null,null)};Fu.prototype.unmount=Gp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){Ru(null,e,null,null)}),t[xn]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=mj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Un.length&&t!==0&&t<Un[r].priority;r++);Un.splice(r,0,e),r===0&&pj(e)}};function Jp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function av(){}function G4(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=$c(l);i.call(d)}}var l=D1(t,n,e,0,null,!1,!1,"",av);return e._reactRootContainer=l,e[xn]=l.current,xl(e.nodeType===8?e.parentNode:e),Js(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=$c(c);o.call(d)}}var c=Vp(e,0,!1,null,null,!1,!1,"",av);return e._reactRootContainer=c,e[xn]=c.current,xl(e.nodeType===8?e.parentNode:e),Js(function(){Ru(t,c,r,n)}),c}function Uu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=$c(l);o.call(c)}}Ru(t,l,e,a)}else l=G4(r,t,e,a,n);return $c(l)}dj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fi(t.pendingLanes);r!==0&&(pp(t,r|1),Dt(t,Le()),!(ae&6)&&(qa=Le()+500,ms()))}break;case 13:Js(function(){var n=vn(e,1);if(n!==null){var a=bt();$r(n,e,1,a)}}),Yp(e,1)}};gp=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=bt();$r(t,e,134217728,r)}Yp(e,134217728)}};fj=function(e){if(e.tag===13){var t=Zn(e),r=vn(e,t);if(r!==null){var n=bt();$r(r,e,t,n)}Yp(e,t)}};mj=function(){return de};hj=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};xm=function(e,t,r){switch(t){case"input":if(um(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Eu(n);if(!a)throw Error($(90));qw(n),um(n,a)}}}break;case"textarea":Vw(e,r);break;case"select":t=r.value,t!=null&&Ea(e,!!r.multiple,t,!1)}};ej=Wp;tj=Js;var J4={usingClientEntryPoint:!1,Events:[Yl,ja,Eu,Qw,Zw,Wp]},ki={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X4={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sj(e),e===null?null:e.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||Y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Pu=To.inject(X4),Vr=To}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J4;sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(t))throw Error($(200));return V4(e,t,null,r)};sr.createRoot=function(e,t){if(!Jp(e))throw Error($(299));var r=!1,n="",a=$1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vp(e,1,!1,null,null,r,!1,n,a),e[xn]=t.current,xl(e.nodeType===8?e.parentNode:e),new Gp(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=sj(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return Js(e)};sr.hydrate=function(e,t,r){if(!Bu(t))throw Error($(200));return Uu(null,e,t,!0,r)};sr.hydrateRoot=function(e,t,r){if(!Jp(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=$1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=D1(t,null,e,1,r??null,a,!1,i,l),e[xn]=t.current,xl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fu(t)};sr.render=function(e,t,r){if(!Bu(t))throw Error($(200));return Uu(null,e,t,!1,r)};sr.unmountComponentAtNode=function(e){if(!Bu(e))throw Error($(40));return e._reactRootContainer?(Js(function(){Uu(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};sr.unstable_batchedUpdates=Wp;sr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bu(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Uu(e,t,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function L1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L1)}catch(e){console.error(e)}}L1(),Lw.exports=sr;var Xp=Lw.exports,R1,iv=Xp;R1=iv.createRoot,iv.hydrateRoot;const Q4="modulepreload",Z4=function(e){return"/"+e},lv={},Jl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Z4(c),c in lv)return;lv[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Q4,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},eA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tA extends Qp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ov extends Qp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cv extends Qp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jm||(Jm={}));var rA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class nA{constructor(t,{headers:r={},customFetch:n,region:a=Jm.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=eA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return rA(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(g=>{throw new tA(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new ov(f);if(!f.ok)throw new cv(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return h==="application/json"?x=yield f.json():h==="application/octet-stream"?x=yield f.blob():h==="text/event-stream"?x=f:h==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof cv||a instanceof ov?a.context:void 0}}})}}var At={},Zp={},zu={},Xl={},Wu={},Ku={},sA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ha=sA();const aA=Ha.fetch,F1=Ha.fetch.bind(Ha),B1=Ha.Headers,iA=Ha.Request,lA=Ha.Response,li=Object.freeze(Object.defineProperty({__proto__:null,Headers:B1,Request:iA,Response:lA,default:F1,fetch:aA},Symbol.toStringTag,{value:"Module"})),oA=kP(li);var qu={};Object.defineProperty(qu,"__esModule",{value:!0});let cA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qu.default=cA;var U1=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const uA=U1(oA),dA=U1(qu);let fA=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,f=null,m=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const g=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,h="OK")}catch{i.status===404&&g===""?(m=204,h="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,h="OK"),d&&this.shouldThrowOnError)throw new dA.default(d)}return{error:d,data:u,count:f,status:m,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Ku.default=fA;var mA=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wu,"__esModule",{value:!0});const hA=mA(Ku);let pA=class extends hA.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wu.default=pA;var gA=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});const xA=gA(Wu);let vA=class extends xA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xl.default=vA;var yA=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zu,"__esModule",{value:!0});const Pi=yA(Xl);let bA=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Pi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Pi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Pi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Pi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Pi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zu.default=bA;var Hu={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.version=void 0;Vu.version="0.0.0-automated";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.DEFAULT_HEADERS=void 0;const wA=Vu;Hu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wA.version}`};var z1=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zp,"__esModule",{value:!0});const jA=z1(zu),NA=z1(Xl),SA=Hu;let _A=class W1{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},SA.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new jA.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new W1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new NA.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Zp.default=_A;var oi=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(At,"__esModule",{value:!0});At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const K1=oi(Zp);At.PostgrestClient=K1.default;const q1=oi(zu);At.PostgrestQueryBuilder=q1.default;const H1=oi(Xl);At.PostgrestFilterBuilder=H1.default;const V1=oi(Wu);At.PostgrestTransformBuilder=V1.default;const Y1=oi(Ku);At.PostgrestBuilder=Y1.default;const G1=oi(qu);At.PostgrestError=G1.default;var kA=At.default={PostgrestClient:K1.default,PostgrestQueryBuilder:q1.default,PostgrestFilterBuilder:H1.default,PostgrestTransformBuilder:V1.default,PostgrestBuilder:Y1.default,PostgrestError:G1.default};const{PostgrestClient:PA,PostgrestQueryBuilder:Ez,PostgrestFilterBuilder:Tz,PostgrestTransformBuilder:Mz,PostgrestBuilder:Iz,PostgrestError:Dz}=kA;function CA(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const AA=CA(),OA="2.11.15",EA=`realtime-js/${OA}`,TA="1.0.0",J1=1e4,MA=1e3;var Zi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zi||(Zi={}));var ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ut||(ut={}));var Ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ar||(Ar={}));var Xm;(function(e){e.websocket="websocket"})(Xm||(Xm={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class IA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+a));l=l+a;const c=n.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class X1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ye||(ye={}));const uv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=DA(l,e,t,a),i),{})},DA=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!n.includes(i)?Q1(i,l):Qm(l)},Q1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return FA(t,r)}switch(e){case ye.bool:return $A(t);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return LA(t);case ye.json:case ye.jsonb:return RA(t);case ye.timestamp:return BA(t);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return Qm(t);default:return Qm(t)}},Qm=e=>e,$A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Q1(t,o))}return e},BA=e=>typeof e=="string"?e.replace(" ","T"):e,Z1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _f{constructor(t,r,n={},a=J1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dv||(dv={}));class el{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=el.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=el.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const f=i[d];if(f){const m=u.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),x=u.filter(y=>h.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(o[d]=x),g.length>0&&(c[d]=g)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const f=t[o].map(h=>h.presence_ref),m=u.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...m)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=d,a(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fv||(fv={}));var mv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mv||(mv={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class eg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _f(this,Ar.join,this.params,this.timeout),this.rejoinTimer=new X1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ar.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new el(this),this.broadcastEndpointURL=Z1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(an.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(an.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(an.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,h=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<h;g++){const y=m[g],{filter:{event:p,schema:v,table:b,filter:S}}=y,j=u&&u[g];if(j&&j.event===p&&j.schema===v&&j.table===b&&j.filter===S)x.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=ut.errored,t==null||t(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(an.SUBSCRIBED);return}}).receive("error",u=>{this.state=ut.errored,t==null||t(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ar.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new _f(this,Ar.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new _f(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Ar;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var x,g,y;return((x=h.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(h=>h.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(h=>{var x,g,y,p,v,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in h){const S=h.id,j=(x=h.filter)===null||x===void 0?void 0:x.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(v=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===l}).map(h=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:y,commit_timestamp:p,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}h.callback(m,n)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&eg.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ar.close,{},t)}_onError(t){this._on(Ar.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uv(t.columns,t.old_record)),r}}const hv=()=>{},UA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zA{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hv,this.ref=0,this.logger=hv,this.conn=null,this.sendBuffer=[],this.serializer=new IA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Jl(async()=>{const{default:c}=await Promise.resolve().then(()=>li);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Xm.websocket}`,this.httpEndpoint=Z1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new X1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=AA),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:TA}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return Es.Connecting;case Zi.open:return Es.Open;case Zi.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new eg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:EA};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ar.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(MA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:l}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ar.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class tg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WA extends tg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zm extends tg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var KA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const eN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qA=()=>KA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>li),void 0)).Response:Response}),eh=e=>{if(Array.isArray(e))return e.map(r=>eh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=eh(n)}),t};var sa=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HA=(e,t,r)=>sa(void 0,void 0,void 0,function*(){const n=yield qA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new WA(kf(a),e.status||500))}).catch(a=>{t(new Zm(kf(a),a))}):t(new Zm(kf(e),e))}),VA=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Ql(e,t,r,n,a,i){return sa(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,VA(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>HA(c,o,n))})})}function Lc(e,t,r,n){return sa(this,void 0,void 0,function*(){return Ql(e,"GET",t,r,n)})}function Fn(e,t,r,n,a){return sa(this,void 0,void 0,function*(){return Ql(e,"POST",t,n,a,r)})}function YA(e,t,r,n,a){return sa(this,void 0,void 0,function*(){return Ql(e,"PUT",t,n,a,r)})}function GA(e,t,r,n){return sa(this,void 0,void 0,function*(){return Ql(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tN(e,t,r,n,a){return sa(this,void 0,void 0,function*(){return Ql(e,"DELETE",t,n,a,r)})}var kt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const JA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XA{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=eN(a)}uploadOrUpdate(t,r,n,a){return kt(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},pv),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}upload(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:pv.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Fn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new tg("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}update(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}copy(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return kt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Fn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return kt(this,void 0,void 0,function*(){try{const a=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}download(t,r){return kt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Lc(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}info(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Lc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:eh(n),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}exists(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ve(n)&&n instanceof Zm){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return kt(this,void 0,void 0,function*(){try{return{data:yield tN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}list(t,r,n){return kt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},JA),r),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const QA="2.7.1",ZA={"X-Client-Info":`storage-js/${QA}`};var ua=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class eO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ZA),r),this.fetch=eN(n)}listBuckets(){return ua(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}getBucket(t){return ua(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ua(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ua(this,void 0,void 0,function*(){try{return{data:yield YA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ua(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ua(this,void 0,void 0,function*(){try{return{data:yield tN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}}class tO extends eO{constructor(t,r={},n){super(t,r,n)}from(t){return new XA(this.url,this.headers,t,this.fetch)}}const rO="2.50.3";let Ui="";typeof Deno<"u"?Ui="deno":typeof document<"u"?Ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ui="react-native":Ui="node";const nO={"X-Client-Info":`supabase-js-${Ui}/${rO}`},sO={headers:nO},aO={schema:"public"},iO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lO={};var oO=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const cO=e=>{let t;return e?t=e:typeof fetch>"u"?t=F1:t=fetch,(...r)=>t(...r)},uO=()=>typeof Headers>"u"?B1:Headers,dO=(e,t,r)=>{const n=cO(r),a=uO();return(i,l)=>oO(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var fO=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function mO(e){return e.endsWith("/")?e:e+"/"}function hO(e,t){var r,n;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>fO(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const rN="2.70.0",ga=30*1e3,th=3,Pf=th*ga,pO="http://localhost:9999",gO="supabase.auth.token",xO={"X-Client-Info":`gotrue-js/${rN}`},rh="X-Supabase-Api-Version",nN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yO=6e5;class rg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bO extends rg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wO(e){return Q(e)&&e.name==="AuthApiError"}class sN extends rg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hs extends rg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $n extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jO(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Mo extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Do extends hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NO(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class gv extends hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nh extends hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cf(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class xv extends hs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tl extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vv=` 	
\r=`.split(""),SO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vv.length;t+=1)e[vv[t].charCodeAt(0)]=-2;for(let t=0;t<Rc.length;t+=1)e[Rc[t].charCodeAt(0)]=t;return e})();function yv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Rc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Rc[n]),t.queuedBits-=6}}function aN(e,t,r){const n=SO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bv(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{PO(l,n,r)};for(let l=0;l<e.length;l+=1)aN(e.charCodeAt(l),a,i);return t.join("")}function _O(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}_O(n,t)}}function PO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function CO(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)aN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function AO(e){const t=[];return kO(e,r=>t.push(r)),new Uint8Array(t)}function OO(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>yv(a,r,n)),yv(null,r,n),t.join("")}function EO(e){return Math.round(Date.now()/1e3)+e}function TO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kr=()=>typeof window<"u"&&typeof document<"u",Ns={tested:!1,writable:!1},rl=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function MO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const iN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$o=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lo=async(e,t)=>{await e.removeItem(t)};class Yu{constructor(){this.promise=new Yu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Yu.promiseConstructor=Promise;function Af(e){const t=e.split(".");if(t.length!==3)throw new tl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vO.test(t[n]))throw new tl("JWT not in base64url format");return{header:JSON.parse(bv(t[0])),payload:JSON.parse(bv(t[1])),signature:CO(t[2]),raw:{header:t[0],payload:t[1]}}}async function DO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $O(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function LO(e){return("0"+e.toString(16)).substr(-2)}function RO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,LO).join("")}async function FO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function BO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(e,t,r=!1){const n=RO();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await lN(e,`${t}-code-verifier`,a);const i=await BO(n);return[i,n===i?"plain":"s256"]}const UO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zO(e){const t=e.headers.get(rh);if(!t||!t.match(UO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fa(e){if(!qO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var HO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VO=[502,503,504];async function wv(e){var t;if(!IO(e))throw new nh(Ps(e),0);if(VO.includes(e.status))throw new nh(Ps(e),e.status);let r;try{r=await e.json()}catch(i){throw new sN(Ps(i),i)}let n;const a=zO(e);if(a&&a.getTime()>=nN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xv(Ps(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $n}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new xv(Ps(r),e.status,r.weak_password.reasons);throw new bO(Ps(r),e.status||500,n)}const YO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ee(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[rh]||(i[rh]=nN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await GO(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function GO(e,t,r,n,a,i){const l=YO(t,n,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new nh(Ps(c),0)}if(o.ok||await wv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await wv(c)}}function nn(e){var t;let r=null;ZO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=EO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jv(e){const t=nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JO(e){return{data:e,error:null}}function XO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=HO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function QO(e){return e}function ZO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Of=["global","local","others"];var eE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class tE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Of[0]){if(Of.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Of.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=eE(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:XO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:QO});if(u.error)throw u.error;const f=await u.json(),m=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Q(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){fa(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fa(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){fa(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){fa(t.userId);try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fa(t.userId),fa(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const rE={getItem:e=>rl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rl()&&globalThis.localStorage.removeItem(e)}};function Nv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function nE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ma={debug:!!(globalThis&&rl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sE extends oN{}async function aE(e,t,r){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ma.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}nE();const iE={url:pO,storageKey:gO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sv(e,t,r){return await r()}class kl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},iE),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iN(a.fetch),this.lock=a.lock||Sv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aE:this.lock=Sv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:rl()?this.storage=rE:(this.memoryStorage={},this.storage=Nv(this.memoryStorage)):(this.memoryStorage={},this.storage=Nv(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=MO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),NO(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new sN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:nn}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await da(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:x},xform:nn})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:nn})}else throw new Io("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jv})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jv})}else throw new Io("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,l,o,c,d,u,f,m,h;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:y,wallet:p,statement:v,options:b}=t;let S;if(kr())if(typeof p=="object")S=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=p}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:y,error:p}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:OO(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nn});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Mo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(Q(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nn});if(await Lo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,o=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await da(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Io("You must provide either an email or phone number.")}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:nn});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await da(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:JO})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $n;const{error:a}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Io("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wn}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Wn})})}catch(r){if(Q(r))return jO(r)&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $n;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await da(this.storage,this.storageKey));const{data:d,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Wn});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $n;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=Af(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $n;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!kr())throw new Do("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Do(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Do("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gv("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new Do("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let m=u+f;c&&(m=parseInt(c));const h=m-u;h*1e3<=ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:l,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(wO(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=TO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await da(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $O(async a=>(a>0&&await DO(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(a,i)=>{const l=200*Math.pow(2,a);return i&&Cf(i)&&Date.now()+l-n<ga})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $o(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pf;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Pf}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Cf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yu;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new $n;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Q(i)){const l={session:null,error:i};return Cf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ga);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ga}ms, refresh threshold is ${th} ticks`),a<=th&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await da(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Af(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+yO>Date.now()))return n;const{data:a,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new tl("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(l=>l.kid===t),!n)throw new tl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:h,error:x}=await this.getSession();if(x||!h.session)return{data:null,error:x};n=h.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=Af(n);if(WO(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:l},error:null}}const d=KO(a.alg),u=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,l,AO(`${o}.${c}`)))throw new tl("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}kl.nextInstanceID=0;const lE=kl;class oE extends lE{constructor(t){super(t)}}var cE=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class uE{constructor(t,r,n){var a,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=mO(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:aO,realtime:lO,auth:Object.assign(Object.assign({},iO),{storageKey:d}),global:sO},f=hO(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=dO(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new PA(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new nA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tO(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return cE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:l,lock:o,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dE=(e,t,r)=>new uE(e,t,r),fE="https://fpyejmjcdjgkwfmkyzvt.supabase.co",mE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZweWVqbWpjZGpna3dmbWt5enZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzNDkyMjQsImV4cCI6MjA2NjkyNTIyNH0.OSpShjvdGcyOI2gsbcMzYY3UHVFcxcm0eO1SzJAMKho",J=dE(fE,mE),ci=e=>{const t={id:e.id,email:e.email,name:e.name,phone:e.phone||void 0,address:e.address||void 0,role:e.role,status:e.status,avatar:e.avatar_url||void 0,createdAt:new Date(e.created_at||"")};return e.role==="founder"?{...t,role:"founder",company:e.company||void 0,phone:e.phone||void 0,address:e.address||void 0,walletBalance:Number(e.wallet_balance)||0}:e.role==="talent"?{...t,role:"talent",bio:e.bio||void 0,portfolio:e.portfolio||[],rateLevel:e.rate_level||1,skills:e.skills||[],socialMedia:e.social_media||{},totalEarnings:Number(e.total_earnings)||0}:t},Fc=(e,t=[],r=[])=>({id:e.id,founderId:e.founder_id,title:e.title,description:e.description,productName:e.product_name,category:e.category,duration:e.duration,productImages:e.product_images||[],rateLevel:e.rate_level,mediaType:e.media_type,budget:Number(e.budget)||0,price:Number(e.price)||0,status:e.status,applicants:t,approvedTalents:r,createdAt:new Date(e.created_at||""),deadline:e.deadline?new Date(e.deadline):void 0}),ng=(e,t,r,n)=>({id:e.id,campaignId:e.campaign_id,talentId:e.talent_id,founderId:e.founder_id,talentName:r,campaignTitle:t,productName:n,status:e.status,payout:Number(e.payout)||0,createdAt:new Date(e.created_at||""),updatedAt:e.updated_at?new Date(e.updated_at):void 0,deliveryInfo:e.delivery_address?{address:e.delivery_address,trackingNumber:e.tracking_number||void 0,courier:e.courier||void 0}:void 0,reviewSubmission:e.review_media&&Array.isArray(e.review_media)&&e.review_media.length>0?{media:e.review_media.map(a=>({url:a.url,type:a.type})),submittedAt:e.review_submitted_at?new Date(e.review_submitted_at):new Date}:void 0}),hE=async(e,t,r)=>{try{const{data:n}=await J.from("profiles").select("email").eq("email",e).single();if(n)throw new Error("An account with this email already exists. Please sign in instead.");const{data:a,error:i}=await J.auth.signUp({email:e,password:t,options:{data:{name:r.name,role:r.role,company:r.company,bio:r.bio}}});if(i)throw console.error("Supabase signup error:",i),i.message.includes("user_already_exists")||i.message.includes("already registered")?new Error("An account with this email already exists. Please sign in instead."):i.message.includes("invalid_email")?new Error("Please enter a valid email address."):i.message.includes("weak_password")?new Error("Password must be at least 6 characters long."):new Error(i.message||"Registration failed. Please try again.");return a}catch(n){throw console.error("Registration error:",n),n.message.includes("already exists")||n.message.includes("valid email")||n.message.includes("Password must")?n:new Error("Registration failed. Please try again.")}},_v=async(e,t)=>{try{const{data:r,error:n}=await J.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("Supabase signin error:",n),n.message.includes("invalid_credentials")||n.message.includes("Invalid login")?new Error("Invalid email or password. Please check your credentials and try again."):n.message.includes("email_not_confirmed")?new Error("Please check your email and click the confirmation link before signing in."):n.message.includes("too_many_requests")?new Error("Too many login attempts. Please wait a few minutes and try again."):new Error(n.message||"Sign in failed. Please try again.");if(!r.user)throw new Error("Sign in failed. Please try again.");const{data:a,error:i}=await J.from("profiles").select("*").eq("id",r.user.id).single();if(i)throw console.error("Profile fetch error:",i),new Error("Failed to load user profile. Please try again.");if(!a)throw new Error("User profile not found. Please contact support.");if(a.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");if(a.status==="pending"&&a.role==="talent")throw new Error("Your account is pending approval. Please wait for admin approval before signing in.");const l=ci(a);return{user:r.user,profile:l}}catch(r){throw console.error("Sign in error:",r),r}},pE=async()=>{const{error:e}=await J.auth.signOut();if(e)throw console.error("Sign out error:",e),new Error("Failed to sign out. Please try again.")},gE=async()=>{try{const{data:{user:e}}=await J.auth.getUser();if(!e)return null;const{data:t,error:r}=await J.from("profiles").select("*").eq("id",e.id).single();return r?(console.error("Get current user error:",r),null):t?ci(t):null}catch(e){return console.error("Get current user error:",e),null}},cN=async(e,t)=>{const{data:r,error:n}=await J.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return ci(r)},xE=async()=>{try{const{data:e,error:t}=await J.from("profiles").select("*").eq("role","founder").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching founders:",t),t;return!e||e.length===0?[]:e.map(n=>ci(n))}catch(e){throw console.error("getFounders error:",e),e}},kv=async()=>{try{const{data:e,error:t}=await J.from("profiles").select("*").eq("role","talent").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching talents:",t),t;return!e||e.length===0?[]:e.map(n=>ci(n))}catch(e){throw console.error("getTalents error:",e),e}},sh=async(e,t)=>{try{const{data:r,error:n}=await J.from("profiles").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Error updating user status:",n),n;return ci(r)}catch(r){throw console.error("updateUserStatus error:",r),r}},Pv=async()=>{try{const{data:e,error:t}=await J.from("campaigns").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching campaigns:",t),t;return!e||e.length===0?[]:await Promise.all(e.map(async n=>{const{data:a,error:i}=await J.from("campaign_applications").select("talent_id, status").eq("campaign_id",n.id);if(i)return console.error("Error fetching applications for campaign:",n.id,i),Fc(n,[],[]);const l=(a==null?void 0:a.filter(c=>c.status==="pending").map(c=>c.talent_id))||[],o=(a==null?void 0:a.filter(c=>c.status==="approved").map(c=>c.talent_id))||[];return Fc(n,l,o)}))}catch(e){throw console.error("getCampaigns error:",e),e}},vE=async e=>{var n;const{data:t,error:r}=await J.from("campaigns").insert({founder_id:e.founderId,title:e.title,description:e.description,product_name:e.productName,category:e.category,duration:e.duration,product_images:e.productImages,rate_level:e.rateLevel,media_type:e.mediaType,budget:e.budget,price:e.price,status:e.status,deadline:(n=e.deadline)==null?void 0:n.toISOString()}).select().single();if(r)throw r;return Fc(t)},uN=async(e,t)=>{const{data:r,error:n}=await J.from("campaigns").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return Fc(r)},yE=async e=>{const{error:t}=await J.from("campaigns").delete().eq("id",e);if(t)throw t},bE=async(e,t)=>{const{data:r}=await J.from("campaign_applications").select("id").eq("campaign_id",e).eq("talent_id",t);if(r&&r.length>0)throw new Error("You have already applied to this campaign.");const{data:n,error:a}=await J.from("campaign_applications").insert({campaign_id:e,talent_id:t,status:"pending"}).select().single();if(a)throw a;return n},Cv=async(e,t,r)=>{const{data:n,error:a}=await J.from("campaign_applications").update({status:r}).eq("campaign_id",e).eq("talent_id",t).select().single();if(a)throw a;return n},Ro=async e=>{try{let t=J.from("orders").select(`
        *,
        campaigns!inner(title, product_name),
        profiles!orders_talent_id_fkey(name)
      `).order("created_at",{ascending:!1});e&&(t=t.or(`founder_id.eq.${e},talent_id.eq.${e}`));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching orders:",n),n;return!r||r.length===0?(console.log("No orders found in database"),[]):r.map(i=>ng(i,i.campaigns.title,i.profiles.name,i.campaigns.product_name))}catch(t){throw console.error("getOrders error:",t),t}},wE=async e=>{var n,a,i;const{data:t,error:r}=await J.from("orders").insert({campaign_id:e.campaignId,talent_id:e.talentId,founder_id:e.founderId,status:e.status,payout:e.payout,delivery_address:(n=e.deliveryInfo)==null?void 0:n.address,tracking_number:(a=e.deliveryInfo)==null?void 0:a.trackingNumber,courier:(i=e.deliveryInfo)==null?void 0:i.courier}).select(`
      *,
      campaigns!inner(title, product_name),
      profiles!orders_talent_id_fkey(name)
    `).single();if(r)throw r;return ng(t,t.campaigns.title,t.profiles.name,t.campaigns.product_name)},Pl=async(e,t)=>{const{data:r,error:n}=await J.from("orders").update({...t,review_media:t.review_media?t.review_media:void 0,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      campaigns!inner(title, product_name),
      profiles!orders_talent_id_fkey(name)
    `).single();if(n)throw n;return ng(r,r.campaigns.title,r.profiles.name,r.campaigns.product_name)},Av=async e=>{try{console.log("Fetching transactions from database for user:",e);let t=J.from("transactions").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("user_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching transactions:",n),n;return!r||r.length===0?(console.log("No transactions found in database"),[]):r.map(i=>({id:i.id,userId:i.user_id,type:i.type,amount:Number(i.amount)||0,description:i.description,relatedJobId:i.related_order_id||void 0,createdAt:new Date(i.created_at||"")}))}catch(t){throw console.error("getTransactions error:",t),t}},nl=async e=>{const{data:t,error:r}=await J.from("transactions").insert([{user_id:e.userId,type:e.type,amount:e.amount,description:e.description,related_order_id:e.relatedJobId}]).select();if(r)throw r;return t&&t.length>0?{id:t[0].id,userId:t[0].user_id,type:t[0].type,amount:Number(t[0].amount)||0,description:t[0].description,relatedJobId:t[0].related_order_id||void 0,createdAt:new Date(t[0].created_at||"")}:e},Ef=async e=>{try{console.log("Fetching earnings from database for talent:",e);let t=J.from("earnings").select("*").order("earned_at",{ascending:!1});e&&(t=t.eq("talent_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching earnings:",n),n;if(console.log("Raw earnings data:",r),!r||r.length===0)return console.log("No earnings found in database"),[];const a=r.map(i=>({id:i.id,talentId:i.talent_id,orderId:i.order_id,campaignTitle:i.campaign_title,amount:Number(i.amount)||0,status:i.status,earnedAt:new Date(i.earned_at||""),paidAt:i.paid_at?new Date(i.paid_at):void 0}));return console.log("Converted earnings:",a),a}catch(t){throw console.error("getEarnings error:",t),t}},jE=async e=>{var n;const{data:t,error:r}=await J.from("earnings").insert({talent_id:e.talentId,order_id:e.orderId,campaign_title:e.campaignTitle,amount:e.amount,status:e.status,paid_at:(n=e.paidAt)==null?void 0:n.toISOString()}).select().single();if(r)throw r;return{id:t.id,talentId:t.talent_id,orderId:t.order_id,campaignTitle:t.campaign_title,amount:Number(t.amount)||0,status:t.status,earnedAt:new Date(t.earned_at||""),paidAt:t.paid_at?new Date(t.paid_at):void 0}},Ov=async e=>{try{console.log("Fetching messages from database for order:",e);let t=J.from("messages").select("*").order("created_at",{ascending:!0});const{data:r,error:n}=await t;if(n)throw console.error("Error fetching messages:",n),n;if(console.log("Raw messages data:",r),!r||r.length===0)return console.log("No messages found in database"),[];const a=r.map(i=>({id:i.id,jobId:i.order_id,senderId:i.sender_id,content:i.content,timestamp:new Date(i.created_at||""),read:i.read||!1}));return console.log("Converted messages:",a),a}catch(t){throw console.error("getMessages error:",t),t}},NE=async e=>{try{console.log("Creating new message:",e);const{data:t,error:r}=await J.from("messages").insert({order_id:e.jobId,sender_id:e.senderId,content:e.content,read:e.read}).select().single();if(r)throw console.error("Error creating message:",r),r;return console.log("Message created successfully:",t),{id:t.id,jobId:t.order_id,senderId:t.sender_id,content:t.content,timestamp:new Date(t.created_at||""),read:t.read||!1}}catch(t){throw console.error("createMessage error:",t),t}},Fo=async e=>{try{console.log("Fetching notifications for user:",e);const{data:t,error:r}=await J.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching notifications:",r),r;return!t||t.length===0?(console.log("No notifications found for user"),[]):t.map(a=>({id:a.id,userId:a.user_id,title:a.title,message:a.message,type:a.type,relatedEntityId:a.related_entity_id||void 0,relatedEntityType:a.related_entity_type||void 0,isRead:a.is_read||!1,createdAt:new Date(a.created_at||"")}))}catch(t){throw console.error("getNotifications error:",t),t}},SE=async e=>{try{const{error:t}=await J.from("notifications").update({is_read:!0}).eq("id",e);if(t)throw console.error("Error marking notification as read:",t),t}catch(t){throw console.error("markNotificationAsRead error:",t),t}},_E=async e=>{try{const{error:t}=await J.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);if(t)throw console.error("Error marking all notifications as read:",t),t}catch(t){throw console.error("markAllNotificationsAsRead error:",t),t}},kE=(e,t)=>J.channel(`notifications:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},r=>{const n={id:r.new.id,userId:r.new.user_id,title:r.new.title,message:r.new.message,type:r.new.type,relatedEntityId:r.new.related_entity_id,relatedEntityType:r.new.related_entity_type,isRead:r.new.is_read||!1,createdAt:new Date(r.new.created_at)};t(n)}).subscribe(),PE=(e,t)=>J.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`order_id=eq.${e}`},r=>{const n={id:r.new.id,jobId:r.new.order_id,senderId:r.new.sender_id,content:r.new.content,timestamp:new Date(r.new.created_at),read:r.new.read||!1};t(n)}).subscribe(),CE=(e,t)=>J.channel(`orders:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"orders"},r=>{t(r)}).subscribe();async function AE(e,t){try{const n=new URL(t).pathname.split("/"),a=n.findIndex(f=>f==="review-submissions");if(a===-1||a===n.length-1)throw new Error("Invalid review media URL. File path not found.");const i=n.slice(a+1).join("/"),{error:l}=await J.storage.from("review-submissions").remove([i]);if(l)throw new Error(l.message||"Failed to delete file from storage.");const{data:o,error:c}=await J.from("orders").select("review_media").eq("id",e).single();if(c)throw new Error("Failed to fetch order for review_media update.");let d=((o==null?void 0:o.review_media)||[]).filter(f=>f.url!==t);const{error:u}=await J.from("orders").update({review_media:d.length>0?d:null}).eq("id",e);if(u)throw new Error("Failed to update review_media in order.");return!0}catch(r){throw console.error("[deleteReviewMedia] Error:",r),new Error("Failed to delete review media: "+(r.message||r))}}const dN=w.createContext(void 0),Ae=()=>{const e=w.useContext(dN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},OE=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(!0);w.useEffect(()=>{gE().then(r).catch(()=>r(null)).finally(()=>a(!1))},[]);const i=async(d,u)=>{try{a(!0);const{profile:f}=await _v(d,u);return r(f),{success:!0}}catch(f){return console.error("Login error:",f),{success:!1,error:f.message||"Login failed. Please try again."}}finally{a(!1)}},l=async d=>{try{if(a(!0),await hE(d.email,d.password,{name:d.name,role:d.role,company:d.company,bio:d.bio}),d.role==="talent")return{success:!0};try{const{profile:u}=await _v(d.email,d.password);return r(u),{success:!0}}catch{return{success:!0,error:"Account created successfully! Please sign in to continue."}}}catch(u){return console.error("Registration error:",u),{success:!1,error:u.message||"Registration failed. Please try again."}}finally{a(!1)}},o=async d=>{try{const u={name:d.name,email:d.email,avatar_url:d.avatar,phone:d.phone,address:d.address};if(d.role==="founder"){const m=d;u.company=m.company,u.phone=m.phone,u.address=m.address,u.wallet_balance=m.walletBalance}if(d.role==="talent"){const m=d;u.bio=m.bio,u.portfolio=m.portfolio,u.rate_level=m.rateLevel,u.skills=m.skills,u.social_media=m.socialMedia,u.total_earnings=m.totalEarnings}const f=await cN(d.id,u);r(f)}catch(u){throw console.error("Update profile error:",u),u}},c=async()=>{try{await pE(),r(null)}catch(d){console.error("Logout error:",d)}};return s.jsx(dN.Provider,{value:{user:t,login:i,register:l,logout:c,updateProfile:o,loading:n},children:e})},fN=w.createContext(void 0),he=()=>{const e=w.useContext(fN);if(!e)throw new Error("useApp must be used within an AppProvider");return e},EE=({children:e})=>{const{user:t}=Ae(),[r,n]=w.useState([]),[a,i]=w.useState([]),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState([]),[m,h]=w.useState([]),[x,g]=w.useState([]),[y,p]=w.useState([]),[v,b]=w.useState([]),[S,j]=w.useState(!1),N=async()=>{if(!t){console.log("No user found, skipping data refresh");return}try{if(j(!0),t.role==="admin"){const[_,k,A,O,P,C,E]=await Promise.allSettled([Pv(),Ro(),Av(),Ef(),Ov(),xE(),kv(),Fo(t.id)]);_.status==="fulfilled"?n(_.value):n([]),k.status==="fulfilled"?f(k.value):f([]),A.status==="fulfilled"?d(A.value):d([]),O.status==="fulfilled"?h(O.value):h([]),P.status==="fulfilled"?o(P.value):o([]),C.status==="fulfilled"?g(C.value):g([]),E.status==="fulfilled"?p(E.value):p([]);try{const R=await Fo(t.id);b(R)}catch{b([])}}else{const[_,k,A,O,P]=await Promise.allSettled([Pv(),Ro(t.id),Av(t.id),t.role==="talent"?Ef(t.id):Ef(),Ov(),Fo(t.id)]);_.status==="fulfilled"?n(_.value):n([]),k.status==="fulfilled"?f(k.value):f([]),A.status==="fulfilled"?d(A.value):d([]),O.status==="fulfilled"?h(O.value):h([]),P.status==="fulfilled"?o(P.value):o([]);try{const C=await Fo(t.id);b(C)}catch{b([])}if(t.role==="founder")try{const C=await kv();p(C)}catch{p([])}else p([]);g([])}}catch{}finally{j(!1)}};return w.useEffect(()=>{t?N():(n([]),f([]),d([]),h([]),o([]),g([]),p([]),b([]),i([]))},[t]),w.useEffect(()=>{if(!t)return;const _=[];try{const k=kE(t.id,A=>{b(O=>[A,...O])});_.push(k)}catch{}try{const k=CE(t.id,()=>{t.role==="admin"?Ro().then(f).catch(console.error):Ro(t.id).then(f).catch(console.error)});_.push(k),u.forEach(A=>{const O=PE(A.id,P=>{o(C=>[...C,P])});_.push(O)})}catch{}return()=>{_.forEach(k=>{try{k.unsubscribe()}catch{}})}},[t,u]),s.jsx(fN.Provider,{value:{campaigns:r,jobs:a,messages:l,transactions:c,orders:u,earnings:m,founders:x,talents:y,notifications:v,setCampaigns:n,setJobs:i,setMessages:o,setTransactions:d,setOrders:f,setEarnings:h,setFounders:g,setTalents:p,setNotifications:b,refreshData:N,loading:S},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>w.createElement("svg",{ref:u,...TE,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${ME(e)}`,o].join(" "),...d},[...t.map(([f,m])=>w.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=V("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=V("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=V("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=V("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=V("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=V("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=V("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=V("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=V("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=V("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=V("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=V("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),zE=({onSwitchToRegister:e})=>{const[t,r]=w.useState(""),[n,a]=w.useState(""),[i,l]=w.useState(!1),[o,c]=w.useState(""),{login:d,loading:u}=Ae(),[f,m]=w.useState({message:"",show:!1}),h=y=>{m({message:y,show:!0}),setTimeout(()=>m({message:"",show:!1}),4e3)},x=async y=>{y.preventDefault(),c("");const p=await d(t,n);p.success||(c(p.error||"Login failed. Please try again."),h(p.error||"Login failed. Please try again."))},g=[{email:"admin@example.com",role:"Admin",password:"password"},{email:"founder@example.com",role:"Founder",password:"password"},{email:"talent@example.com",role:"Talent",password:"password"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h1",{className:"text-center text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"GambarKaca"}),s.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Sign in to your account"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:x,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:y=>r(y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Al,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:y=>a(y.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!i),children:i?s.jsx(mN,{className:"h-5 w-5 text-gray-400"}):s.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ls,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Sign In Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo accounts"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:g.map((y,p)=>s.jsxs("button",{onClick:()=>{r(y.email),a(y.password)},className:"w-full text-left px-3 py-2 text-xs border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"font-medium",children:y.role}),s.jsx("div",{className:"text-gray-500",children:y.email})]},p))})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:e,className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Don't have an account? Sign up"})})})]})}),f.show&&s.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:s.jsxs("div",{className:"flex items-center bg-red-600 text-white px-4 py-2 rounded shadow-lg animate-slide-in",children:[s.jsx(ls,{className:"mr-2 w-5 h-5"}),s.jsx("span",{children:f.message})]})})]})},WE=({onSwitchToLogin:e})=>{const[t,r]=w.useState({name:"",email:"",password:"",confirmPassword:"",role:"founder",company:"",bio:""}),[n,a]=w.useState(!1),[i,l]=w.useState(""),[o,c]=w.useState(""),{register:d,loading:u}=Ae(),f=async h=>{if(h.preventDefault(),l(""),c(""),t.password!==t.confirmPassword){l("Passwords do not match");return}if(t.password.length<6){l("Password must be at least 6 characters long");return}const x=await d(t);x.success?t.role==="talent"?c("Registration successful! Please wait for admin approval before you can access the platform."):c("Registration successful! You are now logged in."):l(x.error||"Registration failed. Please try again.")},m=h=>{r({...t,[h.target.name]:h.target.value})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h1",{className:"text-center text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"GambarKaca"}),s.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Create your account"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:f,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I am a"}),s.jsxs("select",{id:"role",name:"role",value:t.role,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"founder",children:"Founder (Brand/Company)"}),s.jsx("option",{value:"talent",children:"Talent (Content Creator)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:m,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:m,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),t.role==="founder"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"company",name:"company",type:"text",value:t.company,onChange:m,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your company name"})]})]}),t.role==="talent"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:t.bio,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Tell us about yourself and your content creation experience"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Al,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:m,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),children:n?s.jsx(mN,{className:"h-5 w-5 text-gray-400"}):s.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Al,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:m,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"})]})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ls,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Registration Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:i})]})]})}),o&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(X,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Registration Successful!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:o})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating account...":"Create account"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:e,className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Already have an account? Sign in"})})})]})})]})},Fv=({onClose:e})=>{const{notifications:t,setNotifications:r,refreshData:n}=he(),a=async d=>{try{await SE(d),r(t.map(u=>u.id===d?{...u,isRead:!0}:u))}catch(u){console.error("Error marking notification as read:",u)}},i=async()=>{try{if(!t.length)return;const d=t[0].userId;await _E(d),r(t.map(u=>({...u,isRead:!0})))}catch(d){console.error("Error marking all notifications as read:",d)}},l=d=>{switch(d){case"campaign_status":return s.jsx(wt,{className:"h-5 w-5 text-blue-500"});case"order_status":return s.jsx(Se,{className:"h-5 w-5 text-purple-500"});case"profile_status":return s.jsx(Rr,{className:"h-5 w-5 text-green-500"});case"payment":return s.jsx(se,{className:"h-5 w-5 text-yellow-500"});case"application":return s.jsx(X,{className:"h-5 w-5 text-indigo-500"});default:return s.jsx(sl,{className:"h-5 w-5 text-gray-500"})}},o=d=>{const f=Math.floor((new Date().getTime()-d.getTime())/1e3);if(f<60)return"just now";const m=Math.floor(f/60);if(m<60)return`${m} minute${m!==1?"s":""} ago`;const h=Math.floor(m/60);if(h<24)return`${h} hour${h!==1?"s":""} ago`;const x=Math.floor(h/24);return x<7?`${x} day${x!==1?"s":""} ago`:d.toLocaleDateString()},c=t.filter(d=>!d.isRead).length;return s.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-lg shadow-lg z-50 max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sl,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),c>0&&s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[c," new"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[c>0&&s.jsx("button",{onClick:i,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:s.jsx(_e,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:t.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:t.map(d=>s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${d.isRead?"":"bg-blue-50"}`,onClick:()=>!d.isRead&&a(d.id),children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:l(d.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d.message}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ne,{className:"h-3 w-3 text-gray-400 mr-1"}),s.jsx("p",{className:"text-xs text-gray-400",children:o(d.createdAt)})]})]}),!d.isRead&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600"})})]})},d.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(sl,{className:"h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications yet"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"You'll see notifications here when there's activity"})]})})]})},KE=()=>{const{user:e,logout:t}=Ae(),{earnings:r,notifications:n}=he(),[a,i]=w.useState(!1),[l,o]=w.useState(!1),c=()=>{t(),i(!1)},d=()=>{o(!l),a&&i(!1)},u=y=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),f=(e==null?void 0:e.role)==="founder",m=(e==null?void 0:e.role)==="talent",h=e,x=m?r.filter(y=>y.talentId===e.id&&y.status==="paid").reduce((y,p)=>y+p.amount,0):0,g=n.filter(y=>!y.isRead).length;return s.jsxs("nav",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 shadow-md border-b border-gray-200",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 md:h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"flex-shrink-0",children:s.jsx("h1",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"GambarKaca"})})}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"ml-4 flex items-center md:ml-6 space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:d,className:"p-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg transition-colors relative",children:[s.jsx(sl,{className:"h-5 w-5"}),g>0&&s.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g>9?"9+":g})]}),l&&s.jsx(Fv,{onClose:()=>o(!1)})]}),f&&h.walletBalance!==void 0&&s.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gradient-to-r from-green-50 to-blue-50 px-3 py-2 rounded-lg border border-green-200",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:u(h.walletBalance)})]}),m&&s.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-blue-50 px-3 py-2 rounded-lg border border-purple-200",children:[s.jsx(Kt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-semibold text-purple-700",children:u(x)})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg px-3 py-2 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"text-sm font-medium block",children:e==null?void 0:e.name}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full capitalize",children:e==null?void 0:e.role})]})]}),a&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50 border border-gray-200",children:s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]})]})}),f&&h.walletBalance!==void 0&&s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Balance"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:u(h.walletBalance)})]})]})}),m&&s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Earnings"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Kt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-semibold text-purple-700",children:u(x)})]})]})}),s.jsxs("button",{onClick:()=>{i(!1),window.dispatchEvent(new CustomEvent("openProfileModal"))},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(El,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(Iv,{className:"h-4 w-4 mr-3"}),"Logout"]})]})})]})]})}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>{i(!a),l&&o(!1)},className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg p-2",children:a?s.jsx(_e,{className:"h-6 w-6"}):s.jsx(LE,{className:"h-6 w-6"})})}),s.jsx("div",{className:"md:hidden mr-2",children:s.jsxs("button",{onClick:d,className:"p-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg transition-colors relative",children:[s.jsx(sl,{className:"h-5 w-5"}),g>0&&s.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g>9?"9+":g})]})})]}),a&&s.jsx("div",{className:"md:hidden border-t border-gray-100",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white bg-opacity-50 backdrop-blur-sm rounded-lg my-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-3 bg-white bg-opacity-70 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full capitalize",children:e==null?void 0:e.role})]})]}),f&&h.walletBalance!==void 0&&s.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 mx-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Wallet Balance"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-bold text-green-700",children:u(h.walletBalance)})]})]})}),m&&s.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200 mx-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Earnings"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Kt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-bold text-purple-700",children:u(x)})]})]})}),s.jsxs("button",{onClick:()=>{i(!1),window.dispatchEvent(new CustomEvent("openProfileModal"))},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(El,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs("button",{onClick:c,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(Iv,{className:"h-4 w-4 mr-3"}),"Logout"]})]})})]}),l&&s.jsx("div",{className:"md:hidden",children:s.jsx(Fv,{onClose:()=>o(!1)})})]})},qE=({currentPage:e,onPageChange:t,className:r=""})=>{const{user:n}=Ae(),i=(()=>{switch(n==null?void 0:n.role){case"admin":return[{id:"dashboard",label:"Dashboard",icon:Tf},{id:"founders",label:"Founders",icon:qe},{id:"talents",label:"Talents",icon:je},{id:"campaigns",label:"Campaigns",icon:wt},{id:"payments",label:"Payments",icon:Bc},{id:"analytics",label:"Analytics",icon:IE}];case"founder":return[{id:"dashboard",label:"Dashboard",icon:Tf},{id:"campaigns",label:"Campaigns",icon:wt},{id:"orders",label:"Orders",icon:Se},{id:"reviews",label:"Reviews",icon:ts},{id:"wallet",label:"E-Wallet",icon:Kt}];case"talent":return[{id:"dashboard",label:"Dashboard",icon:Tf},{id:"marketplace",label:"Marketplace",icon:wt},{id:"jobs",label:"My Jobs",icon:Se},{id:"earnings",label:"Earnings",icon:Kt},{id:"profile",label:"Profile",icon:El}];default:return[]}})();return s.jsx("div",{className:`bg-gradient-to-b from-blue-50 via-indigo-50 to-purple-50 shadow-md border-r border-gray-200 ${r}`,children:s.jsx("div",{className:"p-4 md:p-6",children:s.jsx("nav",{className:"flex flex-row md:flex-col flex-wrap md:flex-nowrap overflow-x-auto md:space-y-3 space-x-2 md:space-x-0",children:i.map(l=>{const o=l.icon,c=e===l.id;return s.jsxs("button",{onClick:()=>t(l.id),className:`flex-shrink-0 md:w-full flex items-center space-x-2 md:space-x-3 px-3 md:px-4 py-2 md:py-3 rounded-lg text-left transition-colors ${c?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-gray-700 hover:bg-white hover:shadow-sm"}`,children:[s.jsx(o,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium text-sm md:text-base",children:l.label})]},l.id)})})})})},Ss=()=>{const{founders:e,talents:t,campaigns:r,orders:n,transactions:a,earnings:i}=he(),l=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f),o=a.filter(f=>f.type==="credit"&&f.description.includes("Admin Fee")).reduce((f,m)=>f+m.amount,0),c=a.filter(f=>{const m=new Date(f.createdAt),h=new Date;return f.type==="credit"&&f.description.includes("Admin Fee")&&m.getMonth()===h.getMonth()&&m.getFullYear()===h.getFullYear()}).reduce((f,m)=>f+m.amount,0),d=[{name:"Total Founders",value:e.length.toString(),icon:qe,color:"bg-blue-500",change:`+${e.filter(f=>{const m=new Date(f.createdAt),h=new Date;return m.getMonth()===h.getMonth()&&m.getFullYear()===h.getFullYear()}).length} this month`},{name:"Active Talents",value:t.filter(f=>f.status==="active").length.toString(),icon:je,color:"bg-purple-500",change:`${t.filter(f=>f.status==="pending").length} pending approval`},{name:"Active Campaigns",value:r.filter(f=>f.status==="active").length.toString(),icon:wt,color:"bg-green-500",change:`${r.filter(f=>f.status==="draft").length} drafts`},{name:"Monthly Revenue",value:l(c),icon:se,color:"bg-yellow-500",change:`Total: ${l(o)}`}],u=[...t.filter(f=>f.status==="pending").slice(0,2).map(f=>({id:`talent-${f.id}`,type:"talent_approval",message:`New talent application from ${f.name}`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60))} hours ago`,icon:je,color:"text-purple-600"})),...r.filter(f=>f.status==="active").slice(0,2).map(f=>({id:`campaign-${f.id}`,type:"campaign_created",message:`New campaign "${f.title}" created`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60*24))} days ago`,icon:wt,color:"text-green-600"})),...n.filter(f=>f.status==="completed").slice(0,2).map(f=>({id:`order-${f.id}`,type:"payout_completed",message:`Payout of ${l(f.payout)} completed for ${f.campaignTitle}`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60*24))} days ago`,icon:se,color:"text-yellow-600"}))].slice(0,4);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage the GambarKaca platform"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(f=>{const m=f.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${f.color}`,children:s.jsx(m,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:f.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.change})]})]})},f.name)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),s.jsx(bn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(se,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Platform Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:l(o)}),s.jsx("p",{className:"text-sm text-gray-400",children:"10% commission from completed jobs"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:u.length>0?u.map(f=>{const m=f.icon;return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(m,{className:`h-5 w-5 ${f.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-900",children:f.message}),s.jsx("p",{className:"text-xs text-gray-500",children:f.time})]})]},f.id)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ls,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Approvals"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-800",children:"Talent Applications"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.filter(f=>f.status==="pending").length}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Awaiting review"})]}),s.jsx(je,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Campaign Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.filter(f=>f.status==="review_submitted").length}),s.jsx("p",{className:"text-sm text-blue-700",children:"Pending approval"})]}),s.jsx(Se,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-800",children:"Active Orders"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.filter(f=>["pending_shipment","shipped","delivered"].includes(f.status)).length}),s.jsx("p",{className:"text-sm text-green-700",children:"In progress"})]}),s.jsx(X,{className:"h-8 w-8 text-green-600"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Campaigns"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(i.reduce((f,m)=>f+m.amount,0))}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Payouts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(n.filter(f=>f.status==="completed").length/Math.max(n.length,1)*100),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]})]})]})]})},Mn=()=>{const{user:e}=Ae(),{campaigns:t,orders:r,transactions:n}=he(),a=e,i=t.filter(h=>h.founderId===a.id),l=r.filter(h=>h.founderId===a.id),o=n.filter(h=>h.userId===a.id),c=h=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(h),d=o.filter(h=>h.type==="debit").reduce((h,x)=>h+x.amount,0),u=[{name:"Active Campaigns",value:i.filter(h=>h.status==="active").length.toString(),icon:wt,color:"bg-blue-500"},{name:"Total Orders",value:l.length.toString(),icon:Se,color:"bg-green-500"},{name:"Completed Reviews",value:l.filter(h=>h.status==="completed").length.toString(),icon:ts,color:"bg-purple-500"},{name:"Wallet Balance",value:c(a.walletBalance),icon:se,color:"bg-yellow-500"}],f=i.slice(0,3).map(h=>({id:h.id,name:h.title,status:h.status,applicants:h.applicants.length,budget:c(h.price)})),m=l.slice(0,3).map(h=>({id:h.id,talent:h.talentName,product:h.productName,status:h.status,date:h.createdAt.toLocaleDateString()}));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Founder Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage your campaigns and track performance"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(h=>{const x=h.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${h.color}`,children:s.jsx(x,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:h.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value})]})]})},h.name)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Performance"}),s.jsx(bn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(se,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Campaign Investment"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:c(d)}),s.jsxs("p",{className:"text-sm text-gray-400",children:[i.length," campaigns created"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Campaigns"}),s.jsx("div",{className:"space-y-3",children:f.length>0?f.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.applicants," applicants • ",h.budget]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="active"?"bg-green-100 text-green-800":h.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:h.status})]},h.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(wt,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No campaigns yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Create your first campaign to get started"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),s.jsx("div",{className:"space-y-3",children:m.length>0?m.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.talent}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.product," • ",h.date]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="review_submitted"?"bg-blue-100 text-blue-800":h.status==="delivered"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:h.status.replace("_"," ")})]},h.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Se,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No orders yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Orders will appear when talents are approved"})]})})]})]})]})},rn=()=>{const{user:e}=Ae(),{orders:t,earnings:r,campaigns:n}=he(),a=e,i=t.filter(g=>g.talentId===a.id),l=r.filter(g=>g.talentId===a.id);n.filter(g=>g.applicants.includes(a.id));const o=g=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(g),c=l.filter(g=>g.status==="paid").reduce((g,y)=>g+y.amount,0),d=l.filter(g=>g.status==="pending").reduce((g,y)=>g+y.amount,0),u=l.filter(g=>g.status==="paid").length,f=i.length>0?Math.round(i.filter(g=>g.status==="completed").length/i.length*100):0,m=[{name:"Active Jobs",value:i.filter(g=>!["completed"].includes(g.status)).length.toString(),icon:Tv,color:"bg-blue-500"},{name:"Total Earnings",value:o(c),icon:se,color:"bg-green-500"},{name:"Reviews Completed",value:u.toString(),icon:je,color:"bg-purple-500"},{name:"Success Rate",value:`${f}%`,icon:Gu,color:"bg-yellow-500"}],h=i.filter(g=>!["completed"].includes(g.status)).slice(0,3).map(g=>({id:g.id,campaign:g.campaignTitle,brand:"Brand",deadline:new Date(Date.now()+7*24*60*60*1e3).toLocaleDateString(),status:g.status,payout:o(g.payout)})),x=l.filter(g=>g.status==="paid").slice(0,3).map(g=>{var y;return{id:g.id,campaign:g.campaignTitle,amount:o(g.amount),date:((y=g.paidAt)==null?void 0:y.toLocaleDateString())||g.earnedAt.toLocaleDateString(),status:g.status}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Talent Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Track your jobs and earnings"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(g=>{const y=g.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:s.jsx(y,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.value})]})]})},g.name)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings Overview"}),s.jsx(bn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-green-50 to-blue-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(se,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Earnings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:o(c)}),s.jsxs("p",{className:"text-sm text-gray-400",children:[o(d)," pending • ",u," jobs completed"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Jobs"}),s.jsx("div",{className:"space-y-3",children:h.length>0?h.map(g=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:g.campaign}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:g.payout})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.brand}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Due: ",g.deadline]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.status==="completed"?"bg-green-100 text-green-800":g.status==="review_submitted"?"bg-blue-100 text-blue-800":g.status==="delivered"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:g.status.replace("_"," ")})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tv,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No active jobs"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Apply to campaigns to get started"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Earnings"}),s.jsx("div",{className:"space-y-3",children:x.length>0?x.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:g.campaign}),s.jsx("p",{className:"text-sm text-gray-600",children:g.date})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-green-600",children:g.amount}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:g.status})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(se,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No earnings yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Complete jobs to start earning"})]})})]})]})]})},HE=({campaign:e,onApply:t,onView:r,showApplyButton:n=!1,loading:a=!1,approvedTalentDetails:i=[]})=>{var u;const l=f=>{switch(f){case"video":return s.jsx(Qt,{className:"h-4 w-4"});case"image":return s.jsx(Xt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx(Qt,{className:"h-4 w-4"})]})}},o=f=>{switch(f){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},c=f=>{switch(f){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return f}},d=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-1 md:mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 text-xs md:text-sm mb-2 md:mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-gray-500 mb-2 md:mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ig,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),s.jsx("span",{children:e.productName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),e.applicants.length," applicants"]}),s.jsxs("div",{className:"flex items-center",children:[l(e.mediaType),s.jsx("span",{className:"ml-0.5 md:ml-1 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($t,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),s.jsx("span",{children:c(e.duration)})]}),s.jsx("span",{className:"px-1.5 md:px-2 py-0.5 md:py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:e.category})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1 md:space-y-2 ml-2",children:[s.jsxs("span",{className:`px-1.5 md:px-2 py-0.5 md:py-1 text-xs font-medium rounded-full ${o(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsx("span",{className:`px-1.5 md:px-2 py-0.5 md:py-1 text-xs font-medium rounded-full ${e.status==="active"?"bg-green-100 text-green-800":e.status==="completed"?"bg-blue-100 text-blue-800":e.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),((u=e.productImages)==null?void 0:u.length)>0&&s.jsx("div",{className:"mb-3 md:mb-4",children:s.jsxs("div",{className:"flex space-x-1 md:space-x-2 overflow-x-auto",children:[e.productImages.slice(0,3).map((f,m)=>s.jsx("img",{src:f,alt:`${e.productName} ${m+1}`,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded-lg border border-gray-200 flex-shrink-0"},m)),e.productImages.length>3&&s.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center text-xs text-gray-500",children:["+",e.productImages.length-3]})]})}),(i==null?void 0:i.length)>0&&s.jsxs("div",{className:"mb-3 md:mb-4 p-2 md:p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-xs font-medium text-green-800 mb-1 md:mb-2",children:"Approved Talents:"}),s.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2",children:i.map(f=>s.jsxs("div",{className:"flex items-center space-x-1 bg-white px-1.5 md:px-2 py-0.5 md:py-1 rounded-full border border-green-200",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-green-500 to-blue-600 text-white text-xs font-bold",children:f.avatar?s.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full object-cover"}):f.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-xs text-green-800 truncate max-w-[60px] md:max-w-[100px]",children:f.name}),s.jsxs("span",{className:"text-xs text-green-600",children:["(",f.rateLevel,"★)"]})]},f.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 md:pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[s.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-500",children:[s.jsx(Ne,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Created ",e.createdAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center text-base md:text-lg font-bold text-green-600",children:[s.jsx(se,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),d(e.price)]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&s.jsx("button",{onClick:r,className:"px-2 md:px-3 py-0.5 md:py-1 text-xs md:text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"View Details"}),n&&t&&s.jsx("button",{onClick:t,disabled:typeof a=="function"?a(e.id):a,className:"px-3 md:px-4 py-1 md:py-2 text-xs md:text-sm text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 rounded-md transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:typeof a=="function"?a(e.id)?"Applying...":"Apply Now":a?"Applying...":"Apply Now"})]})]})]})},VE=({talent:e,onClose:t,onApprove:r,onReject:n,showActions:a=!0})=>{const i=c=>{switch(c){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),o=c=>c.includes(".mp4")||c.includes(".mov")||c.includes(".webm")||c.includes("video")||c.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Talent Profile"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"w-24 h-24 overflow-hidden rounded-full flex-shrink-0",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${i(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${e.status==="active"?"bg-green-100 text-green-800":e.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(je,{className:"h-5 w-5 text-blue-600"})}),s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Rate Level"}),s.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[e.rateLevel," Star"]})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(se,{className:"h-5 w-5 text-green-600"})}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earnings"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:l(e.totalEarnings)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Ne,{className:"h-5 w-5 text-purple-600"})}),s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:e.createdAt.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((c,d)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium",children:c},d))})]}),e.socialMedia&&Object.values(e.socialMedia).some(c=>c)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media"}),s.jsxs("div",{className:"space-y-3",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zl,{className:"h-5 w-5 text-pink-500"}),s.jsxs("a",{href:`https://instagram.com/${e.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.instagram,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsxs("a",{href:e.socialMedia.youtube.startsWith("http")?e.socialMedia.youtube:`https://youtube.com/${e.socialMedia.youtube}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.youtube,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((c,d)=>s.jsx("div",{className:"relative group",children:o(c)?s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[s.jsx("video",{src:c,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ol,{className:"h-10 w-10 text-white"})})]}):s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:c,alt:`Portfolio ${d+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Xt,{className:"h-6 w-6 text-white"})})})]})},d))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Metrics"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"94%"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"23"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(c=>s.jsx(je,{className:`h-4 w-4 ${c<=4.8?"text-yellow-400 fill-current":"text-gray-300"}`},c))}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"4.8"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Response Time"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"2 hours"})]})]})})]})]}),a&&s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Reject"}),s.jsx("button",{onClick:r,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",children:"Approve Application"})]})]})})},xN=({campaignId:e,onClose:t})=>{const{user:r,updateProfile:n}=Ae(),{campaigns:a,talents:i,setCampaigns:l,orders:o,setOrders:c,earnings:d,setEarnings:u,transactions:f,setTransactions:m,refreshData:h}=he(),[x,g]=w.useState(null),[y,p]=w.useState(""),[v,b]=w.useState(null),S=a.find(C=>C.id===e);if(!S)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[s.jsx("p",{children:"Campaign not found. Please try again."}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Close"})]})});const j=i.filter(C=>S.applicants.includes(C.id)),N=j.filter(C=>C.name.toLowerCase().includes(y.toLowerCase())||C.email.toLowerCase().includes(y.toLowerCase())||C.skills.some(E=>E.toLowerCase().includes(y.toLowerCase()))),_=C=>{switch(C){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},k=C=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(C),A=C=>C.includes(".mp4")||C.includes(".mov")||C.includes(".webm")||C.includes("video")||C.endsWith(".mp4"),O=async C=>{b(C);try{const E=r;if(E.walletBalance<S.price){alert("Insufficient wallet balance. Please top up your wallet before approving talents.");return}await Cv(S.id,C,"approved");const R={...S,applicants:S.applicants.filter(z=>z!==C),approvedTalents:[...S.approvedTalents,C]};l(a.map(z=>z.id===S.id?R:z));try{if(i.find(M=>M.id===C)){const M=await wE({campaignId:S.id,talentId:C,founderId:(r==null?void 0:r.id)||"",status:"pending_shipment",payout:S.price});c([M,...o]);const B=await nl({userId:E.id,type:"debit",amount:S.price,description:`Payment Hold - ${S.title} (Talent Approved)`,relatedJobId:M.id});m([B,...f]);const I={...E,walletBalance:E.walletBalance-S.price};await(n==null?void 0:n(I)),await h(),t(),x&&x.id===C&&g(null)}}catch(z){throw console.error("Error creating order or transaction:",z),z}}catch(E){console.error("Error approving talent:",E),alert("Failed to approve talent. Please try again.")}finally{b(null)}},P=async C=>{b(C);try{await Cv(S.id,C,"rejected");const E={...S,applicants:S.applicants.filter(z=>z!==C)};l(a.map(z=>z.id===S.id?E:z)),await h();const R=i.find(z=>z.id===C);alert(`Talent ${R==null?void 0:R.name} application has been rejected.`),x&&x.id===C&&g(null)}catch(E){console.error("Error rejecting talent:",E),alert("Failed to reject talent. Please try again.")}finally{b(null)}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] md:max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Campaign Applicants"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:S.title})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-3 md:p-4 mb-4 md:mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm md:text-base font-semibold text-blue-900",children:S.title}),s.jsxs("p",{className:"text-blue-700 text-xs md:text-sm",children:[S.productName," • ",S.category]}),s.jsxs("p",{className:"text-blue-700 text-xs md:text-sm",children:["Payment: ",k(S.price)," per approved talent"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qe,{className:"h-5 w-5 text-blue-600"}),s.jsxs("span",{className:"text-xs md:text-sm text-blue-900 font-medium",children:[j.length," Applicants"]})]})]})}),s.jsx("div",{className:"mb-4 md:mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search applicants by name, email, or skills...",value:y,onChange:C=>p(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),N.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:N.map(C=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 md:p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-3 md:space-x-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full overflow-hidden flex-shrink-0",children:C.avatar?s.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:C.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:C.name}),s.jsxs("span",{className:`px-2 py-0.5 md:py-1 text-xs font-medium rounded-full ${_(C.rateLevel)}`,children:[C.rateLevel," Star"]})]}),s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 mb-2 md:mb-3",children:[s.jsx(Pn,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:C.email})]}),C.bio&&s.jsx("p",{className:"text-gray-700 text-xs md:text-sm mb-2 md:mb-3 line-clamp-2",children:C.bio}),C.skills.length>0&&s.jsxs("div",{className:"mb-2 md:mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5 md:mb-1",children:"Skills:"}),s.jsxs("div",{className:"flex flex-wrap gap-0.5 md:gap-1",children:[C.skills.slice(0,3).map((E,R)=>s.jsx("span",{className:"px-1.5 md:px-2 py-0.5 md:py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:E},R)),C.skills.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:["+",C.skills.length-3," more"]})]})]}),C.socialMedia&&Object.values(C.socialMedia).some(E=>E)&&s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 mb-2 md:mb-3",children:[C.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-0.5 md:space-x-1",children:[s.jsx(Zl,{className:"h-3 w-3 md:h-4 md:w-4 text-pink-500"}),s.jsx("span",{className:"text-xs text-gray-600 truncate max-w-[80px] md:max-w-[120px]",children:C.socialMedia.instagram})]}),C.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-0.5 md:space-x-1",children:[s.jsx(ro,{className:"h-3 w-3 md:h-4 md:w-4 text-red-500"}),s.jsx("span",{className:"text-xs text-gray-600",children:"YouTube"})]})]}),C.portfolio&&C.portfolio.length>0&&s.jsxs("div",{className:"mb-3 md:mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 md:mb-2",children:"Portfolio:"}),s.jsxs("div",{className:"flex space-x-1 md:space-x-2 overflow-x-auto pb-1 md:pb-2",children:[C.portfolio.slice(0,4).map((E,R)=>s.jsx("div",{className:"relative flex-shrink-0",children:A(E)?s.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-100 rounded border border-gray-200 flex items-center justify-center relative",children:[s.jsx(Qt,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-400"}),s.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:s.jsx("video",{src:E,className:"w-full h-full object-cover",muted:!0})})]}):s.jsx("img",{src:E,alt:`Portfolio ${R+1}`,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded border border-gray-200"})},R)),C.portfolio.length>4&&s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-100 rounded border border-gray-200 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.portfolio.length-4]})})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("button",{onClick:()=>g(C),className:"flex-1 px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-gray-300",children:[s.jsx(tn,{className:"h-3 w-3 md:h-4 md:w-4 inline mr-1"}),"View Details"]}),s.jsx("button",{onClick:()=>O(C.id),disabled:v===C.id,className:"px-3 md:px-4 py-1 md:py-2 text-xs md:text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v===C.id?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(DE,{className:"h-3 w-3 md:h-4 md:w-4 inline mr-1"}),"Approve"]})}),s.jsx("button",{onClick:()=>P(C.id),disabled:v===C.id,className:"px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v===C.id?s.jsx("span",{className:"flex items-center",children:s.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):s.jsx(gN,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]})]})},C.id))}):s.jsxs("div",{className:"text-center py-8 md:py-12",children:[s.jsx(qe,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 text-gray-300"}),s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-1 md:mb-2",children:y?"No matching applicants":"No applicants yet"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:y?"Try adjusting your search terms":"Applicants will appear here when talents apply to your campaign"})]})]})]})}),x&&s.jsx(VE,{talent:x,onClose:()=>g(null),onApprove:()=>{O(x.id),g(null)},onReject:()=>{P(x.id),g(null)}})]})},vN=({campaign:e,onClose:t,onEdit:r,onDelete:n,onStatusChange:a,isTalentView:i=!1})=>{const{talents:l}=he(),[o,c]=w.useState(!1),d=y=>[".mp4",".mov",".webm",".ogg",".m4v"].some(v=>y.toLowerCase().includes(v)),u=y=>{switch(y){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=y=>{switch(y){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},m=y=>{switch(y){case"video":return s.jsx(Qt,{className:"h-4 w-4"});case"image":return s.jsx(Xt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx(Qt,{className:"h-4 w-4"})]})}},h=y=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(y),x=y=>{switch(y){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return y}},g=()=>l.filter(y=>e.approvedTalents.includes(y.id));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${u(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${f(e.rateLevel)}`,children:[e.rateLevel," Star Level"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ig,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($t,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsx("p",{className:"font-medium text-gray-900",children:x(e.duration)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Price"}),s.jsx("p",{className:"font-medium text-green-600",children:h(e.price)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[m(e.mediaType),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Media Type"}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})]})]}),e.productImages&&e.productImages.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.productImages.map((y,p)=>d(y)?s.jsx("video",{src:y,controls:!0,className:"w-full h-32 object-cover rounded-lg border border-gray-200 bg-black",poster:""},p):s.jsx("img",{src:y,alt:`${e.productName} ${p+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"},p))})]}),!i&&g().length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Approved Talents"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g().map(y=>s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:y.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-green-900",children:y.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(y.rateLevel)}`,children:[y.rateLevel," Star"]}),s.jsx("span",{className:"text-xs text-green-600",children:"Approved"})]})]})]})},y.id))})]}),!i&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Application Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qe,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.applicants.length})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Approved Talents"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.approvedTalents.length})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]})]})})]})]}),!i&&e.applicants.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Pending Applications"}),s.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Review Applications (",e.applicants.length,")"]})]}),s.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:s.jsxs("p",{className:"text-yellow-800",children:["You have ",e.applicants.length," pending application",e.applicants.length!==1?"s":""," waiting for your review."]})})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})})]})}),o&&s.jsx(xN,{campaignId:e.id,onClose:()=>c(!1)})]})},YE=()=>{const{campaigns:e,refreshData:t,talents:r}=he(),{user:n}=Ae(),[a,i]=w.useState(""),[l,o]=w.useState(null),[c,d]=w.useState(""),[u,f]=w.useState(!1),[m,h]=w.useState(""),[x,g]=w.useState(new Set),[y,p]=w.useState(null),v=n,b=(v==null?void 0:v.rateLevel)||1,S=(v==null?void 0:v.status)==="active",j=[];for(let P=1;P<=b;P++)j.push(P);const N=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"];if(!S)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace"}),s.jsx("p",{className:"text-gray-600",children:"Find and apply to campaigns that match your skills"})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"p-4 bg-yellow-100 rounded-full",children:s.jsx(Al,{className:"h-12 w-12 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Account Pending Approval"}),s.jsx("p",{className:"text-yellow-700 mb-4",children:"Your talent account is currently under review by our admin team. You'll be able to view and apply to campaigns once your account is approved."}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"What happens next?"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 text-left",children:[s.jsx("li",{children:"• Admin will review your profile and portfolio"}),s.jsx("li",{children:"• Your rate level (1-3 stars) will be assigned"}),s.jsx("li",{children:"• You'll receive email notification when approved"}),s.jsx("li",{children:"• Access to marketplace will be automatically enabled"})]})]})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"While you wait, complete your profile:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-700",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Profile Information"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Add a professional bio"}),s.jsx("li",{children:"• Upload portfolio samples"}),s.jsx("li",{children:"• List your skills and expertise"})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Social Media"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Connect Instagram account"}),s.jsx("li",{children:"• Add YouTube channel"}),s.jsx("li",{children:"• Showcase your content style"})]})]})]})]})]});const _=e.filter(P=>{const C=P.title.toLowerCase().includes(a.toLowerCase())||P.description.toLowerCase().includes(a.toLowerCase())||P.productName.toLowerCase().includes(a.toLowerCase())||P.category.toLowerCase().includes(a.toLowerCase()),E=l?P.rateLevel===l:P.rateLevel<=b,R=c?P.category===c:!0,z=P.status==="active",M=!P.applicants.includes((n==null?void 0:n.id)||""),B=!P.approvedTalents.includes((n==null?void 0:n.id)||"");return C&&E&&R&&z&&M&&B}),k=async P=>{if(n&&!x.has(P)){g(C=>new Set(C).add(P));try{await bE(P,n.id);const C=e.find(E=>E.id===P);C&&h(C.title),await t(),f(!0),setTimeout(()=>{f(!1)},3e3)}catch(C){console.error("Error applying to campaign:",C),alert("Failed to apply to campaign. Please try again.")}finally{g(C=>{const E=new Set(C);return E.delete(P),E})}}},A=e.filter(P=>P.applicants.includes((n==null?void 0:n.id)||"")),O=e.filter(P=>P.approvedTalents.includes((n==null?void 0:n.id)||""));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace"}),s.jsx("p",{className:"text-gray-600",children:"Find and apply to campaigns that match your skills"})]}),u&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(X,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Application Submitted!"}),s.jsxs("p",{className:"text-green-700 text-sm",children:[`You've successfully applied to "`,m,'". The founder will review your application.']})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Rate Level"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You can apply to campaigns up to your rate level"})]}),s.jsxs("div",{className:"flex items-center",children:[[1,2,3].map(P=>s.jsx(je,{className:`h-5 w-5 ${P<=b?"text-yellow-500 fill-current":"text-gray-300"}`},P)),s.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[b," Star"]})]})]})}),(A.length>0||O.length>0)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ls,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Your Applications"}),s.jsxs("p",{className:"text-blue-700 text-sm",children:[A.length>0&&s.jsxs("span",{children:["You have applied to ",A.length," campaign",A.length!==1?"s":"",". "]}),O.length>0&&s.jsxs("span",{children:["You have been approved for ",O.length," campaign",O.length!==1?"s":"",". "]}),"Check your dashboard for updates."]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns, products, or categories...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Categories"}),N.map(P=>s.jsx("option",{value:P,children:P},P))]}),s.jsxs("select",{value:l||"",onChange:P=>o(P.target.value?Number(P.target.value):null),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Levels"}),j.map(P=>s.jsxs("option",{value:P,children:[P," Star"]},P))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(wt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Campaigns"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:_.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Applications"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:A.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(je,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Eligible Level"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["Up to ",b," Star"]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.length>0?_.map(P=>s.jsx(HE,{campaign:P,onApply:()=>k(P.id),showApplyButton:!0,loading:C=>x.has(C),onView:()=>p(P)},P.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(wt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No campaigns available"}),s.jsx("p",{className:"text-sm",children:a||c||l?"Try adjusting your search terms or filters":"Check back later for new opportunities that match your rate level"})]})})}),y&&s.jsx(vN,{campaign:y,isTalentView:!0,onClose:()=>p(null)})]})},GE={rateLevel:{1:{"30sec":65,"1min":70,"3min":125},2:{"30sec":97.5,"1min":105,"3min":187.5},3:{"30sec":130,"1min":140,"3min":250}}},JE=(e,t)=>GE.rateLevel[e][t],XE=({onClose:e,onSuccess:t})=>{var k;const{user:r}=Ae(),{refreshData:n}=he(),[a,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState({title:"",description:"",productName:"",category:"",duration:"30sec",rateLevel:1,mediaType:"both"}),[u,f]=w.useState([]),m=w.useRef(null),h=r,x=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"],g=[{value:"30sec",label:"30 Seconds"},{value:"1min",label:"1 Minute"},{value:"3min",label:"3 Minutes"}],y=A=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(A),p=JE(c.rateLevel,c.duration),v=h.walletBalance<p,b=A=>{const{name:O,value:P}=A.target;d(C=>({...C,[O]:O==="rateLevel"?Number(P):P}))},S=async A=>{const O=A.target.files;if(!(!O||O.length===0)){o(!0);try{const{data:{user:P}}=await J.auth.getUser();if(!P)throw new Error("User not authenticated");const C=[];for(let E=0;E<O.length;E++){const R=O[E];if(!R.type.startsWith("image/")&&!R.type.startsWith("video/")){console.warn(`${R.name} is not a valid image or video file.`);continue}if(R.size>20*1024*1024){console.warn(`${R.name} is too large. Maximum size is 20MB.`);continue}const z=R.name.split(".").pop(),M=`${P.id}/campaign-new-${Date.now()}-${E}.${z}`,{data:B,error:I}=await J.storage.from("campaign-media").upload(M,R,{cacheControl:"3600",upsert:!0});if(I){console.error("Error uploading file:",I);continue}const{data:U}=J.storage.from("campaign-media").getPublicUrl(B.path);C.push(U.publicUrl)}f(E=>[...E,...C]),m.current&&(m.current.value="")}catch(P){console.error("Error uploading files:",P),alert("Failed to upload some files. Please try again.")}finally{o(!1)}}},j=async A=>{try{const O=u[A],C=new URL(O).pathname.match(/\/campaign-media\/(.+)$/);if(C&&C[1]){const E=decodeURIComponent(C[1]),{error:R}=await J.storage.from("campaign-media").remove([E]);R&&console.error("Error removing file from storage:",R)}f(E=>E.filter((R,z)=>z!==A))}catch(O){console.error("Error removing image:",O)}},N=async A=>{if(A.preventDefault(),!!r){if(v){alert(`Insufficient wallet balance. You need ${y(p)} but only have ${y(h.walletBalance)}. Please top up your wallet first.`);return}try{i(!0);const O={founderId:r.id,title:c.title,description:c.description,productName:c.productName,category:c.category,duration:c.duration,productImages:u,rateLevel:c.rateLevel,mediaType:c.mediaType,budget:0,price:p,status:"active"};await vE(O),await n(),t()}catch(O){console.error("Error creating campaign:",O),alert("Failed to create campaign. Please try again.")}finally{i(!1)}}},_=A=>A.includes(".mp4")||A.includes(".mov")||A.includes(".webm")||A.includes("video")||A.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Campaign"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[v&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ls,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Insufficient Wallet Balance"}),s.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["You need ",y(p)," but only have ",y(h.walletBalance),". Please top up your wallet before creating this campaign."]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:c.title,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter campaign title"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",required:!0,rows:4,value:c.description,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your campaign and what you're looking for"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",id:"productName",name:"productName",required:!0,value:c.productName,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{id:"category",name:"category",required:!0,value:c.category,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),x.map(A=>s.jsx("option",{value:A,children:A},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Duration *"}),s.jsx("select",{id:"duration",name:"duration",value:c.duration,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(A=>s.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rateLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Level *"}),s.jsxs("select",{id:"rateLevel",name:"rateLevel",value:c.rateLevel,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:1,children:"1 Star - Entry Level"}),s.jsx("option",{value:2,children:"2 Star - Intermediate"}),s.jsx("option",{value:3,children:"3 Star - Premium"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mediaType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),s.jsxs("select",{id:"mediaType",name:"mediaType",value:c.mediaType,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"image",children:"Image Only"}),s.jsx("option",{value:"video",children:"Video Only"}),s.jsx("option",{value:"both",children:"Both Image & Video"})]})]})]}),s.jsxs("div",{className:`rounded-lg p-4 border ${v?"bg-red-50 border-red-200":"bg-gradient-to-r from-green-50 to-blue-50 border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(se,{className:`h-5 w-5 ${v?"text-red-600":"text-green-600"}`}),s.jsx("h4",{className:`font-semibold ${v?"text-red-900":"text-green-900"}`,children:"Campaign Price"})]}),s.jsx("p",{className:`text-3xl font-bold ${v?"text-red-800":"text-green-800"}`,children:y(p)}),s.jsxs("p",{className:`text-sm ${v?"text-red-700":"text-green-700"}`,children:[c.rateLevel," Star Level • ",(k=g.find(A=>A.value===c.duration))==null?void 0:k.label]})]}),s.jsx("div",{className:`p-3 rounded-full ${v?"bg-red-500":"bg-green-500"}`,children:s.jsx(se,{className:"h-6 w-6 text-white"})})]}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx($E,{className:"h-4 w-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsx("p",{className:"font-medium mb-1",children:"Wallet Information:"}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Balance:"}),s.jsx("span",{className:"font-medium",children:y(h.walletBalance)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Campaign Cost:"}),s.jsx("span",{className:"font-medium",children:y(p)})]}),s.jsxs("div",{className:"flex justify-between border-t border-blue-200 pt-1",children:[s.jsx("span",{children:"Remaining Balance:"}),s.jsx("span",{className:`font-medium ${v?"text-red-600":"text-green-600"}`,children:y(Math.max(0,h.walletBalance-p))})]})]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images & Videos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(cs,{className:"w-8 h-8 mb-2 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," product media"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Images & Videos (MAX. 20MB each)"})]}),s.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*",onChange:S,ref:m,disabled:l})]})}),l&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Uploading media..."})]}),u.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.map((A,O)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:_(A)?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:A,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-8 w-8 text-white drop-shadow-lg"})})]}):s.jsx("img",{src:A,alt:`Product ${O+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>j(O),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(to,{className:"h-4 w-4"})})]},O))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:a||l||v,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":v?"Insufficient Balance":`Create Campaign - ${y(p)}`})]})]})]})})},QE=({campaign:e,onClose:t,onSuccess:r})=>{const{user:n}=Ae(),{campaigns:a,setCampaigns:i}=he(),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState({title:e.title,description:e.description,productName:e.productName,category:e.category,duration:e.duration,rateLevel:e.rateLevel,mediaType:e.mediaType}),[m,h]=w.useState(e.productImages),x=w.useRef(null),g=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"],y=[{value:"30sec",label:"30 Seconds"},{value:"1min",label:"1 Minute"},{value:"3min",label:"3 Minutes"}],p=N=>{const{name:_,value:k}=N.target;f(A=>({...A,[_]:_==="rateLevel"?Number(k):k}))},v=async N=>{const _=N.target.files;if(!(!_||_.length===0)){d(!0);try{const{data:{user:k}}=await J.auth.getUser();if(!k)throw new Error("User not authenticated");const A=[];for(let O=0;O<_.length;O++){const P=_[O];if(!P.type.startsWith("image/")&&!P.type.startsWith("video/")){console.warn(`${P.name} is not a valid image or video file.`);continue}if(P.size>20*1024*1024){console.warn(`${P.name} is too large. Maximum size is 20MB.`);continue}const C=P.name.split(".").pop(),E=`${k.id}/campaign-${e.id}-${Date.now()}-${O}.${C}`,{data:R,error:z}=await J.storage.from("campaign-media").upload(E,P,{cacheControl:"3600",upsert:!0});if(z){console.error("Error uploading file:",z);continue}const{data:M}=J.storage.from("campaign-media").getPublicUrl(R.path);A.push(M.publicUrl)}h(O=>[...O,...A]),x.current&&(x.current.value="")}catch(k){console.error("Error uploading files:",k),alert("Failed to upload some files. Please try again.")}finally{d(!1)}}},b=async N=>{try{const _=m[N],A=new URL(_).pathname.match(/\/campaign-media\/(.+)$/);if(A&&A[1]){const O=decodeURIComponent(A[1]),{error:P}=await J.storage.from("campaign-media").remove([O]);P&&console.error("Error removing file from storage:",P)}h(O=>O.filter((P,C)=>C!==N))}catch(_){console.error("Error removing image:",_)}},S=async N=>{if(N.preventDefault(),!!n){o(!0);try{const _={...e,title:u.title,description:u.description,productName:u.productName,category:u.category,duration:u.duration,productImages:m,rateLevel:u.rateLevel,mediaType:u.mediaType};await uN(e.id,{title:u.title,description:u.description,product_name:u.productName,category:u.category,duration:u.duration,product_images:m,rate_level:u.rateLevel,media_type:u.mediaType}),i(a.map(k=>k.id===e.id?_:k)),r()}catch(_){console.error("Error updating campaign:",_),alert("Failed to update campaign. Please try again.")}finally{o(!1)}}},j=N=>N.includes(".mp4")||N.includes(".mov")||N.includes(".webm")||N.includes("video")||N.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Campaign"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:u.title,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter campaign title"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",required:!0,rows:4,value:u.description,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your campaign and what you're looking for"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",id:"productName",name:"productName",required:!0,value:u.productName,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{id:"category",name:"category",required:!0,value:u.category,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),g.map(N=>s.jsx("option",{value:N,children:N},N))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Duration *"}),s.jsx("select",{id:"duration",name:"duration",value:u.duration,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:y.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rateLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Level *"}),s.jsxs("select",{id:"rateLevel",name:"rateLevel",value:u.rateLevel,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:1,children:"1 Star - Entry Level"}),s.jsx("option",{value:2,children:"2 Star - Intermediate"}),s.jsx("option",{value:3,children:"3 Star - Premium"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mediaType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),s.jsxs("select",{id:"mediaType",name:"mediaType",value:u.mediaType,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"image",children:"Image Only"}),s.jsx("option",{value:"video",children:"Video Only"}),s.jsx("option",{value:"both",children:"Both Image & Video"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images & Videos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(cs,{className:"w-8 h-8 mb-2 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," product media"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Images & Videos (MAX. 20MB each)"})]}),s.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*",onChange:v,ref:x,disabled:c})]})}),c&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Uploading media..."})]}),m.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.map((N,_)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:j(N)?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:N,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-8 w-8 text-white drop-shadow-lg"})})]}):s.jsx("img",{src:N,alt:`Product ${_+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>b(_),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(to,{className:"h-4 w-4"})})]},_))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:l||c,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{children:l?"Updating...":"Update Campaign"})]})]})]})]})})},ZE=()=>{const{user:e}=Ae(),{campaigns:t,setCampaigns:r,talents:n,refreshData:a}=he(),[i,l]=w.useState(!1),[o,c]=w.useState(null),[d,u]=w.useState(null),[f,m]=w.useState(null),[h,x]=w.useState(""),[g,y]=w.useState("all"),[p,v]=w.useState(!1),b=t.filter(M=>M.founderId===(e==null?void 0:e.id)),S=b.filter(M=>{const B=M.title.toLowerCase().includes(h.toLowerCase())||M.description.toLowerCase().includes(h.toLowerCase()),I=g==="all"||M.status===g;return B&&I}),j=M=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(M),N=()=>{l(!1),a()},_=()=>{c(null),a()},k=async(M,B)=>{v(!0);try{await uN(M,{status:B}),await a()}catch(I){alert("Failed to update campaign status. Please try again."),console.error(I)}finally{v(!1)}},A=async M=>{if(window.confirm("Are you sure you want to delete this campaign? This action cannot be undone.")){v(!0);try{await yE(M),await a()}catch(B){alert("Failed to delete campaign. Please try again."),console.error(B)}finally{v(!1)}}},O=M=>{c(M)},P=M=>{u(M)},C=M=>{m(M)},E=M=>n.filter(B=>M.approvedTalents.includes(B.id)),R=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=M=>{switch(M){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return M}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"My Campaigns"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Create and manage your marketing campaigns"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-1 md:space-x-2 px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:[s.jsx(al,{className:"h-4 w-4 md:h-5 md:w-5"}),s.jsx("span",{children:"Create Campaign"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 md:p-4 border border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-2 md:space-x-3",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm md:text-base font-medium text-yellow-900 mb-0.5 md:mb-1",children:"Payment Hold System"}),s.jsx("p",{className:"text-xs md:text-sm text-yellow-700",children:"When you approve a talent application, the campaign amount will be immediately deducted from your wallet and held until the review is completed. Payment will be released to the talent only after you approve their submitted content."})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-blue-500",children:s.jsx(Ol,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:b.filter(M=>M.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-yellow-500",children:s.jsx($v,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Paused"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:b.filter(M=>M.status==="paused").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-green-500",children:s.jsx(qe,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Applicants"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:b.reduce((M,B)=>M+B.applicants.length,0)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-purple-500",children:s.jsx(se,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:j(b.reduce((M,B)=>M+B.price,0))})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns...",value:h,onChange:M=>x(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:g,onChange:M=>y(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"draft",children:"Draft"})]})]})]}),s.jsx("div",{className:"space-y-3 md:space-y-4",children:S.length>0?S.map(M=>{const B=E(M);return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3 md:gap-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:M.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${R(M.status)}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)}),M.approvedTalents.length>0&&s.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center",children:[s.jsx(X,{className:"h-3 w-3 mr-0.5"}),M.approvedTalents.length," Approved"]}),M.applicants.length>0&&s.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 flex items-center",children:[s.jsx($t,{className:"h-3 w-3 mr-0.5"}),M.applicants.length," Pending"]})]}),s.jsx("p",{className:"text-gray-600 text-xs md:text-sm mb-2 md:mb-3 line-clamp-2",children:M.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-gray-500 mb-2 md:mb-3",children:[s.jsxs("span",{className:"whitespace-nowrap",children:["Product: ",M.productName]}),s.jsxs("span",{className:"whitespace-nowrap",children:["Category: ",M.category]}),s.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[s.jsx($t,{className:"h-3 w-3 md:h-4 md:w-4 mr-0.5 md:mr-1"}),s.jsx("span",{children:z(M.duration)})]}),s.jsxs("span",{className:"whitespace-nowrap",children:["Level: ",M.rateLevel,"★"]}),s.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[s.jsx(qe,{className:"h-3 w-3 md:h-4 md:w-4 mr-0.5 md:mr-1"}),s.jsxs("span",{children:[M.applicants.length," applicants"]})]}),s.jsxs("div",{className:"flex items-center font-semibold text-green-600 whitespace-nowrap",children:[s.jsx(se,{className:"h-3 w-3 md:h-4 md:w-4 mr-0.5 md:mr-1"}),s.jsx("span",{children:j(M.price)})]})]}),B.length>0&&s.jsxs("div",{className:"mt-2 md:mt-3 p-2 md:p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-xs md:text-sm font-medium text-green-800 mb-1 md:mb-2",children:"Approved Talents:"}),s.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2",children:B.map(I=>s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 bg-white px-2 md:px-3 py-0.5 md:py-1 rounded-full border border-green-200",children:[s.jsx("div",{className:"w-4 h-4 md:w-6 md:h-6 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-green-500 to-blue-600 text-white text-xs font-bold",children:I.avatar?s.jsx("img",{src:I.avatar,alt:I.name,className:"w-full h-full object-cover"}):I.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-sm text-green-800 font-medium",children:I.name}),s.jsxs("span",{className:"text-xs text-green-600",children:["(",Array.from({length:I.rateLevel}).map((U,Y)=>s.jsx("span",{children:"⭐"},Y)),")"]}),s.jsx("span",{className:"text-xs md:text-sm text-green-800 font-medium truncate max-w-[60px] md:max-w-[100px]",children:I.name}),s.jsxs("span",{className:"text-xs text-green-600",children:["(",I.rateLevel,"★)"]}),s.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-1.5 md:px-2 py-0.5 rounded-full hidden sm:inline-block",children:[j(M.price)," held"]})]},I.id))})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 justify-end",children:[M.applicants.length>0&&s.jsxs("button",{onClick:()=>C(M),className:"p-1.5 md:p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors relative",title:"View Applicants",children:[s.jsx(qe,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}),M.applicants.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 md:h-5 md:w-5 flex items-center justify-center text-[10px] md:text-xs",children:M.applicants.length})]}),s.jsx("button",{onClick:()=>P(M),onClose:()=>{u(null),a()},className:"p-1.5 md:p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),s.jsx("button",{onClick:()=>O(M),className:"p-1.5 md:p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Campaign",children:s.jsx(BE,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),M.status==="active"?s.jsx("button",{onClick:()=>k(M.id,"paused"),className:"p-1.5 md:p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Pause Campaign",children:s.jsx($v,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}):s.jsx("button",{onClick:()=>k(M.id,"active"),className:"p-1.5 md:p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate Campaign",children:s.jsx(Ol,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),s.jsx("button",{onClick:()=>A(M.id),className:"p-1.5 md:p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Campaign",children:s.jsx(to,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]})]})},M.id)}):s.jsx("div",{className:"text-center py-8 md:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(al,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 text-gray-300"}),s.jsx("h3",{className:"text-base md:text-lg font-medium mb-1 md:mb-2",children:"No campaigns found"}),s.jsx("p",{className:"text-xs md:text-sm mb-3 md:mb-4",children:h||g!=="all"?"Try adjusting your search or filters":"Create your first campaign to get started"}),!h&&g==="all"&&s.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center space-x-1 md:space-x-2 px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:[s.jsx(al,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}),s.jsx("span",{children:"Create Your First Campaign"})]})]})})}),i&&s.jsx(XE,{onClose:()=>l(!1),onSuccess:N}),o&&s.jsx(QE,{campaign:o,onClose:()=>c(null),onSuccess:_}),d&&s.jsx(vN,{campaign:d,onClose:()=>u(null),onEdit:()=>{c(d),u(null)},onDelete:()=>A(d.id),onStatusChange:M=>k(d.id,M)}),f&&s.jsx(xN,{campaignId:f.id,onClose:()=>{m(null),a()}})]})},lg=({jobId:e,recipientName:t,recipientRole:r="founder",messages:n,className:a=""})=>{const{user:i}=Ae(),{setMessages:l}=he(),[o,c]=w.useState(""),[d,u]=w.useState(!1),f=w.useRef(null),m=w.useRef(null);w.useEffect(()=>{h()},[n]);const h=()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})},x=async v=>{if(v.preventDefault(),!(!o.trim()||!i||d)){u(!0);try{const b={jobId:e,senderId:i.id,content:o.trim(),read:!1},S=await NE(b);l(j=>[...j,S]),c("")}catch{alert("Failed to send message. Please try again.")}finally{u(!1)}}},g=()=>{var v;return(v=m.current)==null?void 0:v.click()},y=v=>{var S;const b=(S=v.target.files)==null?void 0:S[0];if(b){const j={id:Date.now().toString(),jobId:e,senderId:i.id,content:`📎 Shared a file: ${b.name}`,timestamp:new Date,read:!1};l(N=>[...N,j])}},p=v=>{const b=new Date,S=new Date(v);if(S.toDateString()===b.toDateString())return"Today";const j=new Date(b);return j.setDate(j.getDate()-1),S.toDateString()===j.toDateString()?"Yesterday":S.toLocaleDateString()};return s.jsxs("div",{className:`w-full md:w-96 border-t md:border-t-0 md:border-l border-gray-200 flex flex-col ${a}`,children:[s.jsx("div",{className:"p-3 md:p-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dv,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["Chat with ",t]}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Discuss ",r==="founder"?"job progress":"review details"]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4 bg-gray-50",children:n.length===0?s.jsxs("div",{className:"text-center py-6 md:py-8",children:[s.jsx(Dv,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto text-gray-300 mb-2 md:mb-3"}),s.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"No messages yet"}),s.jsxs("p",{className:"text-gray-400 text-xs hidden md:block",children:["Start a conversation with the ",r]})]}):s.jsxs(s.Fragment,{children:[n.map((v,b)=>{const S=v.senderId===(i==null?void 0:i.id),j=b===0||p(new Date(v.timestamp))!==p(new Date(n[b-1].timestamp));return s.jsxs("div",{children:[j&&s.jsx("div",{className:"text-center py-2",children:s.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded-full",children:p(new Date(v.timestamp))})}),s.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${S?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[s.jsx("p",{className:"text-sm",children:v.content}),s.jsx("p",{className:"text-xs md:text-sm",children:v.content}),s.jsx("p",{className:`text-xs mt-1 text-opacity-75 ${S?"text-blue-100":"text-gray-500"}`})]})})]},v.id)}),s.jsx("div",{ref:f})]})}),s.jsxs("div",{className:"p-3 md:p-4 border-t border-gray-200 bg-white",children:[s.jsx("form",{onSubmit:x,className:"space-y-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"text",value:o,onChange:v=>c(v.target.value),placeholder:"Type your message...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs md:text-sm"})}),s.jsx("button",{type:"button",onClick:g,className:"p-1 md:p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Attach File",children:s.jsx(RE,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"px-3 md:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:d?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 md:h-4 md:w-4 border-b-2 border-white"}):s.jsx(FE,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),s.jsx("input",{ref:m,type:"file",className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:y})]})]})},e3=({order:e,onClose:t})=>{const{messages:r}=he(),n=r.filter(o=>o.jobId===e.id),a=o=>{switch(o){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=o=>{switch(o){case"pending_shipment":return"Pending Shipment";case"shipped":return"Shipped";case"delivered":return"Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return o}},l=o=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(o);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] md:max-h-[90vh] overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto order-1 md:order-none",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Order #",e.id]})]}),s.jsx("span",{className:`px-2 md:px-3 py-1 text-xs md:text-sm font-medium rounded-full ${a(e.status)}`,children:i(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Payout"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-green-600",children:l(e.payout)})]})]})]}),s.jsx("div",{className:"space-y-3 md:space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Order Progress"}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending_shipment","shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(X,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Order Created"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Talent was approved for this campaign"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="pending_shipment"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Xr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Product Shipped"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:e.status==="pending_shipment"?"Waiting for you to ship the product":"Product has been shipped to talent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="shipped"?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:["delivered","review_submitted","completed"].includes(e.status)?"Product delivered successfully":e.status==="shipped"?"Product is in transit":"Waiting for shipment"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="delivered"?"bg-purple-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(X,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Review Submitted"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:["review_submitted","completed"].includes(e.status)?"Review content submitted for approval":e.status==="delivered"?"Waiting for talent to submit review":"Waiting for product delivery"})]})]})]})]}),e.deliveryInfo&&e.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Delivery Information"}),e.deliveryInfo.address&&s.jsxs("div",{className:"flex items-start space-x-3 mb-3 md:mb-4",children:[s.jsx(Jr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Delivery Address"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.address})]})]}),e.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Xr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Tracking Number"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.trackingNumber})]})]}),e.deliveryInfo.courier&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Courier"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.courier})]})]})]}),e.reviewSubmission&&e.reviewSubmission.media&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Review Submission"}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 md:p-4",children:[s.jsxs("p",{className:"text-xs md:text-sm text-green-600 mb-2",children:["Review submitted on ",e.reviewSubmission.submittedAt.toLocaleDateString()]}),s.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:e.reviewSubmission.media.map((o,c)=>s.jsx("div",{children:o.type==="image"?s.jsx("img",{src:o.url,alt:"Review submission",className:"w-full h-32 md:h-48 object-cover rounded-lg"}):s.jsxs("div",{className:"relative w-full h-32 md:h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:[s.jsx(Qt,{className:"h-10 w-10 text-gray-400"}),s.jsx("video",{src:o.url,controls:!0,className:"absolute inset-0 w-full h-full rounded-lg"})]})},c))})]})]})]}),s.jsx("div",{className:"flex justify-end p-4 md:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})})]}),["shipped","delivered","review_submitted","completed"].includes(e.status)&&s.jsx(lg,{className:"order-2 md:order-none",jobId:e.id,recipientName:e.talentName,recipientRole:"talent",messages:n})]})})},t3=({order:e,onClose:t,onSuccess:r})=>{const[n,a]=w.useState(!1),[i,l]=w.useState({address:"",trackingNumber:"",courier:"DHL"}),o=["DHL","FedEx","UPS","USPS","J&T Express","SiCepat","JNE","Pos Malaysia","City-Link Express","GDex","Other"],c=f=>{const{name:m,value:h}=f.target;l(x=>({...x,[m]:h}))},d=async f=>{f.preventDefault(),a(!0),await new Promise(m=>setTimeout(m,1e3)),r(e.id,i),a(!1)},u=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 flex-shrink-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Ship Order"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:s.jsx(_e,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("form",{onSubmit:d,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2 text-sm sm:text-base",children:e.campaignTitle}),s.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Product:"})," ",e.productName]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Talent:"})," ",e.talentName]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Payout:"})," ",u(e.payout)]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Order ID:"})," #",e.id]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ls,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-800 text-sm sm:text-base mb-2",children:"Shipping Guidelines"}),s.jsxs("ul",{className:"text-xs sm:text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:"• Ensure product is securely packaged"}),s.jsx("li",{children:"• Include campaign details in the package"}),s.jsx("li",{children:"• Use a reliable courier service"}),s.jsx("li",{children:"• Provide accurate tracking information"})]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(Jr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("textarea",{id:"address",name:"address",required:!0,rows:4,value:i.address,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base resize-none",placeholder:"Enter complete delivery address including postal code, city, and state"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include postal code, city, and state for accurate delivery"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"courier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Courier Service *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Se,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("select",{id:"courier",name:"courier",required:!0,value:i.courier,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base appearance-none bg-white",children:o.map(f=>s.jsx("option",{value:f,children:f},f))}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"trackingNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"trackingNumber",name:"trackingNumber",required:!0,value:i.trackingNumber,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Enter tracking number"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide the tracking number from your courier service"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-sm sm:text-base",children:"Shipping Summary"}),s.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Campaign:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.campaignTitle})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Product:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.productName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Talent:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.talentName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Payout:"}),s.jsx("span",{className:"font-medium text-green-600 text-right",children:u(e.payout)})]}),i.courier&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Courier:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:i.courier})]})]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 p-4 sm:p-6 border-t border-gray-200 flex-shrink-0 bg-gray-50",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors text-sm sm:text-base",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!i.address||!i.trackingNumber,onClick:d,className:"w-full sm:w-auto px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm sm:text-base",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Shipping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{className:"h-4 w-4"}),s.jsx("span",{children:"Ship Order"})]})})]})]})})},r3=()=>{const{user:e}=Ae(),{orders:t,setOrders:r,refreshData:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(null),[m,h]=w.useState(!1),x=t.filter(_=>_.founderId===(e==null?void 0:e.id)),g=x.filter(_=>{const k=_.talentName.toLowerCase().includes(a.toLowerCase())||_.campaignTitle.toLowerCase().includes(a.toLowerCase())||_.productName.toLowerCase().includes(a.toLowerCase()),A=l==="all"||_.status===l;return k&&A}),y=_=>{switch(_){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=_=>{switch(_){case"pending_shipment":return s.jsx($t,{className:"h-4 w-4"});case"shipped":return s.jsx(Xr,{className:"h-4 w-4"});case"delivered":return s.jsx(Jr,{className:"h-4 w-4"});case"review_submitted":return s.jsx(X,{className:"h-4 w-4"});case"completed":return s.jsx(X,{className:"h-4 w-4"});default:return s.jsx(Se,{className:"h-4 w-4"})}},v=_=>{switch(_){case"pending_shipment":return"Pending Shipment";case"shipped":return"Shipped";case"delivered":return"Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return _}},b=_=>{f(_)},S=async(_,k)=>{h(!0);try{await Pl(_,{status:"shipped",delivery_address:k.address,tracking_number:k.trackingNumber,courier:k.courier}),r(t.map(A=>A.id===_?{...A,status:"shipped",deliveryInfo:k}:A)),f(null),await n()}catch(A){console.error("Error updating order status:",A),alert("Failed to update order status. Please try again.")}finally{h(!1)}},j=async _=>{h(!0);try{await Pl(_,{status:"delivered"}),r(t.map(k=>k.id===_?{...k,status:"delivered"}:k)),await n()}catch(k){console.error("Error marking order as delivered:",k),alert("Failed to update order status. Please try again.")}finally{h(!1)}},N=_=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(_);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),s.jsx("p",{className:"text-gray-600",children:"Manage product shipments to approved talents"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx($t,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Shipment"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="pending_shipment").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(Xr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Shipped"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="shipped").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Review Submitted"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="review_submitted").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Se,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search orders by talent, campaign, or product...",value:a,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:_=>o(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending_shipment",children:"Pending Shipment"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),g.length>0?s.jsx("div",{className:"space-y-4",children:g.map(_=>{var k,A;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${y(_.status)}`,children:[p(_.status),s.jsx("span",{children:v(_.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:_.productName})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Rr,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Talent: ",s.jsx("span",{className:"font-medium text-gray-900",children:_.talentName})]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Payout: ",s.jsx("span",{className:"font-medium text-green-600",children:N(_.payout)})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",_.createdAt.toLocaleDateString()]})]})]}),_.deliveryInfo&&(_.deliveryInfo.address||_.deliveryInfo.trackingNumber)&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Delivery Information:"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[_.deliveryInfo.address&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",_.deliveryInfo.address]}),_.deliveryInfo.trackingNumber&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Tracking:"})," ",_.deliveryInfo.trackingNumber]}),_.deliveryInfo.courier&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Courier:"})," ",_.deliveryInfo.courier]})]})]}),_.reviewSubmission&&_.reviewSubmission.media&&Array.isArray(_.reviewSubmission.media)&&_.reviewSubmission.media.length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Review Submitted:"}),s.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Submitted on ",((A=(k=_.reviewSubmission.submittedAt)==null?void 0:k.toLocaleDateString)==null?void 0:A.call(k))||""]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[_.reviewSubmission.media[0].type==="image"?s.jsx("img",{src:_.reviewSubmission.media[0].url,alt:"Review submission",className:"w-20 h-20 object-cover rounded-lg border border-green-200"}):s.jsxs("div",{className:"w-20 h-20 flex items-center justify-center bg-gray-100 rounded-lg border border-green-200 relative",children:[s.jsx(Qt,{className:"h-8 w-8 text-green-600"}),s.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-60 rounded-full p-1",children:s.jsx(Ol,{className:"h-4 w-4 text-white"})})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-green-700 capitalize",children:[_.reviewSubmission.media[0].type==="image"?"Image content":"Video content",_.reviewSubmission.media.length>1&&s.jsxs("span",{className:"ml-1 text-xs text-green-500",children:["(+",_.reviewSubmission.media.length-1," more)"]})]}),s.jsx("p",{className:"text-xs text-green-600",children:_.status==="review_submitted"?"Pending your approval":"Approved"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(_),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})}),_.status==="pending_shipment"&&s.jsx("button",{onClick:()=>b(_),disabled:m,className:"px-3 py-1 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:m?"Processing...":"Ship Order"}),_.status==="shipped"&&s.jsx("button",{onClick:()=>j(_.id),disabled:m,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50",children:m?"Processing...":"Mark Delivered"})]})]})},_.id)})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No orders found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"Orders will appear here when you approve talent applications"})]})}),c&&s.jsx(e3,{order:c,onClose:()=>d(null)}),u&&s.jsx(t3,{order:u,onClose:()=>f(null),onSuccess:S})]})},n3=({job:e,onClose:t})=>{Ae();const{messages:r}=he(),[n,a]=w.useState(!1),[i,l]=w.useState(0),o=h=>{l(h),a(!0)},c=()=>a(!1),d=r.filter(h=>h.jobId===e.id),u=h=>{switch(h){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=h=>{switch(h){case"pending_shipment":return"Waiting for Shipment";case"shipped":return"Product Shipped";case"delivered":return"Product Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Job Completed";default:return h}},m=h=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(h);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] md:max-h-[90vh] overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Job Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Job #",e.id]})]}),s.jsx("span",{className:`px-2 md:px-3 py-1 text-xs md:text-sm font-medium rounded-full ${u(e.status)}`,children:f(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Payout"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-green-600",children:m(e.payout)})]})]})]}),s.jsx("div",{className:"space-y-3 md:space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Job Started"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Job Progress"}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center ${["pending_shipment","shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(X,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Job Assigned"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"You were approved for this campaign"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center ${["shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="pending_shipment"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Xr,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Product Shipped"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:e.status==="pending_shipment"?"Waiting for shipment":"Product has been shipped to you"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center ${["delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="shipped"?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Jr,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:["delivered","review_submitted","completed"].includes(e.status)?"Product delivered successfully":e.status==="shipped"?"Product is in transit":"Waiting for delivery"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center ${["review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="delivered"?"bg-purple-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(X,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Review Submitted"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:["review_submitted","completed"].includes(e.status)?"Review content submitted for approval":e.status==="delivered"?"Ready to create and submit review":"Waiting for product delivery"})]})]})]})]}),e.deliveryInfo&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Delivery Information"}),e.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"flex items-center space-x-3 mb-3 md:mb-4",children:[s.jsx(Xr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Tracking Number"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.trackingNumber})]})]}),e.deliveryInfo.courier&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Courier"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.courier})]})]}),e.deliveryInfo.address&&s.jsxs("div",{className:"flex items-center space-x-3 mt-3 md:mt-4",children:[s.jsx(Jr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Delivery Address"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.deliveryInfo.address})]})]})]}),e.reviewSubmission&&e.reviewSubmission.media&&e.reviewSubmission.media.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Your Review Submission"}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 md:p-4",children:[s.jsxs("p",{className:"text-xs md:text-sm text-green-600 mb-2",children:["Review submitted on ",e.reviewSubmission.submittedAt.toLocaleDateString()]}),e.reviewSubmission.notes&&s.jsxs("div",{className:"mt-2 mb-3 md:mb-4 p-2 bg-white rounded text-gray-700 border border-green-100",children:[s.jsx("p",{className:"text-xs md:text-sm font-semibold mb-1",children:"Talent's Notes:"}),s.jsx("p",{className:"text-xs md:text-sm",children:e.reviewSubmission.notes})]}),s.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:e.reviewSubmission.media.map((h,x)=>h.type==="image"?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:h.url,alt:`Review submission ${x+1}`,className:"w-full h-32 md:h-48 object-cover rounded-lg cursor-pointer",onClick:()=>o(x)}),s.jsx("a",{href:h.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-1 shadow transition group-hover:bg-green-200",title:"Download",onClick:g=>g.stopPropagation(),children:s.jsx(Mv,{className:"h-3 w-3 md:h-4 md:w-4 text-green-600"})})]},x):s.jsxs("div",{className:"relative group",children:[s.jsx("video",{src:h.url,controls:!0,className:"w-full h-32 md:h-48 rounded-lg cursor-pointer",onClick:()=>o(x)}),s.jsx("a",{href:h.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-1 shadow transition group-hover:bg-green-200",title:"Download",onClick:g=>g.stopPropagation(),children:s.jsx(Mv,{className:"h-3 w-3 md:h-4 md:w-4 text-green-600"})})]},x))})]})]}),n&&e.reviewSubmission&&e.reviewSubmission.media&&s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-80 flex flex-col items-center justify-center transition-all",children:[s.jsx("button",{className:"absolute top-4 right-4 md:top-6 md:right-6 text-white text-2xl",onClick:c,"aria-label":"Close",children:s.jsx(_e,{className:"w-8 h-8 md:w-10 md:h-10"})}),s.jsx("div",{className:"max-w-3xl max-h-[70vh] md:max-h-[80vh] flex items-center justify-center",children:e.reviewSubmission.media[i].type==="image"?s.jsx("img",{src:e.reviewSubmission.media[i].url,alt:`Review submission ${i+1}`,className:"max-h-[70vh] md:max-h-[80vh] max-w-full rounded-lg shadow-lg"}):s.jsx("video",{src:e.reviewSubmission.media[i].url,controls:!0,autoPlay:!0,className:"max-h-[70vh] md:max-h-[80vh] max-w-full rounded-lg shadow-lg"})}),e.reviewSubmission.media.length>1&&s.jsx("div",{className:"mt-4 md:mt-6 flex space-x-2 md:space-x-4 overflow-x-auto px-2",children:e.reviewSubmission.media.map((h,x)=>s.jsx("button",{className:`w-12 h-12 md:w-16 md:h-16 rounded border-2 ${i===x?"border-blue-400":"border-transparent"}`,onClick:()=>l(x),children:h.type==="image"?s.jsx("img",{src:h.url,alt:"",className:"w-full h-full object-cover rounded"}):s.jsx("video",{src:h.url,className:"w-full h-full object-cover rounded"})},x))})]})]}),s.jsx("div",{className:"flex justify-end p-4 md:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})})]}),s.jsx(lg,{className:"order-last border-t md:border-t-0 md:border-l",recipientName:"Founder",recipientRole:"founder",messages:d})]})})},s3=({job:e,onClose:t,onSuccess:r})=>{const{user:n}=Ae(),[a,i]=w.useState(!1),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState(""),[m,h]=w.useState(!1),x=v=>v.type.startsWith("image")?"image":v.type.startsWith("video")?"video":null,g=v=>{h(!0);try{const b=Array.from(v.target.files||[]);let S=[...l];b.forEach(j=>{const N=x(j);if(!N)return;const _=N==="image"?10*1024*1024:50*1024*1024;if(j.size>_){alert(`File ${j.name} too large. Max ${N==="image"?"10MB":"50MB"}.`);return}S.some(k=>k.file.name===j.name&&k.file.size===j.size)||S.push({file:j,url:URL.createObjectURL(j),type:N,previewLoading:!0})}),o(S)}catch(b){console.error("Error processing files:",b),alert("Failed to process files. Please try again.")}finally{h(!1)}},y=v=>{o(b=>b.filter((S,j)=>j!==v))},p=async v=>{if(v.preventDefault(),f(""),!l.length){f("Please select at least one photo or video.");return}if(!n){f("User not found. Please login again.");return}i(!0);try{const b=[];for(const S of l){const j=Date.now(),N=`${n.id}/${j}_${S.file.name}`,{error:_}=await J.storage.from("review-submissions").upload(N,S.file);if(_){f(`Upload failed: ${S.file.name}: ${_.message}`),i(!1);return}const{data:k}=J.storage.from("review-submissions").getPublicUrl(N),A=k==null?void 0:k.publicUrl;if(!A){f("Failed to retrieve file URL."),i(!1);return}b.push({url:A,type:S.type})}await Pl(e.id,{status:"review_submitted",review_media:b,review_submitted_at:new Date().toISOString(),notes:c}),r(e.id,{media:b,notes:c}),i(!1),t()}catch(b){f("Unexpected error: "+(b.message||b)),i(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submit Review Content"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos or Videos *"}),s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(cs,{className:"w-10 h-10 mb-3 text-gray-400"}),s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag files"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Images: PNG, JPG, JPEG (max 10MB)",s.jsx("br",{}),"Videos: MP4, MOV, AVI (max 50MB)"]})]}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*,video/*",multiple:!0,onChange:g,required:l.length===0,disabled:m})]}),l.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:l.map((v,b)=>s.jsxs("div",{className:"relative border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white rounded-full p-1 shadow text-red-600 hover:text-red-900",onClick:()=>y(b),title:"Remove",children:s.jsx(to,{className:"h-4 w-4"})}),v.type==="image"?s.jsx("img",{src:v.url,alt:`Preview ${b+1}`,className:"w-full h-32 object-cover",onLoad:()=>{o(S=>S.map((j,N)=>N===b?{...j,previewLoading:!1}:j))},style:{opacity:v.previewLoading?.5:1}}):s.jsx("video",{src:v.url,controls:!0,className:"w-full h-32",onLoadedData:()=>{o(S=>S.map((j,N)=>N===b?{...j,previewLoading:!1}:j))},style:{opacity:v.previewLoading?.5:1}})]},b))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reviewNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(ts,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{id:"reviewNotes",rows:3,value:c,onChange:v=>d(v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about your review content or creative approach..."})]})]}),u&&s.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded mb-2 text-sm flex items-center space-x-2",children:[s.jsx(ls,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:a,children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:a||!l.length,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a?s.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:a?"Submitting...":"Submit Review"})]})]})]})]})})},a3=()=>{const{user:e}=Ae(),{orders:t,setOrders:r,campaigns:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(null),m=t.filter(k=>k.talentId===(e==null?void 0:e.id)),h=n.filter(k=>k.applicants.includes((e==null?void 0:e.id)||"")&&!k.approvedTalents.includes((e==null?void 0:e.id)||"")),x=m.filter(k=>{const A=k.campaignTitle.toLowerCase().includes(a.toLowerCase())||k.productName.toLowerCase().includes(a.toLowerCase()),O=l==="all"||k.status===l;return A&&O}),g=k=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(k),y=k=>{switch(k){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=k=>{switch(k){case"pending_shipment":return s.jsx($t,{className:"h-4 w-4"});case"shipped":return s.jsx(Xr,{className:"h-4 w-4"});case"delivered":return s.jsx(Jr,{className:"h-4 w-4"});case"review_submitted":return s.jsx(X,{className:"h-4 w-4"});case"completed":return s.jsx(X,{className:"h-4 w-4"});default:return s.jsx(Se,{className:"h-4 w-4"})}},v=k=>{switch(k){case"pending_shipment":return"Waiting for Shipment";case"shipped":return"Product Shipped";case"delivered":return"Product Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Job Completed";default:return k}},b=k=>{switch(k){case"pending_shipment":return"The founder is preparing to ship the product to you.";case"shipped":return"The product has been shipped. Check tracking details below.";case"delivered":return"Product delivered! You can now start creating your review content.";case"review_submitted":return"Your review has been submitted and is being reviewed.";case"completed":return"Job completed successfully. Payment has been processed.";default:return""}},S=k=>k.status==="delivered"&&!k.reviewSubmission,j=k=>{f(k)},N=(k,A)=>{r(t.map(O=>O.id===k?{...O,status:"review_submitted",reviewSubmission:{mediaUrl:A.mediaUrl,mediaType:A.mediaType,submittedAt:new Date}}:O)),f(null)},_=k=>{switch(k){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Jobs"}),s.jsx("p",{className:"text-gray-600",children:"Track your approved jobs and active orders"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500",children:s.jsx($t,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Waiting Shipment"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:m.filter(k=>k.status==="pending_shipment").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(Xr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:m.filter(k=>k.status==="shipped").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(Jr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready to Review"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:m.filter(k=>k.status==="delivered").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-500",children:s.jsx(X,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:m.filter(k=>k.status==="completed").length})]})]})})]}),h.length>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(X,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Recently Approved Jobs"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Congratulations! You've been approved for these campaigns. The founder will create orders soon."})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:h.map(k=>s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:k.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:k.productName})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(k.rateLevel)}`,children:[k.rateLevel," Star"]}),s.jsx("span",{className:"text-xs text-gray-500",children:k.category})]})]}),s.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ne,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Approved recently"})]}),s.jsx("div",{className:"flex items-center font-semibold text-green-600",children:s.jsx("span",{children:g(k.price)})})]})]},k.id))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search jobs by campaign or product...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending_shipment",children:"Waiting Shipment"}),s.jsx("option",{value:"shipped",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Ready to Review"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),x.length>0?s.jsx("div",{className:"space-y-4",children:x.map(k=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${y(k.status)}`,children:[p(k.status),s.jsx("span",{children:v(k.status)})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:b(k.status)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:k.productName})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Payout: ",s.jsx("span",{className:"font-medium text-green-600",children:g(k.payout)})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Order Created: ",k.createdAt.toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID: #",k.id]})]})]}),k.status==="shipped"&&k.deliveryInfo&&k.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tracking Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Tracking Number:"}),s.jsx("span",{className:"ml-2 font-mono",children:k.deliveryInfo.trackingNumber})]}),k.deliveryInfo.courier&&s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Courier:"}),s.jsx("span",{className:"ml-2",children:k.deliveryInfo.courier})]})]})]}),k.status==="delivered"&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Ready for Review"}),s.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Your product has been delivered! You can now create and submit your review content."}),S(k)?s.jsxs("button",{onClick:()=>j(k),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Submit Review"]}):s.jsx("div",{className:"text-sm text-purple-600",children:"✓ Review already submitted"})]}),k.status==="review_submitted"&&k.reviewSubmission&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Review Submitted"}),s.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Your review was submitted on ",new Date(k.reviewSubmission.submittedAt).toLocaleDateString()]}),s.jsx("div",{className:"text-sm text-green-600",children:"Status: Under review by the founder"})]}),k.status==="completed"&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Job Completed"}),s.jsx("p",{className:"text-sm text-gray-700",children:"This job has been completed successfully. Payment has been processed and added to your earnings."})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})}),S(k)&&s.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center space-x-1",children:[s.jsx(cs,{className:"h-3 w-3"}),s.jsx("span",{children:"Submit Review"})]})]})]})},k.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:h.length>0?"No active orders yet":"No jobs found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":h.length>0?"Your approved jobs will become orders once founders ship the products":"Jobs will appear here when founders approve your applications and create orders"})]})}),c&&s.jsx(n3,{job:c,onClose:()=>d(null)}),u&&s.jsx(s3,{job:u,onClose:()=>f(null),onSuccess:N})]})},Ci=e=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e),i3=({review:e,onClose:t,onApprove:r,onReject:n})=>{Ae();const{messages:a,setMessages:i}=he(),[l,o]=w.useState(!1),[c,d]=w.useState(0),u=a.filter(v=>v.jobId===e.id),f=v=>{switch(v){case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},m=v=>{switch(v){case"delivered":return"Awaiting Review";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return v}},h=()=>{r==null||r(),t()},x=()=>{n==null||n(),t()},g=v=>{d(v),o(!0)},y=()=>o(!1),p=e.reviewSubmission&&Array.isArray(e.reviewSubmission.media)&&e.reviewSubmission.media.length>0;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] md:max-h-[90vh] overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto order-1 md:order-none",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Review Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Order #",e.id]})]}),s.jsx("span",{className:`px-2 md:px-3 py-1 text-xs md:text-sm font-medium rounded-full ${f(e.status)}`,children:m(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rr,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Payout"}),s.jsxs("p",{className:"text-sm md:text-base font-medium text-green-600",children:["RM",e.payout]})]})]})]}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Order Created"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.reviewSubmission&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ts,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Review Submitted"}),s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:e.reviewSubmission.submittedAt.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Progress Timeline"}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center",children:s.jsx(Se,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Product successfully delivered to talent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.reviewSubmission?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(ts,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Review Content"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:e.reviewSubmission?"Media submitted":"Waiting for talent to submit review content"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.status==="completed"?"bg-green-500 text-white":e.status==="review_submitted"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(je,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm md:text-base font-medium text-gray-900",children:"Review Approval"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:e.status==="completed"?"Review approved and job completed":e.status==="review_submitted"?"Pending your approval":"Waiting for review submission"})]})]})]})]}),e.status==="review_submitted"&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Payment Breakdown"}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg p-3 md:p-5 border border-yellow-200",children:s.jsxs("div",{className:"space-y-2 md:space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-600 mr-1 md:mr-2"}),s.jsx("span",{className:"text-xs md:text-sm text-yellow-800 font-medium",children:"Talent Payment"})]}),s.jsx("span",{className:"text-sm md:text-base font-bold text-yellow-900",children:Ci(e.payout)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(je,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-600 mr-1 md:mr-2"}),s.jsx("span",{className:"text-xs md:text-sm text-yellow-800 font-medium",children:"Admin Fee (10%)"})]}),s.jsx("span",{className:"text-sm md:text-base font-bold text-yellow-900",children:Ci(e.payout*.1)})]}),s.jsxs("div",{className:"border-t border-yellow-300 pt-2 md:pt-3 mt-1 md:mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(se,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-700 mr-1 md:mr-2"}),s.jsx("span",{className:"text-xs md:text-sm text-yellow-900 font-semibold",children:"Total Deduction"})]}),s.jsx("span",{className:"text-sm md:text-lg font-bold text-yellow-900",children:Ci(e.payout*1.1)})]}),s.jsxs("p",{className:"text-xs text-yellow-700 mt-1 md:mt-2",children:["This amount will be deducted from your wallet balance upon approval. The talent will receive ",Ci(e.payout)," and ",Ci(e.payout*.1)," will be charged as platform fee."]})]})]})})]}),p&&e.reviewSubmission&&s.jsxs("div",{className:"border-t border-gray-200 pt-4 md:pt-6",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Submitted Review Content"}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 md:p-6 border border-green-200",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:e.reviewSubmission.media.map((v,b)=>v.type==="image"?s.jsx("img",{src:v.url,alt:`Review submission ${b+1}`,className:"w-full h-32 md:h-48 object-cover rounded-lg border border-green-200 cursor-pointer",onClick:()=>g(b)},b):s.jsx("video",{src:v.url,controls:!0,className:"w-full h-32 md:h-48 rounded-lg border border-green-200 cursor-pointer",onClick:()=>g(b)},b))})})]}),l&&p&&s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-80 flex flex-col items-center justify-center transition-all",children:[s.jsx("button",{className:"absolute top-6 right-6 text-white text-2xl",onClick:y,"aria-label":"Close",children:s.jsx(_e,{className:"w-10 h-10"})}),s.jsx("div",{className:"max-w-3xl max-h-[80vh] flex items-center justify-center",children:e.reviewSubmission.media[c].type==="image"?s.jsx("img",{src:e.reviewSubmission.media[c].url,alt:`Review submission ${c+1}`,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"}):s.jsx("video",{src:e.reviewSubmission.media[c].url,controls:!0,autoPlay:!0,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"})}),e.reviewSubmission.media.length>1&&s.jsx("div",{className:"mt-6 flex space-x-4",children:e.reviewSubmission.media.map((v,b)=>s.jsx("button",{className:`w-16 h-16 rounded border-2 ${c===b?"border-blue-400":"border-transparent"}`,onClick:()=>d(b),children:v.type==="image"?s.jsx("img",{src:v.url,alt:"",className:"w-full h-full object-cover rounded"}):s.jsx("video",{src:v.url,className:"w-full h-full object-cover rounded"})},b))})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-2 p-4 md:p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="review_submitted"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:x,className:"px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-1 md:space-x-2",children:[s.jsx(hN,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{children:"Request Revision"})]}),s.jsxs("button",{onClick:h,className:"px-4 md:px-6 py-1.5 md:py-2 text-sm md:text-base bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-1 md:space-x-2",children:[s.jsx(pN,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{children:"Approve Review"})]})]})]})]}),s.jsx(lg,{className:"order-2 md:order-none",jobId:e.id,recipientName:e.talentName,recipientRole:"talent",messages:u})]})})},l3=()=>{const{user:e,updateProfile:t}=Ae(),{orders:r,setOrders:n,earnings:a,setEarnings:i,transactions:l,setTransactions:o,refreshData:c}=he(),[d,u]=w.useState(""),[f,m]=w.useState("all"),[h,x]=w.useState(null),[g,y]=w.useState(!1),p=r.filter(P=>P.founderId===(e==null?void 0:e.id)&&(P.status==="delivered"||P.status==="review_submitted"||P.status==="completed")),v=p.filter(P=>{const C=P.talentName.toLowerCase().includes(d.toLowerCase())||P.campaignTitle.toLowerCase().includes(d.toLowerCase())||P.productName.toLowerCase().includes(d.toLowerCase()),E=f==="all"||P.status===f;return C&&E}),b=P=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(P),S=P=>{switch(P){case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=P=>{switch(P){case"delivered":return s.jsx($t,{className:"h-4 w-4"});case"review_submitted":return s.jsx(ts,{className:"h-4 w-4"});case"completed":return s.jsx(X,{className:"h-4 w-4"});default:return s.jsx(Se,{className:"h-4 w-4"})}},N=P=>{switch(P){case"delivered":return"Awaiting Review";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return P}},_=P=>{switch(P){case"delivered":return"Product delivered! Waiting for talent to submit review content.";case"review_submitted":return"Review content submitted and ready for your approval.";case"completed":return"Review approved and talent has been paid.";default:return""}},k=async P=>{y(!0);try{const C=r.find(B=>B.id===P);if(!C)return;const E=C.payout,R=E*.1,z=E+R;await Pl(P,{status:"completed"}),await jE({talentId:C.talentId,orderId:C.id,campaignTitle:C.campaignTitle,amount:C.payout,status:"paid",paidAt:new Date}),await nl({userId:C.talentId,type:"credit",amount:E,description:`Payment Received - ${C.campaignTitle}`,relatedJobId:P}),await nl({userId:C.founderId,type:"debit",amount:z,description:`Campaign Payout - ${C.campaignTitle} (includes 10% admin fee)`,relatedJobId:P}),await nl({userId:"066e9f3d-9570-405e-8a43-ab1ed542e9a7",type:"credit",amount:R,description:`Admin Fee (10%) - ${C.campaignTitle}`,relatedJobId:P});const M=e;if(M&&t){const B={...M,walletBalance:M.walletBalance-z};await t(B)}await c()}catch(C){alert("Failed to approve review. Please try again."),console.error("handleApproveReview error:",C)}finally{y(!1)}},A=async P=>{const C=r.find(E=>E.id===P);if(C)try{if(C.reviewSubmission&&Array.isArray(C.reviewSubmission.media)&&C.reviewSubmission.media.length>0)for(const E of C.reviewSubmission.media)E.url&&await AE(C.id,E.url);await Pl(P,{status:"delivered",review_media:null,review_submitted_at:null}),n(E=>E.map(R=>R.id===P?{...R,status:"delivered",reviewSubmission:void 0}:R)),typeof c=="function"&&await c()}catch(E){alert("Failed to reject review: "+(E.message||E)),console.error("handleRejectReview error:",E)}},O=P=>{const E=Math.abs(new Date().getTime()-P.getTime());return Math.ceil(E/(1e3*60*60*24))};return s.jsxs("div",{className:"space-y-6 pb-6 sm:pb-0",children:[s.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Reviews"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Monitor talent job progress and review submissions"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 sm:p-4 border border-blue-200 text-sm",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(je,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1 text-base",children:"Payment Information"}),s.jsx("p",{className:"text-blue-700",children:"When you approve a review, the talent will receive their payment as shown in the campaign price. Additionally, a 10% admin fee will be charged to support platform operations."})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx($t,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Awaiting Reviews"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.filter(P=>P.status==="delivered").length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(ts,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.filter(P=>P.status==="review_submitted").length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(X,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.filter(P=>P.status==="completed").length})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search by talent, campaign, or product...",value:d,onChange:P=>u(P.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:f,onChange:P=>m(P.target.value),className:"px-3 py-2 border text-sm border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"delivered",children:"Awaiting Review"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),v.length>0?s.jsx("div",{className:"flex flex-col gap-4",children:v.map(P=>{const C=P.payout,E=C*.1,R=C+E;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 flex flex-col gap-2 sm:gap-0 sm:p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 break-all",children:P.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${S(P.status)}`,children:[j(P.status),s.jsx("span",{children:N(P.status)})]})]})}),s.jsx("button",{onClick:()=>x(P),className:"p-2 ml-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-3",children:_(P.status)}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:P.productName})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Rr,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Talent: ",s.jsx("span",{className:"font-medium text-gray-900",children:P.talentName})]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Talent Payment: ",s.jsx("span",{className:"font-medium text-green-600",children:b(C)})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ne,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Delivered: ",O(P.createdAt)," days ago"]})]})]})]}),P.status==="review_submitted"&&s.jsxs("div",{className:"mt-3 p-2 sm:p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-yellow-800 mb-1 sm:mb-2",children:"Payment Breakdown (upon approval):"}),s.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700",children:"Talent Payment:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:b(C)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700",children:"Admin Fee (10%):"}),s.jsx("span",{className:"font-medium text-yellow-900",children:b(E)})]}),s.jsx("div",{className:"border-t border-yellow-300 pt-1 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-yellow-800",children:"Total Deduction:"}),s.jsx("span",{className:"font-bold text-yellow-900",children:b(R)})]})})]})]}),s.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-gray-50 rounded-lg flex flex-col gap-2",children:s.jsxs("div",{className:"flex flex-row items-center gap-4 justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Product Delivered"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${P.reviewSubmission?"bg-green-500":"bg-gray-300"}`}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Review Submitted"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${P.status==="completed"?"bg-green-500":"bg-gray-300"}`}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Approved"})]})]})}),P.reviewSubmission&&s.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:s.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4",children:P.reviewSubmission.media&&P.reviewSubmission.media.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative w-20 h-20 rounded-lg border border-green-200 overflow-hidden flex-shrink-0",children:P.reviewSubmission.media[0].type==="image"?s.jsx("img",{src:P.reviewSubmission.media[0].url,alt:"Review submission",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:s.jsx(Qt,{className:"h-8 w-8 text-gray-400"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:[P.reviewSubmission.media[0].type==="image"?"Image":"Video"," content",P.reviewSubmission.media.length>1&&` (+${P.reviewSubmission.media.length-1} more)`]}),s.jsx("p",{className:"text-xs text-green-600",children:"Ready for your review and approval"})]})]})})}),P.status==="review_submitted"&&s.jsxs("div",{className:"flex gap-1 mt-4 justify-end flex-wrap",children:[s.jsxs("button",{onClick:()=>k(P.id),className:"px-3 py-1 text-xs sm:text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center space-x-1",title:"Approve Review",children:[s.jsx(pN,{className:"h-3 w-3"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>A(P.id),className:"px-3 py-1 text-xs sm:text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-1",title:"Request Revision",children:[s.jsx(hN,{className:"h-3 w-3"}),s.jsx("span",{children:"Revise"})]})]})]},P.id)})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(ts,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No reviews found"}),s.jsx("p",{className:"text-sm",children:d||f!=="all"?"Try adjusting your search or filters":"Reviews will appear here after products are delivered to talents"})]})}),h&&s.jsx(i3,{review:h,onClose:()=>x(null),onApprove:()=>k(h.id),onReject:()=>A(h.id)})]})},o3=({onClose:e,onSuccess:t,currentBalance:r,loading:n})=>{const[a,i]=w.useState(""),[l,o]=w.useState("credit_card"),[c,d]=w.useState({number:"",expiry:"",cvv:"",name:""}),u=[50,100,250,500,1e3,2500],f=g=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(g),m=g=>{i(g.toString())},h=g=>{const{name:y,value:p}=g.target;if(y==="number"){const v=p.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim();v.length<=19&&d(b=>({...b,[y]:v}))}else if(y==="expiry"){const v=p.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2");v.length<=5&&d(b=>({...b,[y]:v}))}else y==="cvv"?p.length<=4&&/^\d*$/.test(p)&&d(v=>({...v,[y]:p})):d(v=>({...v,[y]:p}))},x=async g=>{g.preventDefault();const y=parseFloat(a);if(!y||y<=0){alert("Please enter a valid amount");return}if(y<10){alert("Minimum top-up amount is RM10");return}if(y>1e4){alert("Maximum top-up amount is RM10,000");return}t(y)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Top Up Wallet"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Current Balance"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f(r)})]}),s.jsx("div",{className:"p-3 bg-blue-500 rounded-full",children:s.jsx(se,{className:"h-6 w-6 text-white"})})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Top Up Amount *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:"RM"})}),s.jsx("input",{type:"number",id:"amount",value:a,onChange:g=>i(g.target.value),min:"10",max:"10000",step:"0.01",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter amount"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum: RM10 | Maximum: RM10,000"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Amounts"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map(g=>s.jsxs("button",{type:"button",onClick:()=>m(g),className:`px-3 py-2 text-sm border rounded-lg transition-colors ${a===g.toString()?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:["RM",g]},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"credit_card",checked:l==="credit_card",onChange:g=>o(g.target.value),className:"text-blue-600 focus:ring-blue-500"}),s.jsx(Bc,{className:"h-5 w-5 text-gray-400 ml-3 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Credit/Debit Card"})]})})]}),l==="credit_card"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),s.jsx("input",{type:"text",id:"cardName",name:"name",value:c.name,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ahmad Bin Ali"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),s.jsx("input",{type:"text",id:"cardNumber",name:"number",value:c.number,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234 5678 9012 3456"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),s.jsx("input",{type:"text",id:"expiry",name:"expiry",value:c.expiry,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"MM/YY"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),s.jsx("input",{type:"text",id:"cvv",name:"cvv",value:c.cvv,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"})]})]})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ih,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Secure Payment"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your payment information is encrypted and secure. We use industry-standard SSL encryption."})]})]})}),a&&parseFloat(a)>0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Transaction Summary"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Top Up Amount:"}),s.jsx("span",{className:"font-medium",children:f(parseFloat(a))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Processing Fee:"}),s.jsx("span",{className:"font-medium",children:"RM0.00"})]}),s.jsx("div",{className:"border-t border-gray-200 pt-1 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-gray-900",children:f(parseFloat(a))})]})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"New Balance:"}),s.jsx("span",{children:f(r+parseFloat(a))})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!a||parseFloat(a)<=0,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Al,{className:"h-4 w-4"}),s.jsxs("span",{children:["Top Up ",a?f(parseFloat(a)):"Wallet"]})]})})]})]})]})})},c3=()=>{const{user:e,updateProfile:t}=Ae(),{transactions:r,refreshData:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(!1),[u,f]=w.useState(!1),m=e,h=r.filter(k=>k.user_id===m.id||k.userId===m.id),x=h.filter(k=>{const A=k.description.toLowerCase().includes(a.toLowerCase()),O=l==="all"||k.type===l;return A&&O}),g=k=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(k),y=(k,A)=>k==="credit"?A.toLowerCase().includes("top up")||A.toLowerCase().includes("deposit")?s.jsx(Ev,{className:"h-5 w-5 text-green-600"}):s.jsx(bn,{className:"h-5 w-5 text-green-600"}):A.toLowerCase().includes("campaign")||A.toLowerCase().includes("payout")?s.jsx(Se,{className:"h-5 w-5 text-blue-600"}):s.jsx(ah,{className:"h-5 w-5 text-red-600"}),p=k=>k==="credit"?"text-green-600":"text-red-600",v=k=>k==="credit"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",b=async(k,A)=>{if(!u){f(!0);try{console.log("bl;abla"+A);const O={user_id:m.id,type:"credit",amount:k,description:"Wallet Top Up - Credit Card"};console.log("lalu sini"),await nl(O),await n(),console.log("laulalu");const P={...m,walletBalance:m.walletBalance+k};t==null||t(P),d(!1)}catch{alert("Top-up failed. Please try again.")}finally{f(!1)}}},S=h.filter(k=>k.type==="credit").reduce((k,A)=>k+A.amount,0),j=h.filter(k=>k.type==="debit").reduce((k,A)=>k+A.amount,0),_=h.filter(k=>{const A=new Date(k.createdAt||k.created_at),O=new Date;return A.getMonth()===O.getMonth()&&A.getFullYear()===O.getFullYear()}).filter(k=>k.type==="debit").reduce((k,A)=>k+A.amount,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"E-Wallet"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage your wallet balance and view transaction history"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-1 md:space-x-2 px-3 md:px-4 py-1.5 md:py-2 text-sm md:text-base bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",disabled:u,children:[s.jsx(al,{className:"h-4 w-4 md:h-5 md:w-5"}),s.jsx("span",{children:u?"Processing...":"Top Up"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 rounded-xl md:rounded-2xl p-4 md:p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base md:text-lg font-medium text-blue-100",children:"Current Balance"}),s.jsx("p",{className:"text-2xl md:text-4xl font-bold",children:g(m.walletBalance)})]}),s.jsx("div",{className:"p-3 md:p-4 bg-white bg-opacity-20 rounded-full",children:s.jsx(Kt,{className:"h-6 w-6 md:h-8 md:w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4",children:[s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 md:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx(bn,{className:"h-5 w-5 md:h-6 md:w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-green-100",children:"Total Credits"}),s.jsx("p",{className:"text-lg md:text-xl font-bold",children:g(S)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 md:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx(UE,{className:"h-5 w-5 md:h-6 md:w-6 text-red-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:"Total Spent"}),s.jsx("p",{className:"text-lg md:text-xl font-bold",children:g(j)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 md:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 md:h-6 md:w-6 text-yellow-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:"This Month"}),s.jsx("p",{className:"text-lg md:text-xl font-bold",children:g(_)})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-green-500",children:s.jsx(Ev,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Credits"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:h.filter(k=>k.type==="credit").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-red-500",children:s.jsx(ah,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Debits"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:h.filter(k=>k.type==="debit").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-blue-500",children:s.jsx(Lv,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Transactions"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:h.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-purple-500",children:s.jsx(je,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Avg Transaction"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:h.length>0?g((S+j)/h.length):g(0)})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Transactions"}),s.jsx("option",{value:"credit",children:"Credits Only"}),s.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Transaction History"}),s.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"View all your wallet activities and transactions"})]}),x.length>0?s.jsx("div",{className:"divide-y divide-gray-200 overflow-x-auto",children:x.map(k=>s.jsx("div",{className:"p-4 md:p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[s.jsx("div",{className:`p-2 md:p-3 rounded-full border ${v(k.type)}`,children:y(k.type,k.description)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm md:text-base font-medium text-gray-900",children:k.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 mt-1",children:[s.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-500",children:[s.jsx(Ne,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),new Date(k.createdAt||k.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-500",children:[s.jsx($t,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),new Date(k.createdAt||k.created_at).toLocaleTimeString()]}),k.relatedJobId&&s.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-500",children:[s.jsx(Se,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Order #",k.relatedJobId]})]})]})]}),s.jsxs("div",{className:"text-right sm:ml-4",children:[s.jsxs("p",{className:`text-base md:text-lg font-bold ${p(k.type)}`,children:[k.type==="credit"?"+":"-",g(k.amount)]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type==="credit"?"Credit":"Debit"})]})]})},k.id))}):s.jsx("div",{className:"text-center py-8 md:py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Lv,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 text-gray-300"}),s.jsx("h3",{className:"text-base md:text-lg font-medium mb-1 md:mb-2",children:"No transactions found"}),s.jsx("p",{className:"text-xs md:text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"Your transaction history will appear here"})]})})]}),c&&s.jsx(o3,{onClose:()=>d(!1),onSuccess:b,currentBalance:m.walletBalance,loading:u})]})},u3=()=>{const{user:e}=Ae(),{earnings:t,transactions:r}=he(),[n,a]=w.useState(""),[i,l]=w.useState("all"),[o,c]=w.useState("all"),d=e,u=t.filter(j=>j.talentId===d.id);r.filter(j=>j.userId===d.id&&j.type==="credit");const f=u.filter(j=>{const N=j.campaignTitle.toLowerCase().includes(n.toLowerCase()),_=i==="all"||j.status===i;let k=!0;if(o!=="all"){const A=new Date,O=new Date(j.earnedAt);switch(o){case"today":k=O.toDateString()===A.toDateString();break;case"week":const P=new Date(A.getTime()-7*24*60*60*1e3);k=O>=P;break;case"month":k=O.getMonth()===A.getMonth()&&O.getFullYear()===A.getFullYear();break;case"year":k=O.getFullYear()===A.getFullYear();break}}return N&&_&&k}),m=j=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(j),h=j=>{switch(j){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=j=>{switch(j){case"paid":return s.jsx(X,{className:"h-4 w-4"});case"pending":return s.jsx($t,{className:"h-4 w-4"});case"cancelled":return s.jsx(_e,{className:"h-4 w-4"});default:return s.jsx(Se,{className:"h-4 w-4"})}},g=u.reduce((j,N)=>j+N.amount,0),y=u.filter(j=>j.status==="paid").reduce((j,N)=>j+N.amount,0),p=u.filter(j=>j.status==="pending").reduce((j,N)=>j+N.amount,0),v=u.filter(j=>{const N=new Date(j.earnedAt),_=new Date;return N.getMonth()===_.getMonth()&&N.getFullYear()===_.getFullYear()}).reduce((j,N)=>j+N.amount,0),b=u.filter(j=>j.status==="paid").length,S=b>0?y/b:0;return s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Earnings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Track your earnings and payment history"})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 rounded-2xl p-5 sm:p-8 text-white",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base sm:text-lg font-medium text-green-100",children:"Total Earnings"}),s.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:m(g)})]}),s.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-full self-start sm:self-auto",children:s.jsx(se,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(X,{className:"h-6 w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-green-100",children:"Paid"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:m(y)})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx($t,{className:"h-6 w-6 text-yellow-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-yellow-100",children:"Pending"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:m(p)})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-6 w-6 text-blue-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-blue-100",children:"This Month"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:m(v)})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:b})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(bn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Earning"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:m(S)})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(je,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"94%"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500",children:s.jsx(Gu,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Rate Level"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[d.rateLevel," Star"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search earnings by campaign...",value:n,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"px-3 py-2 border text-sm border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"px-3 py-2 border text-sm border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"year",children:"This Year"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"px-4 py-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Earnings History"}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"View all your completed jobs and earnings"})]}),f.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:f.map(j=>s.jsx("div",{className:"px-4 py-4 sm:p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`p-3 rounded-full border flex-shrink-0 ${j.status==="paid"?"bg-green-50 border-green-200":j.status==="pending"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:x(j.status)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:j.campaignTitle}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-xs sm:text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Earned: ",new Date(j.earnedAt).toLocaleDateString()]}),j.paidAt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(X,{className:"h-4 w-4 mr-1"}),"Paid: ",new Date(j.paidAt).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Order #",j.orderId]})]})]})]}),s.jsxs("div",{className:"text-right sm:text-right mt-2 sm:mt-0 flex flex-col items-end",children:[s.jsx("p",{className:"text-base sm:text-lg font-bold text-green-600",children:m(j.amount)}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${h(j.status)}`,children:[x(j.status),s.jsx("span",{className:"ml-1 capitalize",children:j.status})]})]})]})},j.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No earnings found"}),s.jsx("p",{className:"text-sm",children:n||i!=="all"||o!=="all"?"Try adjusting your search or filters":"Your earnings will appear here when you complete jobs"})]})})]})]})},d3=({founder:e,onClose:t,onStatusChange:r})=>{const{campaigns:n,orders:a,transactions:i,talents:l}=he(),o=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=p=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(p),d=p=>{r(e.id,p),t()},u=n.filter(p=>p.founderId===e.id),f=a.filter(p=>p.founderId===e.id),m=i.filter(p=>p.userId===e.id),h=m.reduce((p,v)=>p+Number(v.amount||0),0),x=n.filter(p=>p.founderId===e.id).length,g=[];u.forEach(p=>{g.push({message:`Created campaign "${p.title}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date})}),f.forEach(p=>{p.status==="completed"?g.push({message:`Completed order for "${p.campaignTitle}" (${p.productName})`,timestamp:p.updatedAt||p.createdAt||new Date}):p.status==="delivered"&&g.push({message:`Delivered product for "${p.campaignTitle}"`,timestamp:p.updatedAt||p.createdAt||new Date})}),m.forEach(p=>{p.type==="debit"?g.push({message:`Spent ${c(Number(p.amount))} for "${p.description}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date}):p.type==="credit"&&g.push({message:`Received ${c(Number(p.amount))} - "${p.description}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date})}),f.forEach(p=>{if(p.status==="pending_shipment"){const v=l.find(b=>b.id===p.talentId);g.push({message:`Approved talent ${(v==null?void 0:v.name)||"—"} for "${p.campaignTitle}"`,timestamp:p.createdAt||new Date})}});const y=g.sort((p,v)=>v.timestamp.getTime()-p.timestamp.getTime()).slice(0,5);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Founder Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md object-cover",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):e.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.email})]})]}),e.phone&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ag,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.phone})]})]}),e.company&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Cl,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Company"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.company})]})]}),e.address&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.address})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Wallet Balance"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:c(e.walletBalance)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Spent"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(h)})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wt,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Campaigns"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:x})]})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"4.8"})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Timeline"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.lastLogin&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.lastLogin.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:y.length>0?y.map((p,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"•"}),s.jsx("span",{children:p.message}),s.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[p.timestamp.toLocaleDateString()," ",p.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},v)):s.jsx("p",{children:"No recent activity found."})})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="pending"&&s.jsxs("button",{onClick:()=>d("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Account"})]}),e.status==="active"&&s.jsxs("button",{onClick:()=>d("suspended"),className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(os,{className:"h-4 w-4"}),s.jsx("span",{children:"Suspend Account"})]}),e.status==="suspended"&&s.jsxs("button",{onClick:()=>d("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:"Reactivate Account"})]})]})]})})},f3=()=>{const{founders:e,setFounders:t,campaigns:r,refreshData:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(!1),{transactions:m}=he(),h=e.filter(j=>{var k;const N=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase())||((k=j.company)==null?void 0:k.toLowerCase().includes(a.toLowerCase())),_=l==="all"||j.status===l;return N&&_}),x=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=j=>{switch(j){case"active":return s.jsx(X,{className:"h-4 w-4"});case"pending":return s.jsx(Ne,{className:"h-4 w-4"});case"suspended":return s.jsx(os,{className:"h-4 w-4"});default:return s.jsx(qe,{className:"h-4 w-4"})}},y=async(j,N)=>{try{f(!0),await sh(j,N),t(e.map(_=>_.id===j?{..._,status:N}:_))}catch{alert("Failed to update founder status. Please try again.")}finally{f(!1)}},p=j=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(j),v=j=>{const _=Math.abs(new Date().getTime()-j.getTime());return Math.ceil(_/(1e3*60*60*24))},b=j=>r.filter(N=>N.founderId===j),S=j=>m.filter(N=>N.userId===j&&N.type==="debit").reduce((N,_)=>N+(Number(_.amount)||0),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Founders Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage founder accounts and monitor their activities"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Founders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(Ne,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(Kt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Wallet Balance"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p(e.reduce((j,N)=>j+N.walletBalance,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Cl,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Companies"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.company).length})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search founders by name, email, or company...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),h.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Founder"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaigns"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wallet Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(j=>{const N=b(j.id),_=S(j.id);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md object-cover",children:j.avatar?s.jsx("img",{src:j.avatar,alt:j.name,className:"w-full h-full object-cover"}):j.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Pn,{className:"h-3 w-3 mr-1"}),j.email]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:j.company||"N/A"}),j.phone&&s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(ag,{className:"h-3 w-3 mr-1"}),j.phone]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(j.status)}`,children:[g(j.status),s.jsx("span",{className:"ml-1 capitalize",children:j.status})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:N.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"campaigns"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:p(j.walletBalance)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Spent: ",p(_)]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[v(j.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:j.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(j),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})}),j.status==="active"?s.jsx("button",{onClick:()=>y(j.id,"suspended"),disabled:u,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Suspend Account",children:s.jsx(os,{className:"h-4 w-4"})}):j.status==="suspended"?s.jsx("button",{onClick:()=>y(j.id,"active"),disabled:u,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Activate Account",children:s.jsx(X,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>y(j.id,"active"),disabled:u,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50",children:"Approve"}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(sg,{className:"h-4 w-4"})})]})})]},j.id)})})]})})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(qe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No founders found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"No founders have registered yet"})]})}),c&&s.jsx(d3,{founder:c,onClose:()=>d(null),onStatusChange:y})]})},m3=({talent:e,onClose:t,onStatusChange:r})=>{const n=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=c=>{switch(c){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},i=c=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(c),l=c=>{r(e.id,c),t()},o=c=>c.includes(".mp4")||c.includes(".mov")||c.includes(".webm")||c.includes("video")||c.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Talent Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden flex-shrink-0",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${n(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earnings"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:i(e.totalEarnings)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Completed Jobs"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.completedJobs})]})]})}),s.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.averageRating>0?e.averageRating.toFixed(1):"N/A"})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gu,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.completedJobs>0?"94%":"N/A"})]})]})})]})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((c,d)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium",children:c},d))})]}),e.socialMedia&&Object.values(e.socialMedia).some(c=>c)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media"}),s.jsxs("div",{className:"space-y-2",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zl,{className:"h-5 w-5 text-pink-500"}),s.jsxs("a",{href:`https://instagram.com/${e.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.instagram,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsxs("a",{href:e.socialMedia.youtube.startsWith("http")?e.socialMedia.youtube:`https://youtube.com/${e.socialMedia.youtube}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.youtube,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((c,d)=>s.jsx("div",{className:"relative group",children:o(c)?s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[s.jsx("video",{src:c,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ol,{className:"h-10 w-10 text-white"})})]}):s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:c,alt:`Portfolio ${d+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Xt,{className:"h-6 w-6 text-white"})})})]})},d))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Timeline"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.lastLogin&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.lastLogin.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("p",{children:'• Submitted review for "Tech Product Launch" campaign - 2 days ago'}),s.jsx("p",{children:'• Applied to "Fashion Collection Review" campaign - 1 week ago'}),s.jsx("p",{children:'• Completed job for "Gaming Headset Review" - 2 weeks ago'}),s.jsx("p",{children:"• Updated portfolio with new content - 3 weeks ago"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="pending"&&s.jsxs("button",{onClick:()=>l("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Account"})]}),e.status==="active"&&s.jsxs("button",{onClick:()=>l("suspended"),className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(os,{className:"h-4 w-4"}),s.jsx("span",{children:"Suspend Account"})]}),e.status==="suspended"&&s.jsxs("button",{onClick:()=>l("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:"Reactivate Account"})]})]})]})})},h3=({talent:e,onClose:t,onApprove:r})=>{const[n,a]=w.useState(1),[i,l]=w.useState(!1),o=u=>{switch(u){case 1:return"bg-green-100 text-green-800 border-green-300";case 2:return"bg-blue-100 text-blue-800 border-blue-300";case 3:return"bg-purple-100 text-purple-800 border-purple-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},c=u=>{switch(u){case 1:return"Entry level talent with basic content creation skills. Suitable for simple product reviews and basic social media content.";case 2:return"Intermediate talent with proven content creation experience. Can handle more complex campaigns and has established audience engagement.";case 3:return"Premium talent with exceptional content quality and significant audience reach. Best for high-value campaigns and brand partnerships.";default:return""}},d=async()=>{l(!0);try{await r(e.id,n)}catch(u){console.error("Error approving talent:",u)}finally{l(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Approve Talent Application"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending Approval"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Applied: ",e.createdAt.toLocaleDateString()]})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((u,f)=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:u},f))})]}),e.socialMedia&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media Presence"}),s.jsxs("div",{className:"space-y-2",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zl,{className:"h-5 w-5 text-pink-500"}),s.jsx("span",{className:"text-gray-700",children:e.socialMedia.instagram})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-gray-700",children:e.socialMedia.youtube})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((u,f)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:u,alt:`Portfolio ${f+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Xt,{className:"h-6 w-6 text-white"})})})]},f))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assign Rate Level"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Select the appropriate rate level based on the talent's experience, portfolio quality, and social media presence."}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${n===u?o(u):"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"radio",name:"rateLevel",value:u,checked:n===u,onChange:f=>a(Number(f.target.value)),className:"mt-1 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3].map(f=>s.jsx(je,{className:`h-4 w-4 ${f<=u?"text-yellow-400 fill-current":"text-gray-300"}`},f))}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[u," Star Level - ",u===1?"Entry":u===2?"Intermediate":"Premium"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:c(u)})]})]},u))})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Approval Summary"}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[s.jsxs("p",{children:["• Talent will be approved with ",n," star level"]}),s.jsx("p",{children:"• They will gain access to campaigns up to their rate level"}),s.jsx("p",{children:'• Account status will change from "Pending" to "Active"'}),s.jsx("p",{children:"• Talent will receive email notification of approval"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:d,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:i?"Approving...":`Approve as ${n} Star Talent`})]})]})]})})},p3=()=>{const{talents:e,setTalents:t,refreshData:r,loading:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState("all"),[u,f]=w.useState(null),[m,h]=w.useState(null),[x,g]=w.useState(!1),y=e.filter(P=>{const C=P.name.toLowerCase().includes(a.toLowerCase())||P.email.toLowerCase().includes(a.toLowerCase())||P.skills.some(z=>z.toLowerCase().includes(a.toLowerCase())),E=l==="all"||P.status===l,R=c==="all"||P.rateLevel.toString()===c;return C&&E&&R}),p=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=P=>{switch(P){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=P=>{switch(P){case"active":return s.jsx(X,{className:"h-4 w-4"});case"pending":return s.jsx(Ne,{className:"h-4 w-4"});case"suspended":return s.jsx(os,{className:"h-4 w-4"});default:return s.jsx(qe,{className:"h-4 w-4"})}},S=async(P,C)=>{try{g(!0),console.log("Updating talent status:",P,"to:",C),await sh(P,C),t(e.map(E=>E.id===P?{...E,status:C}:E)),await r(),console.log("Talent status updated successfully")}catch(E){console.error("Error updating talent status:",E),alert("Failed to update talent status. Please try again.")}finally{g(!1)}},j=P=>{h(P)},N=async(P,C)=>{try{g(!0),await sh(P,"active"),await cN(P,{rate_level:C}),t(e.map(E=>E.id===P?{...E,status:"active",rateLevel:C}:E)),h(null),await r()}catch(E){console.error("Error approving talent:",E),alert("Failed to approve talent. Please try again.")}finally{g(!1)}},_=async()=>{console.log("Manually refreshing talent data..."),await r()},k=P=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(P),A=P=>{const E=Math.abs(new Date().getTime()-P.getTime());return Math.ceil(E/(1e3*60*60*24))},O=()=>e.filter(C=>C.status==="active").length===0?0:4.7;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Talents Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage talent accounts and monitor their performance"})]}),s.jsxs("button",{onClick:_,disabled:n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Rv,{className:`h-4 w-4 ${n?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Talents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(P=>P.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(Ne,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(P=>P.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(se,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k(e.reduce((P,C)=>P+C.totalEarnings,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Gu,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O().toFixed(1)})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search talents by name, email, or skills...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"1",children:"1 Star"}),s.jsx("option",{value:"2",children:"2 Star"}),s.jsx("option",{value:"3",children:"3 Star"})]})]})]}),n&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading talents..."})]}),!n&&y.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Talent"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate Level"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Earnings"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:P.avatar?s.jsx("img",{src:P.avatar,alt:P.name,className:"w-full h-full object-cover"}):P.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Pn,{className:"h-3 w-3 mr-1"}),P.email]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(P.status)}`,children:[b(P.status),s.jsx("span",{className:"ml-1 capitalize",children:P.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(P.rateLevel)}`,children:[s.jsx(je,{className:"h-3 w-3 mr-1"}),P.rateLevel," Star"]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[P.skills.slice(0,2).join(", "),P.skills.length>2&&` +${P.skills.length-2}`]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[P.skills.length," skill",P.skills.length!==1?"s":""]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:k(P.totalEarnings)}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total earned"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[A(P.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:P.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>f(P),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})}),P.status==="pending"?s.jsxs("button",{onClick:()=>j(P),disabled:x,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(El,{className:"h-3 w-3"}),s.jsx("span",{children:x?"Processing...":"Approve"})]}):P.status==="active"?s.jsx("button",{onClick:()=>S(P.id,"suspended"),disabled:x,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Suspend Account",children:s.jsx(os,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>S(P.id,"active"),disabled:x,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Activate Account",children:s.jsx(X,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(sg,{className:"h-4 w-4"})})]})})]},P.id))})]})})}):n?null:s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No talents found"}),s.jsx("p",{className:"text-sm mb-4",children:a||l!=="all"||c!=="all"?"Try adjusting your search or filters":"No talents have registered yet"}),s.jsxs("button",{onClick:_,className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Rv,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh Data"})]})]})}),u&&s.jsx(m3,{talent:u,onClose:()=>f(null),onStatusChange:S}),m&&s.jsx(h3,{talent:m,onClose:()=>h(null),onApprove:N})]})},g3=({campaign:e,onClose:t,onReject:r,onApprove:n})=>{const a=f=>{switch(f){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=f=>{switch(f){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},l=f=>{switch(f){case"video":return s.jsx(Qt,{className:"h-4 w-4"});case"image":return s.jsx(Xt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx(Qt,{className:"h-4 w-4"})]})}},o=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f),c=f=>{switch(f){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return f}},d=()=>{r==null||r(),t()},u=()=>{n==null||n(),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${i(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Se,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ig,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($t,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsx("p",{className:"font-medium text-gray-900",children:c(e.duration)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(se,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Budget"}),s.jsx("p",{className:"font-medium text-green-600",children:o(e.budget)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[l(e.mediaType),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Media Type"}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})]})]}),e.productImages&&e.productImages.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.productImages.map((f,m)=>s.jsx("img",{src:f,alt:`${e.productName} ${m+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"},m))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Application Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qe,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.applicants.length})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Approved Talents"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.approvedTalents.length})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campaign Performance"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Views"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"2,450"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Applications"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.applicants.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"85%"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:["• Campaign created by founder - ",Math.ceil((new Date().getTime()-e.createdAt.getTime())/(1e3*60*60*24))," days ago"]}),s.jsx("p",{children:"• First application received - 3 days ago"}),s.jsx("p",{children:"• Talent approved for campaign - 2 days ago"}),s.jsx("p",{children:"• Product shipped to talent - 1 day ago"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="active"&&r&&s.jsxs("button",{onClick:d,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(os,{className:"h-4 w-4"}),s.jsx("span",{children:"Reject Campaign"})]}),e.status==="draft"&&n&&s.jsxs("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(X,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Campaign"})]})]})]})})},x3=()=>{const{campaigns:e,setCampaigns:t}=he(),[r,n]=w.useState(""),[a,i]=w.useState("all"),[l,o]=w.useState("all"),[c,d]=w.useState(null),u=e.filter(b=>{const S=b.title.toLowerCase().includes(r.toLowerCase())||b.description.toLowerCase().includes(r.toLowerCase())||b.productName.toLowerCase().includes(r.toLowerCase())||b.category.toLowerCase().includes(r.toLowerCase()),j=a==="all"||b.status===a,N=l==="all"||b.rateLevel.toString()===l;return S&&j&&N}),f=b=>{switch(b){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=b=>{switch(b){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},h=b=>{switch(b){case"active":return s.jsx(X,{className:"h-4 w-4"});case"paused":return s.jsx(Ne,{className:"h-4 w-4"});case"completed":return s.jsx(X,{className:"h-4 w-4"});case"draft":return s.jsx(Ne,{className:"h-4 w-4"});case"rejected":return s.jsx(gN,{className:"h-4 w-4"});default:return s.jsx(wt,{className:"h-4 w-4"})}},x=b=>{window.confirm("Are you sure you want to reject this campaign? This action cannot be undone.")&&t(e.map(S=>S.id===b?{...S,status:"rejected"}:S))},g=b=>{t(e.map(S=>S.id===b?{...S,status:"active"}:S))},y=b=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(b),p=b=>{const j=Math.abs(new Date().getTime()-b.getTime());return Math.ceil(j/(1e3*60*60*24))},v=b=>{switch(b){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return b}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaigns Management"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage all campaigns on the platform"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-green-500",children:s.jsx(X,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Active Campaigns"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:e.filter(b=>b.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-yellow-500",children:s.jsx(Ne,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Paused"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:e.filter(b=>b.status==="paused").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-blue-500",children:s.jsx(qe,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Applicants"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:e.reduce((b,S)=>b+S.applicants.length,0)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-purple-500",children:s.jsx(se,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})}),s.jsxs("div",{className:"ml-2 md:ml-4",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Budget"}),s.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:y(e.reduce((b,S)=>b+S.budget,0))})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns by title, product, or category...",value:r,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:b=>i(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsxs("select",{value:l,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"1",children:"1 Star"}),s.jsx("option",{value:"2",children:"2 Star"}),s.jsx("option",{value:"3",children:"3 Star"})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:u.length>0?s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:b.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("div",{className:"text-sm text-gray-500",children:b.productName})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(b.status)}`,children:[h(b.status),s.jsx("span",{className:"ml-1 capitalize",children:b.status})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:b.category}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${m(b.rateLevel)}`,children:[b.rateLevel," Star"]}),s.jsx("span",{children:v(b.duration)})]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:b.applicants.length}),s.jsxs("div",{className:"text-sm text-gray-500",children:[b.approvedTalents.length," approved"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:y(b.budget)}),s.jsx("div",{className:"text-sm text-gray-500 capitalize",children:b.mediaType})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[p(b.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:b.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(b),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(tn,{className:"h-4 w-4"})}),b.status==="active"&&s.jsx("button",{onClick:()=>x(b.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject Campaign",children:s.jsx(os,{className:"h-4 w-4"})}),b.status==="draft"&&s.jsx("button",{onClick:()=>g(b.id),className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Approve"}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(sg,{className:"h-4 w-4"})})]})})]},b.id))})]}):s.jsxs("div",{className:"text-center py-8 md:py-12",children:[s.jsx(wt,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 text-gray-300"}),s.jsx("h3",{className:"text-base md:text-lg font-medium mb-1 md:mb-2",children:"No campaigns found"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:r||a!=="all"||l!=="all"?"Try adjusting your search or filters":"No campaigns have been created yet"})]})})}),c&&s.jsx(g3,{campaign:c,onClose:()=>d(null),onReject:()=>x(c.id),onApprove:()=>g(c.id)})]})},v3=()=>{const{orders:e,transactions:t,founders:r,talents:n}=he(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState("all"),f=(()=>{const N=[];return t.forEach(_=>{var M,B;const k=e.find(I=>I.id===_.relatedJobId),A=(k==null?void 0:k.campaignTitle)||_.description||"—",O=n.find(I=>I.id===(k==null?void 0:k.talentId)),P=r.find(I=>I.id===(k==null?void 0:k.founderId));let C="talent_payment";_.type==="credit"&&((M=_.description)!=null&&M.toLowerCase().includes("admin fee"))?C="admin_fee":_.type==="credit"&&((B=_.description)!=null&&B.toLowerCase().includes("wallet top up"))?C="wallet_topup":_.type==="debit"&&(C="campaign_payout");const E="completed",R=C==="talent_payment"?(O==null?void 0:O.name)||(k==null?void 0:k.talentName)||"-":void 0,z=(P==null?void 0:P.name)||(C==="campaign_payout"?P==null?void 0:P.name:void 0);N.push({id:_.id,type:C,orderId:_.relatedJobId||null,campaignTitle:A,talentName:R,founderName:z,amount:Number(_.amount)||0,adminFee:C==="admin_fee"?Number(_.amount)||0:void 0,totalAmount:Number(_.amount)||0,status:E,createdAt:_.createdAt?new Date(_.createdAt):new Date})}),N.sort((_,k)=>k.createdAt.getTime()-_.createdAt.getTime())})(),m=f.filter(N=>{var O,P;const _=N.campaignTitle.toLowerCase().includes(a.toLowerCase())||((O=N.talentName)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((P=N.founderName)==null?void 0:P.toLowerCase().includes(a.toLowerCase())),k=l==="all"||N.type===l,A=c==="all"||N.status===c;return _&&k&&A}),h=N=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(N),x=N=>{switch(N){case"talent_payment":return"bg-blue-100 text-blue-800";case"admin_fee":return"bg-green-100 text-green-800";case"wallet_topup":return"bg-purple-100 text-purple-800";case"campaign_payout":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=N=>{switch(N){case"talent_payment":return s.jsx(qe,{className:"h-4 w-4"});case"admin_fee":return s.jsx(je,{className:"h-4 w-4"});case"wallet_topup":return s.jsx(Bc,{className:"h-4 w-4"});case"campaign_payout":return s.jsx(ah,{className:"h-4 w-4"});default:return s.jsx(se,{className:"h-4 w-4"})}},y=N=>{switch(N){case"talent_payment":return"Talent Payment";case"admin_fee":return"Admin Fee";case"wallet_topup":return"Wallet Top Up";case"campaign_payout":return"Campaign Payout";default:return N}},p=N=>{switch(N){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=f.filter(N=>N.type==="admin_fee").reduce((N,_)=>N+_.amount,0),b=f.filter(N=>N.type==="talent_payment").reduce((N,_)=>N+_.amount,0);f.filter(N=>N.type==="wallet_topup").reduce((N,_)=>N+_.amount,0),f.filter(N=>N.type==="campaign_payout").reduce((N,_)=>N+_.amount,0);const S=f.length,j=f.filter(N=>{const _=new Date(N.createdAt),k=new Date;return N.type==="admin_fee"&&_.getMonth()===k.getMonth()&&_.getFullYear()===k.getFullYear()}).reduce((N,_)=>N+_.amount,0);return s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Payments & Revenue"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor platform revenue and payment transactions"})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 rounded-2xl p-5 sm:p-8 text-white",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base sm:text-lg font-medium text-green-100",children:"Total Platform Revenue"}),s.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:h(v)}),s.jsx("p",{className:"text-green-100 text-xs sm:text-sm mt-1",children:"10% commission from all completed jobs"})]}),s.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-full self-start sm:self-auto",children:s.jsx(se,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(bn,{className:"h-6 w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-green-100",children:"This Month"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:h(j)})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(qe,{className:"h-6 w-6 text-blue-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-blue-100",children:"Talent Payments"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:h(b)})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Bc,{className:"h-6 w-6 text-purple-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Transactions"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold",children:S})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(je,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Admin Fees"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:f.filter(N=>N.type==="admin_fee").length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(qe,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Talent Payments"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:f.filter(N=>N.type==="talent_payment").length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(wt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.filter(N=>N.status==="completed").length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500",children:s.jsx(bn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Avg Commission"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"10%"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search by campaign, talent, or founder...",value:a,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:N=>o(N.target.value),className:"px-3 py-2 border text-sm border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"talent_payment",children:"Talent Payments"}),s.jsx("option",{value:"admin_fee",children:"Admin Fees"}),s.jsx("option",{value:"wallet_topup",children:"Wallet Top Up"}),s.jsx("option",{value:"campaign_payout",children:"Campaign Payouts"})]})]}),s.jsxs("select",{value:c,onChange:N=>d(N.target.value),className:"px-3 py-2 border text-sm border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"px-4 py-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Payment Transactions"}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"All platform payment activities and revenue records"})]}),m.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:m.map(N=>s.jsx("div",{className:"px-4 py-4 sm:p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`p-3 rounded-full border flex-shrink-0 ${N.type==="admin_fee"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:g(N.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:N.campaignTitle}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(N.type)}`,children:[g(N.type),s.jsx("span",{className:"ml-1",children:y(N.type)})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs sm:text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ne,{className:"h-4 w-4 mr-1"}),N.createdAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Order #",N.orderId]}),N.talentName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"h-4 w-4 mr-1"}),N.talentName]}),N.founderName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(je,{className:"h-4 w-4 mr-1"}),N.founderName]}),N.type==="talent_payment"&&N.adminFee&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(je,{className:"h-4 w-4 mr-1"}),"Admin Fee: ",h(N.adminFee)]})]})]})]}),s.jsxs("div",{className:"text-right mt-2 sm:mt-0 flex flex-col items-end",children:[s.jsx("p",{className:`text-base sm:text-lg font-bold ${N.type==="admin_fee"?"text-green-600":"text-blue-600"}`,children:h(N.amount)}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${p(N.status)}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})]})},N.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No payments found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"||c!=="all"?"Try adjusting your search or filters":"Payment records will appear here when jobs are completed"})]})})]})]})};function yN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yN(e))&&(n&&(n+=" "),n+=t);return n}var Ju={},bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(bN);var og={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(og);var cg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cg);var Xu={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];o?d==="\\"&&i+1<a?(i++,l+=r[i]):d===o?o="":l+=d:c?d==='"'||d==="'"?o=d:d==="]"?(c=!1,n.push(l),l=""):l+=d:d==="["?(c=!0,l&&(n.push(l),l="")):d==="."?l&&(n.push(l),l=""):l+=d,i++}return l&&n.push(l),n}e.toPath=t})(Xu);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN,r=og,n=cg,a=Xu;function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?r.isDeepKey(c)?i(o,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(Ju);var y3=Ju.get;const Xs=_n(y3);var wN={exports:{}},fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=typeof Symbol=="function"&&Symbol.for,ug=Xe?Symbol.for("react.element"):60103,dg=Xe?Symbol.for("react.portal"):60106,Qu=Xe?Symbol.for("react.fragment"):60107,Zu=Xe?Symbol.for("react.strict_mode"):60108,ed=Xe?Symbol.for("react.profiler"):60114,td=Xe?Symbol.for("react.provider"):60109,rd=Xe?Symbol.for("react.context"):60110,fg=Xe?Symbol.for("react.async_mode"):60111,nd=Xe?Symbol.for("react.concurrent_mode"):60111,sd=Xe?Symbol.for("react.forward_ref"):60112,ad=Xe?Symbol.for("react.suspense"):60113,b3=Xe?Symbol.for("react.suspense_list"):60120,id=Xe?Symbol.for("react.memo"):60115,ld=Xe?Symbol.for("react.lazy"):60116,w3=Xe?Symbol.for("react.block"):60121,j3=Xe?Symbol.for("react.fundamental"):60117,N3=Xe?Symbol.for("react.responder"):60118,S3=Xe?Symbol.for("react.scope"):60119;function ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ug:switch(e=e.type,e){case fg:case nd:case Qu:case ed:case Zu:case ad:return e;default:switch(e=e&&e.$$typeof,e){case rd:case sd:case ld:case id:case td:return e;default:return t}}case dg:return t}}}function jN(e){return ir(e)===nd}fe.AsyncMode=fg;fe.ConcurrentMode=nd;fe.ContextConsumer=rd;fe.ContextProvider=td;fe.Element=ug;fe.ForwardRef=sd;fe.Fragment=Qu;fe.Lazy=ld;fe.Memo=id;fe.Portal=dg;fe.Profiler=ed;fe.StrictMode=Zu;fe.Suspense=ad;fe.isAsyncMode=function(e){return jN(e)||ir(e)===fg};fe.isConcurrentMode=jN;fe.isContextConsumer=function(e){return ir(e)===rd};fe.isContextProvider=function(e){return ir(e)===td};fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ug};fe.isForwardRef=function(e){return ir(e)===sd};fe.isFragment=function(e){return ir(e)===Qu};fe.isLazy=function(e){return ir(e)===ld};fe.isMemo=function(e){return ir(e)===id};fe.isPortal=function(e){return ir(e)===dg};fe.isProfiler=function(e){return ir(e)===ed};fe.isStrictMode=function(e){return ir(e)===Zu};fe.isSuspense=function(e){return ir(e)===ad};fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qu||e===nd||e===ed||e===Zu||e===ad||e===b3||typeof e=="object"&&e!==null&&(e.$$typeof===ld||e.$$typeof===id||e.$$typeof===td||e.$$typeof===rd||e.$$typeof===sd||e.$$typeof===j3||e.$$typeof===N3||e.$$typeof===S3||e.$$typeof===w3)};fe.typeOf=ir;wN.exports=fe;var _3=wN.exports,Et=e=>e===0?0:e>0?1:-1,Zt=e=>typeof e=="number"&&e!=+e,Ds=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,H=e=>(typeof e=="number"||e instanceof Number)&&!Zt(e),Qr=e=>H(e)||typeof e=="string",k3=0,Va=e=>{var t=++k3;return"".concat(e||"").concat(t)},Fr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&typeof t!="string")return n;var i;if(Ds(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Zt(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},NN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Er=(e,t)=>H(e)&&H(t)?r=>e+r*(t-e):()=>t;function mg(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Xs(n,t))===r)}var ge=e=>e===null||typeof e>"u",no=e=>ge(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),P3=["viewBox","children"],C3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bv=["points","pathLength"],Mf={svg:P3,polygon:Bv,polyline:Bv},hg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{hg.includes(a)&&(n[a]=i=>r[a](r,i))}),n},A3=(e,t,r)=>n=>(e(t,r,n),null),od=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];hg.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=A3(i,t,r))}),n},Uv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zv=null,If=null,SN=e=>{if(e===zv&&Array.isArray(If))return If;var t=[];return w.Children.forEach(e,r=>{ge(r)||(_3.isFragment(r)?t=t.concat(SN(r.props.children)):t.push(r))}),If=t,zv=e,t};function gg(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Uv(a)):n=[Uv(t)],SN(e).forEach(a=>{var i=Xs(a,"type.displayName")||Xs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var _N=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,O3=(e,t,r,n)=>{var a,i=(a=n&&(Mf==null?void 0:Mf[n]))!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||C3.includes(t))||r&&hg.includes(t)},ce=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;O3((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},E3=["children","width","height","viewBox","className","style","title","desc"];function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}function T3(e,t){if(e==null)return{};var r,n,a=M3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xg=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=T3(e,E3),f=i||{width:n,height:a,x:0,y:0},m=ue("recharts-surface",l);return w.createElement("svg",lh({},ce(u,!0,"svg"),{className:m,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,d),r)}),I3=["children","className"];function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(null,arguments)}function D3(e,t){if(e==null)return{};var r,n,a=$3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var er=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=D3(e,I3),i=ue("recharts-layer",n);return w.createElement("g",oh({className:i},ce(a,!0),{ref:t}),r)}),kN=w.createContext(null),L3=()=>w.useContext(kN);function be(e){return function(){return e}}const PN=Math.cos,zc=Math.sin,Ur=Math.sqrt,Wc=Math.PI,cd=2*Wc,ch=Math.PI,uh=2*ch,Cs=1e-6,R3=uh-Cs;function CN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function F3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CN;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class B3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CN:F3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,d=a-r,u=l-t,f=o-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Cs)if(!(Math.abs(f*c-d*u)>Cs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-l,x=a-o,g=c*c+d*d,y=h*h+x*x,p=Math.sqrt(g),v=Math.sqrt(m),b=i*Math.tan((ch-Math.acos((g+m-y)/(2*p*v)))/2),S=b/v,j=b/p;Math.abs(S-1)>Cs&&this._append`L${t+S*u},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),d=t+o,u=r+c,f=1^l,m=l?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Cs||Math.abs(this._y1-u)>Cs)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%uh+uh),m>R3?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:m>Cs&&this._append`A${n},${n},0,${+(m>=ch)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new B3(t)}function yg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AN(e){this._context=e}AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ud(e){return new AN(e)}function ON(e){return e[0]}function EN(e){return e[1]}function TN(e,t){var r=be(!0),n=null,a=ud,i=null,l=vg(o);e=typeof e=="function"?e:e===void 0?ON:be(e),t=typeof t=="function"?t:t===void 0?EN:be(t);function o(c){var d,u=(c=yg(c)).length,f,m=!1,h;for(n==null&&(i=a(h=l())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:be(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:be(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:be(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Bo(e,t,r){var n=null,a=be(!0),i=null,l=ud,o=null,c=vg(d);e=typeof e=="function"?e:e===void 0?ON:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?EN:be(+r);function d(f){var m,h,x,g=(f=yg(f)).length,y,p=!1,v,b=new Array(g),S=new Array(g);for(i==null&&(o=l(v=c())),m=0;m<=g;++m){if(!(m<g&&a(y=f[m],m,f))===p)if(p=!p)h=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=h;--x)o.point(b[x],S[x]);o.lineEnd(),o.areaEnd()}p&&(b[m]=+e(y,m,f),S[m]=+t(y,m,f),o.point(n?+n(y,m,f):b[m],r?+r(y,m,f):S[m]))}if(v)return o=null,v+""||null}function u(){return TN().defined(a).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:be(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:be(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:be(!!f),d):a},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class MN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function U3(e){return new MN(e,!0)}function z3(e){return new MN(e,!1)}const bg={draw(e,t){const r=Ur(t/Wc);e.moveTo(r,0),e.arc(0,0,r,0,cd)}},W3={draw(e,t){const r=Ur(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IN=Ur(1/3),K3=IN*2,q3={draw(e,t){const r=Ur(t/K3),n=r*IN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},H3={draw(e,t){const r=Ur(t),n=-r/2;e.rect(n,n,r,r)}},V3=.8908130915292852,DN=zc(Wc/10)/zc(7*Wc/10),Y3=zc(cd/10)*DN,G3=-PN(cd/10)*DN,J3={draw(e,t){const r=Ur(t*V3),n=Y3*r,a=G3*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=cd*i/5,o=PN(l),c=zc(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Df=Ur(3),X3={draw(e,t){const r=-Ur(t/(Df*3));e.moveTo(0,r*2),e.lineTo(-Df*r,-r),e.lineTo(Df*r,-r),e.closePath()}},lr=-.5,or=Ur(3)/2,dh=1/Ur(12),Q3=(dh/2+1)*3,Z3={draw(e,t){const r=Ur(t/Q3),n=r/2,a=r*dh,i=n,l=r*dh+r,o=-i,c=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(lr*n-or*a,or*n+lr*a),e.lineTo(lr*i-or*l,or*i+lr*l),e.lineTo(lr*o-or*c,or*o+lr*c),e.lineTo(lr*n+or*a,lr*a-or*n),e.lineTo(lr*i+or*l,lr*l-or*i),e.lineTo(lr*o+or*c,lr*c-or*o),e.closePath()}};function eT(e,t){let r=null,n=vg(a);e=typeof e=="function"?e:be(e||bg),t=typeof t=="function"?t:be(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:be(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:be(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Kc(){}function qc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $N(e){this._context=e}$N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tT(e){return new $N(e)}function LN(e){this._context=e}LN.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rT(e){return new LN(e)}function RN(e){this._context=e}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nT(e){return new RN(e)}function FN(e){this._context=e}FN.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sT(e){return new FN(e)}function Wv(e){return e<0?-1:1}function Kv(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(Wv(i)+Wv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function qv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $f(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function Hc(e){this._context=e}Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$f(this,this._t0,qv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$f(this,qv(this,r=Kv(this,e,t)),r);break;default:$f(this,this._t0,r=Kv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BN(e){this._context=new UN(e)}(BN.prototype=Object.create(Hc.prototype)).point=function(e,t){Hc.prototype.point.call(this,t,e)};function UN(e){this._context=e}UN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function aT(e){return new Hc(e)}function iT(e){return new BN(e)}function zN(e){this._context=e}zN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Hv(e),a=Hv(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Hv(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lT(e){return new zN(e)}function dd(e,t){this._context=e,this._t=t}dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oT(e){return new dd(e,.5)}function cT(e){return new dd(e,0)}function uT(e){return new dd(e,1)}function Ya(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dT(e,t){return e[t]}function fT(e){const t=[];return t.key=e,t}function mT(){var e=be([]),t=fh,r=Ya,n=dT;function a(i){var l=Array.from(e.apply(this,arguments),fT),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+n(f,l[o].key,d,i)]).data=f;for(o=0,u=yg(t(l));o<c;++o)l[u[o]].index=o;return r(l,u),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:be(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:be(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?fh:typeof i=="function"?i:be(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ya,a):r},a}function hT(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Ya(e,t)}}function pT(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ya(e,t)}}function gT(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[n][1]||0,m=u[n-1][1]||0,h=(f-m)/2,x=0;x<o;++x){var g=e[t[x]],y=g[n][1]||0,p=g[n-1][1]||0;h+=y-p}c+=f,d+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Ya(e,t)}}var xT=["type","size","sizeType"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(n){vT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vT(e,t,r){return(t=yT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){var t=bT(e,"string");return typeof t=="symbol"?t:t+""}function bT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wT(e,t){if(e==null)return{};var r,n,a=jT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WN={symbolCircle:bg,symbolCross:W3,symbolDiamond:q3,symbolSquare:H3,symbolStar:J3,symbolTriangle:X3,symbolWye:Z3},NT=Math.PI/180,ST=e=>{var t="symbol".concat(no(e));return WN[t]||bg},_T=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*NT;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kT=(e,t)=>{WN["symbol".concat(no(e))]=t},wg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=wT(e,xT),i=Yv(Yv({},a),{},{type:t,size:r,sizeType:n}),l=()=>{var f=ST(t),m=eT().type(f).size(_T(r,n,t));return m()},{className:o,cx:c,cy:d}=i,u=ce(i,!0);return c===+c&&d===+d&&r===+r?w.createElement("path",mh({},u,{className:ue("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};wg.registerSymbol=kT;function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jg(e,t,r){return(t=CT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CT(e){var t=AT(e,"string");return typeof t=="symbol"?t:t+""}function AT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cr=32;class Ng extends w.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=cr/2,i=cr/6,l=cr/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:cr,y2:a,className:"recharts-legend-icon"});if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(cr,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var d=PT({},t);return delete d.legendIcon,w.cloneElement(t.legendIcon,d)}return w.createElement(wg,{fill:o,cx:a,cy:a,size:cr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:cr,height:cr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var m=u.formatter||a,h=ue({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var x=u.inactive?i:u.color,g=m?m(u.value,u,f):u.value;return w.createElement("li",hh({className:h,style:c,key:"legend-item-".concat(f)},od(this.props,u,f)),w.createElement(xg,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}jg(Ng,"displayName","Legend");jg(Ng,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var KN={},qN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(qN);var Sg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Sg);var HN={},fd={},VN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(VN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VN;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(fd);var YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fd,r=YN;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(HN);var GN={},JN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ju;function r(n){return function(a){return t.get(a,n)}}e.property=r})(JN);var XN={},Lf={},Rf={},_g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(_g);var kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kg);var md={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(md);var Jv;function OT(){return Jv||(Jv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pg(),r=_g,n=kg,a=md;function i(f,m,h){return typeof h!="function"?t.isMatch(f,m):l(f,m,function x(g,y,p,v,b,S){const j=h(g,y,p,v,b,S);return j!==void 0?!!j:l(g,y,x,S)},new Map)}function l(f,m,h,x){if(m===f)return!0;switch(typeof m){case"object":return o(f,m,h,x);case"function":return Object.keys(m).length>0?l(f,{...m},h,x):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function o(f,m,h,x){if(m==null)return!0;if(Array.isArray(m))return d(f,m,h,x);if(m instanceof Map)return c(f,m,h,x);if(m instanceof Set)return u(f,m,h,x);const g=Object.keys(m);if(f==null)return g.length===0;if(g.length===0)return!0;if(x&&x.has(m))return x.get(m)===f;x&&x.set(m,f);try{for(let y=0;y<g.length;y++){const p=g[y];if(!n.isPrimitive(f)&&!(p in f)||m[p]===void 0&&f[p]!==void 0||m[p]===null&&f[p]!==null||!h(f[p],m[p],p,f,m,x))return!1}return!0}finally{x&&x.delete(m)}}function c(f,m,h,x){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,y]of m.entries()){const p=f.get(g);if(h(p,y,g,f,m,x)===!1)return!1}return!0}function d(f,m,h,x){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let y=0;y<m.length;y++){const p=m[y];let v=!1;for(let b=0;b<f.length;b++){if(g.has(b))continue;const S=f[b];let j=!1;if(h(S,p,y,f,m,x)&&(j=!0),j){g.add(b),v=!0;break}}if(!v)return!1}return!0}function u(f,m,h,x){return m.size===0?!0:f instanceof Set?d([...f],[...m],h,x):!1}e.isMatchWith=i,e.isSetMatch=u}(Rf)),Rf}var Xv;function Pg(){return Xv||(Xv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Lf)),Lf}var QN={},Cg={},Ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ag);var hd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(hd);var pd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",x="[object Error]",g="[object DataView]",y="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=p})(pd);var ZN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ZN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ag,r=hd,n=pd,a=kg,i=ZN;function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,m,h=new Map,x=void 0){const g=x==null?void 0:x(u,f,m,h);if(g!=null)return g;if(a.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const y=new Array(u.length);h.set(u,y);for(let p=0;p<u.length;p++)y[p]=o(u[p],p,m,h,x);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;h.set(u,y);for(const[p,v]of u)y.set(p,o(v,p,m,h,x));return y}if(u instanceof Set){const y=new Set;h.set(u,y);for(const p of u)y.add(o(p,void 0,m,h,x));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,y);for(let p=0;p<u.length;p++)y[p]=o(u[p],p,m,h,x);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,y),c(y,u,m,h,x),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return h.set(u,y),c(y,u,m,h,x),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return h.set(u,y),c(y,u,m,h,x),y}if(u instanceof Error){const y=new u.constructor;return h.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,c(y,u,m,h,x),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return h.set(u,y),c(y,u,m,h,x),y}return u}function c(u,f,m=u,h,x){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const p=g[y],v=Object.getOwnPropertyDescriptor(u,p);(v==null||v.writable)&&(u[p]=o(f[p],p,m,h,x))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(Cg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(QN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pg(),r=QN;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(XN);var e2={},t2={},r2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg,r=pd;function n(a,i){return t.cloneDeepWith(a,(l,o,c,d)=>{const u=i==null?void 0:i(l,o,c,d);if(u!=null)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(r2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(t2);var n2={},Og={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Og);var s2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=og,r=Og,n=s2,a=Xu;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(n2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pg(),r=cg,n=t2,a=Ju,i=n2;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(e2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sg,r=JN,n=XN,a=e2;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(GN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN,r=Sg,n=HN,a=GN;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(KN);var ET=KN.uniqBy;const Qv=_n(ET);function a2(e,t,r){return t===!0?Qv(e,r):typeof t=="function"?Qv(e,t):e}var i2={exports:{}},l2={},o2={exports:{}},c2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=w;function TT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MT=typeof Object.is=="function"?Object.is:TT,IT=Ga.useState,DT=Ga.useEffect,$T=Ga.useLayoutEffect,LT=Ga.useDebugValue;function RT(e,t){var r=t(),n=IT({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return $T(function(){a.value=r,a.getSnapshot=t,Ff(a)&&i({inst:a})},[e,r,t]),DT(function(){return Ff(a)&&i({inst:a}),e(function(){Ff(a)&&i({inst:a})})},[e]),LT(r),r}function Ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!MT(e,r)}catch{return!0}}function FT(e,t){return t()}var BT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FT:RT;c2.useSyncExternalStore=Ga.useSyncExternalStore!==void 0?Ga.useSyncExternalStore:BT;o2.exports=c2;var UT=o2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=w,zT=UT;function WT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KT=typeof Object.is=="function"?Object.is:WT,qT=zT.useSyncExternalStore,HT=gd.useRef,VT=gd.useEffect,YT=gd.useMemo,GT=gd.useDebugValue;l2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=HT(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=YT(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),a!==void 0&&l.hasValue){var x=l.value;if(a(x,h))return f=x}return f=h}if(x=f,KT(u,h))return x;var g=n(h);return a!==void 0&&a(x,g)?(u=h,x):(u=h,f=g)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=qT(e,i[0],i[1]);return VT(function(){l.hasValue=!0,l.value=o},[o]),GT(o),o};i2.exports=l2;var JT=i2.exports,Eg=w.createContext(null),XT=e=>e,Re=()=>{var e=w.useContext(Eg);return e?e.store.dispatch:XT},fc=()=>{},QT=()=>fc,ZT=(e,t)=>e===t;function G(e){var t=w.useContext(Eg);return JT.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QT,t?t.store.getState:fc,t?t.store.getState:fc,t?e:fc,ZT)}function e5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Zv=e=>Array.isArray(e)?e:[e];function n5(e){const t=Array.isArray(e[0])?e[0]:e;return r5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s5(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var a5=class{constructor(e){this.value=e}deref(){return this.value}},i5=typeof WeakRef<"u"?WeakRef:a5,l5=0,ey=1;function Uo(){return{s:l5,v:void 0,o:null,p:null}}function u2(e,t={}){let r=Uo();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var f;let o=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(x);y===void 0?(o=Uo(),g.set(x,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(x);y===void 0?(o=Uo(),g.set(x,o)):o=y}}const d=o;let u;if(o.s===ey)u=o.v;else if(u=e.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,u)&&(u=m,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new i5(u):u}return d.s=ey,d.v=u,u}return l.clearCache=()=>{r=Uo(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function o5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),e5(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=u2,argsMemoizeOptions:x=[],devModeChecks:g={}}=u,y=Zv(m),p=Zv(x),v=n5(a),b=f(function(){return i++,d.apply(null,arguments)},...y),S=h(function(){l++;const N=s5(v,arguments);return o=b.apply(null,N),o},...p);return Object.assign(S,{resultFunc:d,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var T=o5(u2),c5=Object.assign((e,t=T)=>{t5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>c5}),d2={},f2={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(m2);var h2={},Tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2,r=h2,n=Xu;function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const d=(h,x)=>{let g=h;for(let y=0;y<x.length&&g!=null;++y)g=g[x[y]];return g},u=(h,x)=>x==null||h==null?x:typeof h=="object"&&"key"in h?Object.hasOwn(x,h.key)?x[h.key]:d(x,h.path):typeof h=="function"?h(x):Array.isArray(h)?d(x,h):typeof x=="object"?x[h]:x,f=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(x=>u(x,h))})).slice().sort((h,x)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(h.criteria[g],x.criteria[g],o[g]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=a})(f2);var p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):a.push(u)}};return l(r,0),a}e.flatten=t})(p2);var Mg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Og,r=fd,n=_g,a=md;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(Mg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f2,r=p2,n=Mg;function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(d2);var u5=d2.sortBy;const xd=_n(u5);var g2=e=>e.legend.settings,d5=e=>e.legend.size,f5=e=>e.legend.payload,m5=T([f5,g2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?xd(n,r):n});function h5(){return G(m5)}var zo=1;function x2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>zo||Math.abs(l.left-t.left)>zo||Math.abs(l.top-t.top)>zo||Math.abs(l.width-t.width)>zo)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function tt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p5=typeof Symbol=="function"&&Symbol.observable||"@@observable",ty=p5,Bf=()=>Math.random().toString(36).substring(7).split("").join("."),g5={INIT:`@@redux/INIT${Bf()}`,REPLACE:`@@redux/REPLACE${Bf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bf()}`},Vc=g5;function Ig(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function v2(e,t,r){if(typeof e!="function")throw new Error(tt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tt(1));return r(v2)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((y,p)=>{l.set(p,y)}))}function u(){if(c)throw new Error(tt(3));return a}function f(y){if(typeof y!="function")throw new Error(tt(4));if(c)throw new Error(tt(5));let p=!0;d();const v=o++;return l.set(v,y),function(){if(p){if(c)throw new Error(tt(6));p=!1,d(),l.delete(v),i=null}}}function m(y){if(!Ig(y))throw new Error(tt(7));if(typeof y.type>"u")throw new Error(tt(8));if(typeof y.type!="string")throw new Error(tt(17));if(c)throw new Error(tt(9));try{c=!0,a=n(a,y)}finally{c=!1}return(i=l).forEach(v=>{v()}),y}function h(y){if(typeof y!="function")throw new Error(tt(10));n=y,m({type:Vc.REPLACE})}function x(){const y=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(tt(11));function v(){const S=p;S.next&&S.next(u())}return v(),{unsubscribe:y(v)}},[ty](){return this}}}return m({type:Vc.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[ty]:x}}function x5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vc.INIT})>"u")throw new Error(tt(12));if(typeof r(void 0,{type:Vc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function y2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{x5(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],m=r[f],h=l[f],x=m(h,o);if(typeof x>"u")throw o&&o.type,new Error(tt(14));d[f]=x,c=c||x!==h}return c=c||n.length!==Object.keys(l).length,c?d:l}}function Yc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function v5(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(tt(15))};const l={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Yc(...o)(a.dispatch),{...a,dispatch:i}}}function b2(e){return Ig(e)&&"type"in e&&typeof e.type=="string"}var w2=Symbol.for("immer-nothing"),ry=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ja=Object.getPrototypeOf;function Qs(e){return!!e&&!!e[tr]}function wn(e){var t;return e?j2(e)||Array.isArray(e)||!!e[ry]||!!((t=e.constructor)!=null&&t[ry])||yd(e)||bd(e):!1}var y5=Object.prototype.constructor.toString();function j2(e){if(!e||typeof e!="object")return!1;const t=Ja(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===y5}function Gc(e,t){vd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function vd(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:yd(e)?2:bd(e)?3:0}function ph(e,t){return vd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function N2(e,t,r){const n=vd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function b5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yd(e){return e instanceof Map}function bd(e){return e instanceof Set}function As(e){return e.copy_||e.base_}function gh(e,t){if(yd(e))return new Map(e);if(bd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=j2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Ja(e),n)}else{const n=Ja(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Dg(e,t=!1){return wd(e)||Qs(e)||!wn(e)||(vd(e)>1&&(e.set=e.add=e.clear=e.delete=w5),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Dg(n,!0))),e}function w5(){Mr(2)}function wd(e){return Object.isFrozen(e)}var j5={};function Zs(e){const t=j5[e];return t||Mr(0,e),t}var Tl;function S2(){return Tl}function N5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ny(e,t){t&&(Zs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xh(e){vh(e),e.drafts_.forEach(S5),e.drafts_=null}function vh(e){e===Tl&&(Tl=e.parent_)}function sy(e){return Tl=N5(Tl,e)}function S5(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ay(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tr].modified_&&(xh(t),Mr(4)),wn(e)&&(e=Jc(t,e),t.parent_||Xc(t,e)),t.patches_&&Zs("Patches").generateReplacementPatches_(r[tr].base_,e,t.patches_,t.inversePatches_)):e=Jc(t,r,[]),xh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w2?e:void 0}function Jc(e,t,r){if(wd(t))return t;const n=t[tr];if(!n)return Gc(t,(a,i)=>iy(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Xc(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),Gc(i,(o,c)=>iy(e,n,a,o,c,r,l)),Xc(e,a,!1),r&&e.patches_&&Zs("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function iy(e,t,r,n,a,i,l){if(Qs(a)){const o=i&&t&&t.type_!==3&&!ph(t.assigned_,n)?i.concat(n):void 0,c=Jc(e,a,o);if(N2(r,n,c),Qs(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(wn(a)&&!wd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jc(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Xc(e,a)}}function Xc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dg(t,r)}function _5(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:S2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=$g;r&&(a=[n],i=Ml);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var $g={get(e,t){if(t===tr)return e;const r=As(e);if(!ph(r,t))return k5(e,r,t);const n=r[t];return e.finalized_||!wn(n)?n:n===Uf(e.base_,t)?(zf(e),e.copy_[t]=bh(n,e)):n},has(e,t){return t in As(e)},ownKeys(e){return Reflect.ownKeys(As(e))},set(e,t,r){const n=_2(As(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Uf(As(e),t),i=a==null?void 0:a[tr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(b5(r,a)&&(r!==void 0||ph(e.base_,t)))return!0;zf(e),yh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Uf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zf(e),yh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=As(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return Ja(e.base_)},setPrototypeOf(){Mr(12)}},Ml={};Gc($g,(e,t)=>{Ml[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ml.deleteProperty=function(e,t){return Ml.set.call(this,e,t,void 0)};Ml.set=function(e,t,r){return $g.set.call(this,e[0],t,r,e[0])};function Uf(e,t){const r=e[tr];return(r?As(r):e)[t]}function k5(e,t,r){var a;const n=_2(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function _2(e,t){if(!(t in e))return;let r=Ja(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ja(r)}}function yh(e){e.modified_||(e.modified_=!0,e.parent_&&yh(e.parent_))}function zf(e){e.copy_||(e.copy_=gh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var P5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...d){return l.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Mr(6),n!==void 0&&typeof n!="function"&&Mr(7);let a;if(wn(t)){const i=sy(this),l=bh(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?xh(i):vh(i)}return ny(i,n),ay(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===w2&&(a=void 0),this.autoFreeze_&&Dg(a,!0),n){const i=[],l=[];Zs("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Mr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wn(e)||Mr(8),Qs(e)&&(e=rs(e));const t=sy(this),r=bh(e,void 0);return r[tr].isManual_=!0,vh(t),r}finishDraft(e,t){const r=e&&e[tr];(!r||!r.isManual_)&&Mr(9);const{scope_:n}=r;return ny(n,t),ay(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Zs("Patches").applyPatches_;return Qs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function bh(e,t){const r=yd(e)?Zs("MapSet").proxyMap_(e,t):bd(e)?Zs("MapSet").proxySet_(e,t):_5(e,t);return(t?t.scope_:S2()).drafts_.push(r),r}function rs(e){return Qs(e)||Mr(10,e),k2(e)}function k2(e){if(!wn(e)||wd(e))return e;const t=e[tr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=gh(e,!0);return Gc(r,(n,a)=>{N2(r,n,k2(a))}),t&&(t.finalized_=!1),r}var rr=new P5,P2=rr.produce;rr.produceWithPatches.bind(rr);rr.setAutoFreeze.bind(rr);rr.setUseStrictShallowCopy.bind(rr);rr.applyPatches.bind(rr);rr.createDraft.bind(rr);rr.finishDraft.bind(rr);function C2(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var C5=C2(),A5=C2,O5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yc:Yc.apply(null,arguments)};function br(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Gt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>b2(n)&&n.type===e,r}var A2=class zi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zi.prototype)}static get[Symbol.species](){return zi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zi(...t[0].concat(this)):new zi(...t.concat(this))}};function ly(e){return wn(e)?P2(e,()=>{}):e}function Wo(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function E5(e){return typeof e=="boolean"}var T5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new A2;return r&&(E5(r)?l.push(C5):l.push(A5(r.extraArgument))),l},M5="RTK_autoBatch",oy=e=>t=>{setTimeout(t,e)},I5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oy(10):e.type==="callback"?e.queueNotification:oy(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),m=n.subscribe(f);return o.add(u),()=>{m(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[M5]),i=!a,i&&(l||(l=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},D5=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new A2(e);return n&&a.push(I5(typeof n=="object"?n:void 0)),a};function $5(e){const t=T5(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Ig(r))c=y2(r);else throw new Error(Gt(1));let d;typeof n=="function"?d=n(t):d=t();let u=Yc;a&&(u=O5({trace:!1,...typeof a=="object"&&a}));const f=v5(...d),m=D5(f);let h=typeof o=="function"?o(m):m();const x=u(...h);return v2(c,l,x)}function O2(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Gt(28));if(o in t)throw new Error(Gt(29));return t[o]=l,a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function L5(e){return typeof e=="function"}function R5(e,t){let[r,n,a]=O2(t),i;if(L5(e))i=()=>ly(e());else{const o=ly(e);i=()=>o}function l(o=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,f)=>{if(f)if(Qs(u)){const h=f(u,c);return h===void 0?u:h}else{if(wn(u))return P2(u,m=>f(m,c));{const m=f(u,c);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},o)}return l.getInitialState=i,l}var F5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",B5=(e=21)=>{let t="",r=e;for(;r--;)t+=F5[Math.random()*64|0];return t},U5=Symbol.for("rtk-slice-createasyncthunk");function z5(e,t){return`${e}/${t}`}function W5({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[U5];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(Gt(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(q5()):a.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(Gt(12));if(N in d.sliceCaseReducersByType)throw new Error(Gt(13));return d.sliceCaseReducersByType[N]=j,u},addMatcher(S,j){return d.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return d.actionCreators[S]=j,u},exposeCaseReducer(S,j){return d.sliceCaseReducersByName[S]=j,u}};c.forEach(S=>{const j=o[S],N={reducerName:S,type:z5(i,S),createNotation:typeof a.reducers=="function"};V5(j)?G5(N,j,u,t):H5(N,j,u)});function f(){const[S={},j=[],N=void 0]=typeof a.extraReducers=="function"?O2(a.extraReducers):[a.extraReducers],_={...S,...d.sliceCaseReducersByType};return R5(a.initialState,k=>{for(let A in _)k.addCase(A,_[A]);for(let A of d.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of j)k.addMatcher(A.matcher,A.reducer);N&&k.addDefaultCase(N)})}const m=S=>S,h=new Map,x=new WeakMap;let g;function y(S,j){return g||(g=f()),g(S,j)}function p(){return g||(g=f()),g.getInitialState()}function v(S,j=!1){function N(k){let A=k[S];return typeof A>"u"&&j&&(A=Wo(x,N,p)),A}function _(k=m){const A=Wo(h,j,()=>new WeakMap);return Wo(A,k,()=>{const O={};for(const[P,C]of Object.entries(a.selectors??{}))O[P]=K5(C,k,()=>Wo(x,k,p),j);return O})}return{reducerPath:S,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const b={name:i,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:p,...v(l),injectInto(S,{reducerPath:j,...N}={}){const _=j??l;return S.inject({reducerPath:_,reducer:y},N),{...b,...v(_,!0)}}};return b}}function K5(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var Nr=W5();function q5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function H5({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Y5(n))throw new Error(Gt(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?br(e,l):br(e))}function V5(e){return e._reducerDefinitionType==="asyncThunk"}function Y5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function G5({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Gt(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),l&&n.addCase(f.fulfilled,l),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:l||Ko,pending:o||Ko,rejected:c||Ko,settled:d||Ko})}function Ko(){}var J5="task",E2="listener",T2="completed",Lg="cancelled",X5=`task-${Lg}`,Q5=`task-${T2}`,wh=`${E2}-${Lg}`,Z5=`${E2}-${T2}`,jd=class{constructor(e){Xd(this,"name","TaskAbortError");Xd(this,"message");this.code=e,this.message=`${J5} ${Lg} (reason: ${e})`}},Rg=(e,t)=>{if(typeof e!="function")throw new TypeError(Gt(32))},Qc=()=>{},M2=(e,t=Qc)=>(e.catch(t),e),I2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ws=e=>{if(e.aborted){const{reason:t}=e;throw new jd(t)}};function D2(e,t){let r=Qc;return new Promise((n,a)=>{const i=()=>a(new jd(e.reason));if(e.aborted){i();return}r=I2(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Qc})}var e6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof jd?"cancelled":"rejected",error:r}}finally{t==null||t()}},Zc=e=>t=>M2(D2(e,t).then(r=>(Ws(e),r))),$2=e=>{const t=Zc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:La}=Object,cy={},Nd="listenerMiddleware",t6=(e,t)=>{const r=n=>I2(e,()=>zs(n,e.reason));return(n,a)=>{Rg(n);const i=new AbortController;r(i);const l=e6(async()=>{Ws(e),Ws(i.signal);const o=await n({pause:Zc(i.signal),delay:$2(i.signal),signal:i.signal});return Ws(i.signal),o},()=>zs(i,Q5));return a!=null&&a.autoJoin&&t.push(l.catch(Qc)),{result:Zc(e)(l),cancel(){zs(i,X5)}}}},r6=(e,t)=>{const r=async(n,a)=>{Ws(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await D2(t,Promise.race(o));return Ws(t),c}finally{i()}};return(n,a)=>M2(r(n,a))},L2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=br(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Gt(21));return Rg(i),{predicate:a,type:t,effect:i}},R2=La(e=>{const{type:t,predicate:r,effect:n}=L2(e);return{id:B5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Gt(22))}}},{withTypes:()=>R2}),uy=(e,t)=>{const{type:r,effect:n,predicate:a}=L2(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},jh=e=>{e.pending.forEach(t=>{zs(t,wh)})},n6=e=>()=>{e.forEach(jh),e.clear()},dy=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},F2=La(br(`${Nd}/add`),{withTypes:()=>F2}),s6=br(`${Nd}/removeAll`),B2=La(br(`${Nd}/remove`),{withTypes:()=>B2}),a6=(...e)=>{console.error(`${Nd}/error`,...e)},so=(e={})=>{const t=new Map,{extra:r,onError:n=a6}=e;Rg(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&jh(u)}),i=u=>{const f=uy(t,u)??R2(u);return a(f)};La(i,{withTypes:()=>i});const l=u=>{const f=uy(t,u);return f&&(f.unsubscribe(),u.cancelActive&&jh(f)),!!f};La(l,{withTypes:()=>l});const o=async(u,f,m,h)=>{const x=new AbortController,g=r6(i,x.signal),y=[];try{u.pending.add(x),await Promise.resolve(u.effect(f,La({},m,{getOriginalState:h,condition:(p,v)=>g(p,v).then(Boolean),take:g,delay:$2(x.signal),pause:Zc(x.signal),extra:r,signal:x.signal,fork:t6(x.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((p,v,b)=>{p!==x&&(zs(p,wh),b.delete(p))})},cancel:()=>{zs(x,wh),u.pending.delete(x)},throwIfCancelled:()=>{Ws(x.signal)}})))}catch(p){p instanceof jd||dy(n,p,{raisedBy:"effect"})}finally{await Promise.all(y),zs(x,Z5),u.pending.delete(x)}},c=n6(t);return{middleware:u=>f=>m=>{if(!b2(m))return f(m);if(F2.match(m))return i(m.payload);if(s6.match(m)){c();return}if(B2.match(m))return l(m.payload);let h=u.getState();const x=()=>{if(h===cy)throw new Error(Gt(23));return h};let g;try{if(g=f(m),t.size>0){const y=u.getState(),p=Array.from(t.values());for(const v of p){let b=!1;try{b=v.predicate(m,y,h)}catch(S){b=!1,dy(n,S,{raisedBy:"predicate"})}b&&o(v,m,u,x)}}}finally{h=cy}return g},startListening:i,stopListening:l,clearListeners:c}};function Gt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U2=Nr({name:"chartLayout",initialState:i6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:l6,setLayout:o6,setChartSize:c6,setScale:u6}=U2.actions,d6=U2.reducer;function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(r),!0).forEach(function(n){f6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t,r){return(t=m6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=h6(e,"string");return typeof t=="symbol"?t:t+""}function h6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eu=Math.PI/180,p6=e=>e*180/Math.PI,st=(e,t,r,n)=>({x:e+Math.cos(-eu*n)*r,y:t+Math.sin(-eu*n)*r}),g6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},x6=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},v6=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=x6({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:p6(c),angleInRadian:c}},y6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},b6=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},w6=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=v6({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:d}=y6(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?my(my({},t),{},{radius:a,angle:b6(u,t)}):null};function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(r),!0).forEach(function(n){j6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pt(e,t,r){return ge(e)||ge(t)?r:Qr(t)?Xs(e,t,r):typeof t=="function"?t(e):r}var _6=(e,t,r,n,a)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,u=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Et(u-d)!==Et(f-u)){var h=[];if(Et(f-u)===Et(a[1]-a[0])){m=f;var x=u+a[1]-a[0];h[0]=Math.min(x,(x+d)/2),h[1]=Math.max(x,(x+d)/2)}else{m=d;var g=f+a[1]-a[0];h[0]=Math.min(u,(g+u)/2),h[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:l}=r[c]);break}}else{var p=Math.min(d,f),v=Math.max(d,f);if(e>(p+u)/2&&e<=(v+u)/2){({index:l}=r[c]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:l}=t[b]);break}}return l},k6=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&H(e[i]))return mr(mr({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&H(e[l]))return mr(mr({},e),{},{[l]:e[l]+(a||0)})}return e},ps=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",z2=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},W2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:m,axisType:h}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(g=h==="angleAxis"&&i&&i.length>=2?Et(i[0]-i[1])*2*g:g,f||m){var y=(f||m||[]).map((p,v)=>{var b=n?n.indexOf(p):p;return{coordinate:l(b)+g,value:p,offset:g,index:v}});return y.filter(p=>!Zt(p.coordinate))}return c&&d?d.map((p,v)=>({coordinate:l(p)+g,value:p,index:v,offset:g})):l.ticks&&!r&&u!=null?l.ticks(u).map((p,v)=>({coordinate:l(p)+g,value:p,offset:g,index:v})):l.domain().map((p,v)=>({coordinate:l(p)+g,value:n?n[p]:p,index:v,offset:g}))},py=1e-4,P6=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-py,i=Math.max(n[0],n[1])+py,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},C6=(e,t)=>{if(!t||t.length!==2||!H(t[0])||!H(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!H(e[0])||e[0]<r)&&(a[0]=r),(!H(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},A6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=Zt(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},O6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Zt(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},E6={sign:A6,expand:hT,none:Ya,silhouette:pT,wiggle:gT,positive:O6},T6=(e,t,r)=>{var n=E6[r],a=mT().keys(t).value((i,l)=>+pt(i,l,0)).order(fh).offset(n);return a(e)};function K2(e){return e==null?void 0:String(e)}function gy(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(a[t.dataKey])){var o=mg(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=pt(a,ge(l)?t.dataKey:l);return ge(c)?null:t.scale(c)}var xy=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=pt(i,t.dataKey,t.scale.domain()[l]);return ge(o)?null:t.scale(o)-a/2+n},M6=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},I6=e=>{var t=e.flat(2).filter(H);return[Math.min(...t),Math.max(...t)]},D6=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$6=(e,t,r)=>{if(e!=null)return D6(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=I6(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},vy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Il=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=xd(t,u=>u.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],d=a[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function by(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return mr(mr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Sd(e,t){if(e)return String(e);if(typeof t=="string")return t}function L6(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?w6({x:e,y:t},n):null}var R6=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return mr(mr(mr({},n),st(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=n;return mr(mr(mr({},n),st(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},F6=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,gs=e=>e.layout.width,xs=e=>e.layout.height,B6=e=>e.layout.scale,q2=e=>e.layout.margin,Fg=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bg=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),U6="data-recharts-item-index",z6="data-recharts-item-data-key",_d=60;function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){W6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6(e,t,r){return(t=K6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H6=e=>e.brush.height,lt=T([gs,xs,q2,H6,Fg,Bg,g2,d5],(e,t,r,n,a,i,l,o)=>{var c=i.reduce((x,g)=>{var{orientation:y}=g;if(!g.mirror&&!g.hide){var p=typeof g.width=="number"?g.width:_d;return In(In({},x),{},{[y]:x[y]+p})}return x},{left:r.left||0,right:r.right||0}),d=a.reduce((x,g)=>{var{orientation:y}=g;return!g.mirror&&!g.hide?In(In({},x),{},{[y]:Xs(x,"".concat(y))+g.height}):x},{top:r.top||0,bottom:r.bottom||0}),u=In(In({},d),c),f=u.bottom;u.bottom+=n,u=k6(u,l,o);var m=e-u.left-u.right,h=t-u.top-u.bottom;return In(In({brushBottom:f},u),{},{width:Math.max(m,0),height:Math.max(h,0)})}),V6=T(lt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),H2=T(gs,xs,(e,t)=>({x:0,y:0,width:e,height:t})),Y6=w.createContext(null),St=()=>w.useContext(Y6)!=null,kd=e=>e.brush,Pd=T([kd,lt,q2],(e,t,r)=>({height:e.height,x:H(e.x)?e.x:t.left,y:H(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:H(e.width)?e.width:t.width})),Ug=()=>{var e,t=St(),r=G(V6),n=G(Pd),a=(e=G(kd))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},G6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ao=()=>{var e;return(e=G(lt))!==null&&e!==void 0?e:G6},zg=()=>G(gs),Wg=()=>G(xs),J6={top:0,right:0,bottom:0,left:0},X6=()=>{var e;return(e=G(t=>t.layout.margin))!==null&&e!==void 0?e:J6},me=e=>e.layout.layoutType,Cd=()=>G(me),Q6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},V2=Nr({name:"legend",initialState:Q6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=rs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:jy,setLegendSettings:Z6,addLegendPayload:eM,removeLegendPayload:tM}=V2.actions,rM=V2.reducer,nM=["contextPayload"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(null,arguments)}function Ny(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ny(Object(r),!0).forEach(function(n){Kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ny(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kg(e,t,r){return(t=sM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sM(e){var t=aM(e,"string");return typeof t=="symbol"?t:t+""}function aM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iM(e,t){if(e==null)return{};var r,n,a=lM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oM(e){return e.value}function cM(e){var{contextPayload:t}=e,r=iM(e,nM),n=a2(t,e.payloadUniqBy,oM),a=Xa(Xa({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(Ng,a)}function uM(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((n||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xa(Xa({},d),u)}function dM(e){var t=Re();return w.useEffect(()=>{t(Z6(e))},[t,e]),null}function fM(e){var t=Re();return w.useEffect(()=>(t(jy(e)),()=>{t(jy({width:0,height:0}))}),[t,e]),null}function mM(e){var t=h5(),r=L3(),n=X6(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[c,d]=x2([t]),u=zg(),f=Wg(),m=u-(n.left||0)-(n.right||0),h=Dl.getWidthOrHeight(e.layout,i,a,m),x=o?l:Xa(Xa({position:"absolute",width:(h==null?void 0:h.width)||a||"auto",height:(h==null?void 0:h.height)||i||"auto"},uM(l,e,n,u,f,c)),l),g=o??r;if(g==null)return null;var y=w.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},w.createElement(dM,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(fM,{width:c.width,height:c.height}),w.createElement(cM,Nh({},e,h,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return Xp.createPortal(y,g)}class Dl extends w.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&H(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return w.createElement(mM,this.props)}}Kg(Dl,"displayName","Legend");Kg(Dl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){hM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hM(e,t,r){return(t=pM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pM(e){var t=gM(e,"string");return typeof t=="symbol"?t:t+""}function gM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xM(e){return Array.isArray(e)&&Qr(e[0])&&Qr(e[1])?e.join(" ~ "):e}var vM=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(o?xd(i,o):i).map((_,k)=>{if(_.type==="none")return null;var A=_.formatter||l||xM,{value:O,name:P}=_,C=O,E=P;if(A){var R=A(O,P,_,k,i);if(Array.isArray(R))[C,E]=R;else if(R!=null)C=R;else return null}var z=Wf({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:z},Qr(E)?w.createElement("span",{className:"recharts-tooltip-item-name"},E):null,Qr(E)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},C),w.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},x=Wf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Wf({margin:0},a),y=!ge(u),p=y?u:"",v=ue("recharts-default-tooltip",c),b=ue("recharts-tooltip-label",d);y&&f&&i!==void 0&&i!==null&&(p=f(u,i));var S=m?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Sh({className:v,style:x},S),w.createElement("p",{className:b,style:g},w.isValidElement(p)?p:"".concat(p)),h())},Ai="recharts-tooltip-wrapper",yM={visibility:"hidden"};function bM(e){var{coordinate:t,translateX:r,translateY:n}=e;return ue(Ai,{["".concat(Ai,"-right")]:H(r)&&t&&H(t.x)&&r>=t.x,["".concat(Ai,"-left")]:H(r)&&t&&H(t.x)&&r<t.x,["".concat(Ai,"-bottom")]:H(n)&&t&&H(t.y)&&n>=t.y,["".concat(Ai,"-top")]:H(n)&&t&&H(t.y)&&n<t.y})}function _y(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&H(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return l[n]?u:f;var m=c[n];if(m==null)return 0;if(l[n]){var h=u,x=m;return h<x?Math.max(f,m):Math.max(u,m)}if(d==null)return 0;var g=f+o,y=m+d;return g>y?Math.max(u,m):Math.max(f,m)}function wM(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jM(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&r?(u=_y({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=_y({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=wM({translateX:u,translateY:f,useTranslate3d:o})):d=yM,{cssProperties:d,cssClasses:bM({translateX:u,translateY:f,coordinate:r})}}function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _h(e,t,r){return(t=NM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NM(e){var t=SM(e,"string");return typeof t=="symbol"?t:t+""}function SM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _M extends w.PureComponent{constructor(){super(...arguments),_h(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_h(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:x,lastBoundingBox:g,innerRef:y,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:b}=jM({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:h}),S=p?{}:qo(qo({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=qo(qo({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:y},i)}}var kM=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ui={isSsr:kM()},Y2=()=>G(e=>e.rootProps.accessibilityLayer);function nr(e){return Number.isFinite(e)}function tu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function Py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(r),!0).forEach(function(n){PM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=AM(e,"string");return typeof t=="symbol"?t:t+""}function AM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay={curveBasisClosed:rT,curveBasisOpen:nT,curveBasis:tT,curveBumpX:U3,curveBumpY:z3,curveLinearClosed:sT,curveLinear:ud,curveMonotoneX:aT,curveMonotoneY:iT,curveNatural:lT,curveStep:oT,curveStepAfter:uT,curveStepBefore:cT},Ho=e=>nr(e.x)&&nr(e.y),Oi=e=>e.x,Ei=e=>e.y,OM=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(no(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ay["".concat(r).concat(t==="vertical"?"Y":"X")]:Ay[r]||ud},EM=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=OM(t,a),o=i?r.filter(Ho):r,c;if(Array.isArray(n)){var d=i?n.filter(f=>Ho(f)):n,u=o.map((f,m)=>Cy(Cy({},f),{},{base:d[m]}));return a==="vertical"?c=Bo().y(Ei).x1(Oi).x0(f=>f.base.x):c=Bo().x(Oi).y1(Ei).y0(f=>f.base.y),c.defined(Ho).curve(l),c(u)}return a==="vertical"&&H(n)?c=Bo().y(Ei).x1(Oi).x0(n):H(n)?c=Bo().x(Oi).y1(Ei).y0(n):c=TN().x(Oi).y(Ei),c.defined(Ho).curve(l),c(o)},G2=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?EM(e):n;return w.createElement("path",kh({},ce(e,!1),pg(e),{className:ue("recharts-curve",t),d:i===null?void 0:i,ref:a}))},TM=["x","y","top","left","width","height","className"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function Oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(r),!0).forEach(function(n){IM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IM(e,t,r){return(t=DM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(e){var t=$M(e,"string");return typeof t=="symbol"?t:t+""}function $M(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LM(e,t){if(e==null)return{};var r,n,a=RM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FM=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),BM=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=LM(e,TM),d=MM({x:t,y:r,top:n,left:a,width:i,height:l},c);return!H(t)||!H(r)||!H(i)||!H(l)||!H(n)||!H(a)?null:w.createElement("path",Ph({},ce(d,!0),{className:ue("recharts-cross",o),d:FM(t,r,i,l,n,a)}))};function UM(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(n){WM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WM(e,t,r){return(t=KM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(e){var t=qM(e,"string");return typeof t=="symbol"?t:t+""}function qM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t){var r=zM({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}var J2={},X2={},Q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(Q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q2,r=Ag,n=hd,a=pd,i=md;function l(d,u,f){return o(d,u,void 0,void 0,void 0,void 0,f)}function o(d,u,f,m,h,x,g){const y=g(d,u,f,m,h,x);if(y!==void 0)return y;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,x,g)}return c(d,u,x,g)}function c(d,u,f,m){if(Object.is(d,u))return!0;let h=n.getTag(d),x=n.getTag(u);if(h===a.argumentsTag&&(h=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),h!==x)return!1;switch(h){case a.stringTag:return d.toString()===u.toString();case a.numberTag:{const p=d.valueOf(),v=u.valueOf();return i.eq(p,v)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),u.valueOf());case a.regexpTag:return d.source===u.source&&d.flags===u.flags;case a.functionTag:return d===u}f=f??new Map;const g=f.get(d),y=f.get(u);if(g!=null&&y!=null)return g===u;f.set(d,u),f.set(u,d);try{switch(h){case a.mapTag:{if(d.size!==u.size)return!1;for(const[p,v]of d.entries())if(!u.has(p)||!o(v,u.get(p),p,d,u,f,m))return!1;return!0}case a.setTag:{if(d.size!==u.size)return!1;const p=Array.from(d.values()),v=Array.from(u.values());for(let b=0;b<p.length;b++){const S=p[b],j=v.findIndex(N=>o(S,N,void 0,d,u,f,m));if(j===-1)return!1;v.splice(j,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let p=0;p<d.length;p++)if(!o(d[p],u[p],p,d,u,f,m))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,m);case a.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,m);case a.errorTag:return d.name===u.name&&d.message===u.message;case a.objectTag:{if(!(c(d.constructor,u.constructor,f,m)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const v=[...Object.keys(d),...r.getSymbols(d)],b=[...Object.keys(u),...r.getSymbols(u)];if(v.length!==b.length)return!1;for(let S=0;S<v.length;S++){const j=v[S],N=d[j];if(!Object.hasOwn(u,j))return!1;const _=u[j];if(!o(N,_,j,d,u,f,m))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=l})(X2);var Z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2,r=Z2;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(J2);var HM=J2.isEqual;const VM=_n(HM);function YM(e){var t={},r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}var ru=1e-4,eS=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Ty=(e,t)=>r=>{var n=eS(e,t);return tS(n,r)},GM=(e,t)=>r=>{var n=eS(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return tS(a,r)},My=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([t,n,r,a]=l);var d=Ty(t,r),u=Ty(n,a),f=GM(t,r),m=x=>x>1?1:x<0?0:x,h=x=>{for(var g=x>1?1:x,y=g,p=0;p<8;++p){var v=d(y)-g,b=f(y);if(Math.abs(v-g)<ru||b<ru)return u(y);y=m(y-v/b)}return u(y)};return h.isStepper=!1,h},JM=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,c)=>{var d=-(l-o)*r,u=c*n,f=c+(d-u)*a/1e3,m=c*a/1e3+l;return Math.abs(m-o)<ru&&Math.abs(f)<ru?[o,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},XM=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return My(e);case"spring":return JM();default:if(e.split("(")[0]==="cubic-bezier")return My(e)}return typeof e=="function"?e:null};function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QM(e,t,r){return(t=ZM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=eI(e,"string");return typeof t=="symbol"?t:t+""}function eI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rI=(e,t,r)=>e.map(n=>"".concat(tI(n)," ").concat(t,"ms ").concat(r)).join(","),nI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),$l=(e,t)=>Object.keys(t).reduce((r,n)=>Dy(Dy({},r),{},{[n]:e(n,t[n])}),{});function $y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(r),!0).forEach(function(n){sI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sI(e,t,r){return(t=aI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aI(e){var t=iI(e,"string");return typeof t=="symbol"?t:t+""}function iI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nu=(e,t,r)=>e+(t-e)*r,Ch=e=>{var{from:t,to:r}=e;return t!==r},rS=(e,t,r)=>{var n=$l((a,i)=>{if(Ch(i)){var[l,o]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:l,velocity:o})}return i},t);return r<1?$l((a,i)=>Ch(i)?nt(nt({},i),{},{velocity:nu(i.velocity,n[a].velocity,r),from:nu(i.from,n[a].from,r)}):i,t):rS(e,n,r-1)};function lI(e,t,r,n,a,i){var l,o=n.reduce((m,h)=>nt(nt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>$l((m,h)=>h.from,o),d=()=>!Object.values(o).filter(Ch).length,u=null,f=m=>{l||(l=m);var h=m-l,x=h/r.dt;o=rS(r,o,x),a(nt(nt(nt({},e),t),c())),l=m,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function oI(e,t,r,n,a,i,l){var o=null,c=a.reduce((f,m)=>nt(nt({},f),{},{[m]:[e[m],t[m]]}),{}),d,u=f=>{d||(d=f);var m=(f-d)/n,h=$l((g,y)=>nu(...y,r(m)),c);if(i(nt(nt(nt({},e),t),h)),m<1)o=l.setTimeout(u);else{var x=$l((g,y)=>nu(...y,r(1)),c);i(nt(nt(nt({},e),t),x))}};return()=>(o=l.setTimeout(u),()=>{o()})}const cI=(e,t,r,n,a,i)=>{var l=nI(e,t);return r.isStepper===!0?lI(e,t,r,l,a,i):oI(e,t,r,n,l,a,i)};class uI{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var dI=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function fI(e,t){if(e==null)return{};var r,n,a=mI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ly(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $s(e,t,r){return(t=hI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hI(e){var t=pI(e,"string");return typeof t=="symbol"?t:t+""}function pI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gI(){return YM(new uI)}class qg extends w.PureComponent{constructor(t,r){super(t,r),$s(this,"mounted",!1),$s(this,"manager",null),$s(this,"stopJSAnimation",null),$s(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:l,children:o,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:l});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:l,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:l}:l};this.state&&c&&(a&&c[a]!==l||!a&&c!==l)&&this.setState(d);return}if(!(VM(t.to,l)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?o:t.to;if(this.state&&c){var m={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(m)}this.runAnimation(Dn(Dn({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c}=t,d=cI(r,n,XM(i),a,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,l,u,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:l,onAnimationStart:o,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof d=="function"||l==="spring"){this.runJSAnimation(t);return}var u=a?{[a]:i}:i,f=rI(Object.keys(u),n,l);this.manager.start([o,r,Dn(Dn({},u),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:l,isActive:o,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:m,onAnimationReStart:h,animationManager:x}=t,g=fI(t,dI),y=w.Children.count(r),p=this.state.style;if(typeof r=="function")return r(p);if(!o||y===0||a<=0)return r;var v=b=>{var{style:S={},className:j}=b.props,N=w.cloneElement(b,Dn(Dn({},g),{},{style:Dn(Dn({},S),p),className:j}));return N};return y===1?v(w.Children.only(r)):w.createElement("div",null,w.Children.map(r,b=>v(b)))}}$s(qg,"displayName","Animate");$s(qg,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var xI=w.createContext(null);function ea(e){var t,r,n=w.useContext(xI);return w.createElement(qg,Ah({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:gI()}))}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}var Ry=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,m=4;f<m;f++)u[f]=a[f]>i?i:a[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*u[1])),d+="L ".concat(e+r,",").concat(t+n-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),d+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);d="M ".concat(e,",").concat(t+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*h,`
            L `).concat(e+r,",").concat(t+n-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*h," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},vI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nS=e=>{var t=Cn(e,vI),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var p=r.current.getTotalLength();p&&a(p)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:x,isUpdateAnimationActive:g}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var y=ue("recharts-rectangle",u);return g?w.createElement(ea,{canBegin:n>0,from:{width:o,height:c,x:i,y:l},to:{width:o,height:c,x:i,y:l},duration:m,animationEasing:f,isActive:g},p=>{var{width:v,height:b,x:S,y:j}=p;return w.createElement(ea,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,isActive:x,easing:f},w.createElement("path",su({},ce(t,!0),{className:y,d:Ry(S,j,v,b,d),ref:r})))}):w.createElement("path",su({},ce(t,!0),{className:y,d:Ry(i,l,o,c,d)}))};function sS(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=st(t,r,n,a),o=st(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}var yI=(e,t)=>{var r=Et(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Vo=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+n,u=Math.asin(o/d)/eu,f=c?a:a+i*u,m=st(t,r,d,f),h=st(t,r,n,f),x=c?a-i*u:a,g=st(t,r,d*Math.cos(u*eu),x);return{center:m,circleTangency:h,lineTangency:g,theta:u}},aS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=yI(i,l),c=i+o,d=st(t,r,a,i),u=st(t,r,a,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var m=st(t,r,n,i),h=st(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},bI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=Et(d-c),{circleTangency:f,lineTangency:m,theta:h}=Vo({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:x,lineTangency:g,theta:y}=Vo({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),p=o?Math.abs(c-d):Math.abs(c-d)-h-y;if(p<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):aS({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var v="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(p>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:S,theta:j}=Vo({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:N,lineTangency:_,theta:k}=Vo({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),A=o?Math.abs(c-d):Math.abs(c-d)-j-k;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},wI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iS=e=>{var t=Cn(e,wI),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<a||d===u)return null;var m=ue("recharts-sector",f),h=i-a,x=Fr(l,h,0,!0),g;return x>0&&Math.abs(d-u)<360?g=bI({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,h/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):g=aS({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),w.createElement("path",Oh({},ce(t,!0),{className:m,d:g}))};function jI(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,m=st(o,c,d,f),h=st(o,c,u,f);n=m.x,a=m.y,i=h.x,l=h.y}else return sS(t);return[{x:n,y:a},{x:i,y:l}]}var lS={},oS={},cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg,r=oS;function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=a,a+=l;return c}e.range=n})(lS);var NI=lS.range;const uS=_n(NI);function ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hg(e){let t,r,n;e.length!==2?(t=ns,r=(o,c)=>ns(e(o),c),n=(o,c)=>e(o)-c):(t=e===ns||e===SI?e:_I,r=e,n=e);function a(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=a(o,c,d,u-1);return f>d&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:l,right:i}}function _I(){return 0}function dS(e){return e===null?NaN:+e}function*kI(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PI=Hg(ns),io=PI.right;Hg(dS).center;class Fy extends Map{constructor(t,r=OI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(By(this,t))}has(t){return super.has(By(this,t))}set(t,r){return super.set(CI(this,t),r)}delete(t){return super.delete(AI(this,t))}}function By({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function CI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AI({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function OI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EI(e=ns){if(e===ns)return fS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TI=Math.sqrt(50),MI=Math.sqrt(10),II=Math.sqrt(2);function au(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=TI?10:i>=MI?5:i>=II?2:1;let o,c,d;return a<0?(d=Math.pow(10,-a)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?au(e,t,r*2):[o,c,d]}function Eh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?au(t,e,r):au(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(a+d)/-l;else for(let d=0;d<o;++d)c[d]=(a+d)*l;return c}function Th(e,t,r){return t=+t,e=+e,r=+r,au(e,t,r)[2]}function Mh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Th(t,e,r):Th(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Uy(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zy(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fS:EI(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(n,Math.floor(t+(c-d)*f/c+m));mS(e,t,h,x,a)}const i=e[t];let l=r,o=n;for(Ti(e,r,t),a(e[n],i)>0&&Ti(e,r,n);l<o;){for(Ti(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Ti(e,r,o):(++o,Ti(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ti(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DI(e,t,r){if(e=Float64Array.from(kI(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zy(e);if(t>=1)return Uy(e);var n,a=(n-1)*t,i=Math.floor(a),l=Uy(mS(e,i).subarray(0,i+1)),o=zy(e.subarray(i+1));return l+(o-l)*(a-i)}}function $I(e,t,r=dS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function LI(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Sr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function An(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ih=Symbol("implicit");function Vg(){var e=new Fy,t=[],r=[],n=Ih;function a(i){let l=e.get(i);if(l===void 0){if(n!==Ih)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Fy;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Vg(t,r).unknown(n)},Sr.apply(a,arguments),a}function Yg(){var e=Vg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<n,x=h?a:n,g=h?n:a;i=(g-x)/Math.max(1,m-c+d*2),o&&(i=Math.floor(i)),x+=(g-x-i*(m-c))*u,l=i*(1-c),o&&(x=Math.round(x),l=Math.round(l));var y=LI(m).map(function(p){return x+i*p});return r(h?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(m){return arguments.length?(o=!!m,f()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return Yg(t(),[n,a]).round(o).paddingInner(c).paddingOuter(d).align(u)},Sr.apply(f(),arguments)}function hS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hS(t())},e}function RI(){return hS(Yg.apply(null,arguments).paddingInner(1))}function Gg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lo(){}var Ll=.7,iu=1/Ll,Ra="\\s*([+-]?\\d+)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FI=/^#([0-9a-f]{3,8})$/,BI=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),UI=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),zI=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${Rl}\\)$`),WI=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${Rl}\\)$`),KI=new RegExp(`^hsl\\(${Rl},${Gr},${Gr}\\)$`),qI=new RegExp(`^hsla\\(${Rl},${Gr},${Gr},${Rl}\\)$`),Wy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gg(lo,Fl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ky,formatHex:Ky,formatHex8:HI,formatHsl:VI,formatRgb:qy,toString:qy});function Ky(){return this.rgb().formatHex()}function HI(){return this.rgb().formatHex8()}function VI(){return gS(this).formatHsl()}function qy(){return this.rgb().formatRgb()}function Fl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=FI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Hy(t):r===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BI.exec(e))?new Tt(t[1],t[2],t[3],1):(t=UI.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zI.exec(e))?Yo(t[1],t[2],t[3],t[4]):(t=WI.exec(e))?Yo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KI.exec(e))?Gy(t[1],t[2]/100,t[3]/100,1):(t=qI.exec(e))?Gy(t[1],t[2]/100,t[3]/100,t[4]):Wy.hasOwnProperty(e)?Hy(Wy[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function Hy(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function Yo(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tt(e,t,r,n)}function YI(e){return e instanceof lo||(e=Fl(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function Dh(e,t,r,n){return arguments.length===1?YI(e):new Tt(e,t,r,n??1)}function Tt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gg(Tt,Dh,pS(lo,{brighter(e){return e=e==null?iu:Math.pow(iu,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt(Ks(this.r),Ks(this.g),Ks(this.b),lu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vy,formatHex:Vy,formatHex8:GI,formatRgb:Yy,toString:Yy}));function Vy(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}`}function GI(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}${Ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yy(){const e=lu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ks(this.r)}, ${Ks(this.g)}, ${Ks(this.b)}${e===1?")":`, ${e})`}`}function lu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ks(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ls(e){return e=Ks(e),(e<16?"0":"")+e.toString(16)}function Gy(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ir(e,t,r,n)}function gS(e){if(e instanceof Ir)return new Ir(e.h,e.s,e.l,e.opacity);if(e instanceof lo||(e=Fl(e)),!e)return new Ir;if(e instanceof Ir)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new Ir(l,o,c,e.opacity)}function JI(e,t,r,n){return arguments.length===1?gS(e):new Ir(e,t,r,n??1)}function Ir(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gg(Ir,JI,pS(lo,{brighter(e){return e=e==null?iu:Math.pow(iu,e),new Ir(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Ir(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tt(Kf(e>=240?e-240:e+120,a,n),Kf(e,a,n),Kf(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ir(Jy(this.h),Go(this.s),Go(this.l),lu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lu(this.opacity);return`${e===1?"hsl(":"hsla("}${Jy(this.h)}, ${Go(this.s)*100}%, ${Go(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jy(e){return e=(e||0)%360,e<0?e+360:e}function Go(e){return Math.max(0,Math.min(1,e||0))}function Kf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Jg=e=>()=>e;function XI(e,t){return function(r){return e+r*t}}function QI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ZI(e){return(e=+e)==1?xS:function(t,r){return r-t?QI(t,r,e):Jg(isNaN(t)?r:t)}}function xS(e,t){var r=t-e;return r?XI(e,r):Jg(isNaN(e)?t:e)}const Xy=function e(t){var r=ZI(t);function n(a,i){var l=r((a=Dh(a)).r,(i=Dh(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),d=xS(a.opacity,i.opacity);return function(u){return a.r=l(u),a.g=o(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function eD(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function tD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rD(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=di(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function nD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ou(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sD(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=di(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var $h=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qf=new RegExp($h.source,"g");function aD(e){return function(){return e}}function iD(e){return function(t){return e(t)+""}}function lD(e,t){var r=$h.lastIndex=qf.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=$h.exec(e))&&(a=qf.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:ou(n,a)})),r=qf.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?iD(c[0].x):aD(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function di(e,t){var r=typeof t,n;return t==null||r==="boolean"?Jg(t):(r==="number"?ou:r==="string"?(n=Fl(t))?(t=n,Xy):lD:t instanceof Fl?Xy:t instanceof Date?nD:tD(t)?eD:Array.isArray(t)?rD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sD:ou)(e,t)}function Xg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oD(e,t){t===void 0&&(t=e,e=di);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function cD(e){return function(){return e}}function cu(e){return+e}var Qy=[0,1];function yt(e){return e}function Lh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cD(isNaN(t)?NaN:.5)}function uD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dD(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Lh(a,n),i=r(l,i)):(n=Lh(n,a),i=r(i,l)),function(o){return i(n(o))}}function fD(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Lh(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=io(e,o,1,n)-1;return i[c](a[c](o))}}function oo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ad(){var e=Qy,t=Qy,r=di,n,a,i,l=yt,o,c,d;function u(){var m=Math.min(e.length,t.length);return l!==yt&&(l=uD(e[0],e[m-1])),o=m>2?fD:dD,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=o(e.map(n),t,r)))(n(l(m)))}return f.invert=function(m){return l(a((d||(d=o(t,e.map(n),ou)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,cu),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=Xg,u()},f.clamp=function(m){return arguments.length?(l=m?!0:yt,u()):l!==yt},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,u()}}function Qg(){return Ad()(yt,yt)}function mD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qa(e){return e=uu(Math.abs(e)),e?e[1]:NaN}function hD(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function pD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(e){if(!(t=gD.exec(e)))throw new Error("invalid format: "+e);var t;return new Zg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bl.prototype=Zg.prototype;function Zg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xD(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vS;function vD(e,t){var r=uu(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(vS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+uu(e,Math.max(0,t+i-1))[0]}function Zy(e,t){var r=uu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zy(e*100,t),r:Zy,s:vD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tb(e){return e}var rb=Array.prototype.map,nb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yD(e){var t=e.grouping===void 0||e.thousands===void 0?tb:hD(rb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?tb:pD(rb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Bl(f);var m=f.fill,h=f.align,x=f.sign,g=f.symbol,y=f.zero,p=f.width,v=f.comma,b=f.precision,S=f.trim,j=f.type;j==="n"?(v=!0,j="g"):eb[j]||(b===void 0&&(b=12),S=!0,j="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=g==="$"?n:/[%p]/.test(j)?l:"",k=eb[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(P){var C=N,E=_,R,z,M;if(j==="c")E=k(P)+E,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),b),S&&(P=xD(P)),B&&+P==0&&x!=="+"&&(B=!1),C=(B?x==="("?x:o:x==="-"||x==="("?"":x)+C,E=(j==="s"?nb[8+vS/3]:"")+E+(B&&x==="("?")":""),A){for(R=-1,z=P.length;++R<z;)if(M=P.charCodeAt(R),48>M||M>57){E=(M===46?a+P.slice(R+1):P.slice(R))+E,P=P.slice(0,R);break}}}v&&!y&&(P=t(P,1/0));var I=C.length+P.length+E.length,U=I<p?new Array(p-I+1).join(m):"";switch(v&&y&&(P=t(U+P,U.length?p-E.length:1/0),U=""),h){case"<":P=C+P+E+U;break;case"=":P=C+U+P+E;break;case"^":P=U.slice(0,I=U.length>>1)+C+P+E+U.slice(I);break;default:P=U+C+P+E;break}return i(P)}return O.toString=function(){return f+""},O}function u(f,m){var h=d((f=Bl(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Qa(m)/3)))*3,g=Math.pow(10,-x),y=nb[8+x/3];return function(p){return h(g*p)+y}}return{format:d,formatPrefix:u}}var Jo,e0,yS;bD({thousands:",",grouping:[3],currency:["$",""]});function bD(e){return Jo=yD(e),e0=Jo.format,yS=Jo.formatPrefix,Jo}function wD(e){return Math.max(0,-Qa(Math.abs(e)))}function jD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qa(t)/3)))*3-Qa(Math.abs(e)))}function ND(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qa(t)-Qa(e))+1}function bS(e,t,r,n){var a=Mh(e,t,r),i;switch(n=Bl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jD(a,l))&&(n.precision=i),yS(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ND(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=wD(a))&&(n.precision=i-(n.type==="%")*2);break}}return e0(n)}function vs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Eh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=a,a=i,i=d);u-- >0;){if(d=Th(l,o,r),d===c)return n[a]=l,n[i]=o,t(n);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function wS(){var e=Qg();return e.copy=function(){return oo(e,wS())},Sr.apply(e,arguments),vs(e)}function jS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jS(e).unknown(t)},e=arguments.length?Array.from(e,cu):[0,1],vs(r)}function NS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function sb(e){return Math.log(e)}function ab(e){return Math.exp(e)}function SD(e){return-Math.log(-e)}function _D(e){return-Math.exp(-e)}function kD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PD(e){return e===10?kD:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CD(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ib(e){return(t,r)=>-e(-t,r)}function t0(e){const t=e(sb,ab),r=t.domain;let n=10,a,i;function l(){return a=CD(n),i=PD(n),r()[0]<0?(a=ib(a),i=ib(i),e(SD,_D)):e(sb,ab),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,g;const y=o==null?10:+o;let p=[];if(!(n%1)&&h-m<y){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<n;++x)if(g=m<0?x/i(-m):x*i(m),!(g<d)){if(g>u)break;p.push(g)}}else for(;m<=h;++m)for(x=n-1;x>=1;--x)if(g=m>0?x/i(-m):x*i(m),!(g<d)){if(g>u)break;p.push(g)}p.length*2<y&&(p=Eh(d,u,y))}else p=Eh(m,h,Math.min(h-m,y)).map(i);return f?p.reverse():p},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bl(c)).precision==null&&(c.trim=!0),c=e0(c)),o===1/0)return c;const d=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(NS(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function SS(){const e=t0(Ad()).domain([1,10]);return e.copy=()=>oo(e,SS()).base(e.base()),Sr.apply(e,arguments),e}function lb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ob(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function r0(e){var t=1,r=e(lb(t),ob(t));return r.constant=function(n){return arguments.length?e(lb(t=+n),ob(t)):t},vs(r)}function _S(){var e=r0(Ad());return e.copy=function(){return oo(e,_S()).constant(e.constant())},Sr.apply(e,arguments)}function cb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OD(e){return e<0?-e*e:e*e}function n0(e){var t=e(yt,yt),r=1;function n(){return r===1?e(yt,yt):r===.5?e(AD,OD):e(cb(r),cb(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},vs(t)}function s0(){var e=n0(Ad());return e.copy=function(){return oo(e,s0()).exponent(e.exponent())},Sr.apply(e,arguments),e}function ED(){return s0.apply(null,arguments).exponent(.5)}function ub(e){return Math.sign(e)*e*e}function TD(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kS(){var e=Qg(),t=[0,1],r=!1,n;function a(i){var l=TD(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(ub(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,cu)).map(ub)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sr.apply(a,arguments),vs(a)}function PS(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=$I(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[io(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ns),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return PS().domain(e).range(t).unknown(n)},Sr.apply(i,arguments)}function CS(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[io(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return CS().domain([e,t]).range(a).unknown(i)},Sr.apply(vs(l),arguments)}function AS(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[io(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AS().domain(e).range(t).unknown(r)},Sr.apply(a,arguments)}const Hf=new Date,Vf=new Date;function He(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},a.filter=i=>He(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Hf.setTime(+i),Vf.setTime(+l),e(Hf),e(Vf),Math.floor(r(Hf,Vf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const du=He(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);du.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?He(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):du);du.range;const fn=1e3,pr=fn*60,mn=pr*60,jn=mn*24,a0=jn*7,db=jn*30,Yf=jn*365,Rs=He(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCSeconds());Rs.range;const i0=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fn)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getMinutes());i0.range;const l0=He(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCMinutes());l0.range;const o0=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fn-e.getMinutes()*pr)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getHours());o0.range;const c0=He(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCHours());c0.range;const co=He(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pr)/jn,e=>e.getDate()-1);co.range;const Od=He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>e.getUTCDate()-1);Od.range;const OS=He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>Math.floor(e/jn));OS.range;function aa(e){return He(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pr)/a0)}const Ed=aa(0),fu=aa(1),MD=aa(2),ID=aa(3),Za=aa(4),DD=aa(5),$D=aa(6);Ed.range;fu.range;MD.range;ID.range;Za.range;DD.range;$D.range;function ia(e){return He(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/a0)}const Td=ia(0),mu=ia(1),LD=ia(2),RD=ia(3),ei=ia(4),FD=ia(5),BD=ia(6);Td.range;mu.range;LD.range;RD.range;ei.range;FD.range;BD.range;const u0=He(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u0.range;const d0=He(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d0.range;const Nn=He(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Nn.range;const Sn=He(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sn.range;function ES(e,t,r,n,a,i){const l=[[Rs,1,fn],[Rs,5,5*fn],[Rs,15,15*fn],[Rs,30,30*fn],[i,1,pr],[i,5,5*pr],[i,15,15*pr],[i,30,30*pr],[a,1,mn],[a,3,3*mn],[a,6,6*mn],[a,12,12*mn],[n,1,jn],[n,2,2*jn],[r,1,a0],[t,1,db],[t,3,3*db],[e,1,Yf]];function o(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=Hg(([,,y])=>y).right(l,m);if(h===l.length)return e.every(Mh(d/Yf,u/Yf,f));if(h===0)return du.every(Math.max(Mh(d,u,f),1));const[x,g]=l[m/l[h-1][2]<l[h][2]/m?h-1:h];return x.every(g)}return[o,c]}const[UD,zD]=ES(Sn,d0,Td,OS,c0,l0),[WD,KD]=ES(Nn,u0,Ed,co,o0,i0);function Gf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qD(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Ii(a),u=Di(a),f=Ii(i),m=Di(i),h=Ii(l),x=Di(l),g=Ii(o),y=Di(o),p=Ii(c),v=Di(c),b={a:B,A:I,b:U,B:Y,c:null,d:xb,e:xb,f:h$,g:S$,G:k$,H:d$,I:f$,j:m$,L:TS,m:p$,M:g$,p:F,q:D,Q:bb,s:wb,S:x$,u:v$,U:y$,V:b$,w:w$,W:j$,x:null,X:null,y:N$,Y:_$,Z:P$,"%":yb},S={a:re,A:xe,b:le,B:De,c:null,d:vb,e:vb,f:E$,g:U$,G:W$,H:C$,I:A$,j:O$,L:IS,m:T$,M:M$,p:zr,q:Jd,Q:bb,s:wb,S:I$,u:D$,U:$$,V:L$,w:R$,W:F$,x:null,X:null,y:B$,Y:z$,Z:K$,"%":yb},j={a:O,A:P,b:C,B:E,c:R,d:pb,e:pb,f:l$,g:hb,G:mb,H:gb,I:gb,j:n$,L:i$,m:r$,M:s$,p:A,q:t$,Q:c$,s:u$,S:a$,u:JD,U:XD,V:QD,w:GD,W:ZD,x:z,X:M,y:hb,Y:mb,Z:e$,"%":o$};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(q,Z){return function(ne){var L=[],_t=-1,ve=0,Rt=q.length,Ft,js,X0;for(ne instanceof Date||(ne=new Date(+ne));++_t<Rt;)q.charCodeAt(_t)===37&&(L.push(q.slice(ve,_t)),(js=fb[Ft=q.charAt(++_t)])!=null?Ft=q.charAt(++_t):js=Ft==="e"?" ":"0",(X0=Z[Ft])&&(Ft=X0(ne,js)),L.push(Ft),ve=_t+1);return L.push(q.slice(ve,_t)),L.join("")}}function _(q,Z){return function(ne){var L=Mi(1900,void 0,1),_t=k(L,q,ne+="",0),ve,Rt;if(_t!=ne.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(Z&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ve=Jf(Mi(L.y,0,1)),Rt=ve.getUTCDay(),ve=Rt>4||Rt===0?mu.ceil(ve):mu(ve),ve=Od.offset(ve,(L.V-1)*7),L.y=ve.getUTCFullYear(),L.m=ve.getUTCMonth(),L.d=ve.getUTCDate()+(L.w+6)%7):(ve=Gf(Mi(L.y,0,1)),Rt=ve.getDay(),ve=Rt>4||Rt===0?fu.ceil(ve):fu(ve),ve=co.offset(ve,(L.V-1)*7),L.y=ve.getFullYear(),L.m=ve.getMonth(),L.d=ve.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Rt="Z"in L?Jf(Mi(L.y,0,1)).getUTCDay():Gf(Mi(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Rt+5)%7:L.w+L.U*7-(Rt+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Jf(L)):Gf(L)}}function k(q,Z,ne,L){for(var _t=0,ve=Z.length,Rt=ne.length,Ft,js;_t<ve;){if(L>=Rt)return-1;if(Ft=Z.charCodeAt(_t++),Ft===37){if(Ft=Z.charAt(_t++),js=j[Ft in fb?Z.charAt(_t++):Ft],!js||(L=js(q,ne,L))<0)return-1}else if(Ft!=ne.charCodeAt(L++))return-1}return L}function A(q,Z,ne){var L=d.exec(Z.slice(ne));return L?(q.p=u.get(L[0].toLowerCase()),ne+L[0].length):-1}function O(q,Z,ne){var L=h.exec(Z.slice(ne));return L?(q.w=x.get(L[0].toLowerCase()),ne+L[0].length):-1}function P(q,Z,ne){var L=f.exec(Z.slice(ne));return L?(q.w=m.get(L[0].toLowerCase()),ne+L[0].length):-1}function C(q,Z,ne){var L=p.exec(Z.slice(ne));return L?(q.m=v.get(L[0].toLowerCase()),ne+L[0].length):-1}function E(q,Z,ne){var L=g.exec(Z.slice(ne));return L?(q.m=y.get(L[0].toLowerCase()),ne+L[0].length):-1}function R(q,Z,ne){return k(q,t,Z,ne)}function z(q,Z,ne){return k(q,r,Z,ne)}function M(q,Z,ne){return k(q,n,Z,ne)}function B(q){return l[q.getDay()]}function I(q){return i[q.getDay()]}function U(q){return c[q.getMonth()]}function Y(q){return o[q.getMonth()]}function F(q){return a[+(q.getHours()>=12)]}function D(q){return 1+~~(q.getMonth()/3)}function re(q){return l[q.getUTCDay()]}function xe(q){return i[q.getUTCDay()]}function le(q){return c[q.getUTCMonth()]}function De(q){return o[q.getUTCMonth()]}function zr(q){return a[+(q.getUTCHours()>=12)]}function Jd(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var Z=N(q+="",b);return Z.toString=function(){return q},Z},parse:function(q){var Z=_(q+="",!1);return Z.toString=function(){return q},Z},utcFormat:function(q){var Z=N(q+="",S);return Z.toString=function(){return q},Z},utcParse:function(q){var Z=_(q+="",!0);return Z.toString=function(){return q},Z}}}var fb={"-":"",_:" ",0:"0"},Qe=/^\s*\d+/,HD=/^%/,VD=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function YD(e){return e.replace(VD,"\\$&")}function Ii(e){return new RegExp("^(?:"+e.map(YD).join("|")+")","i")}function Di(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GD(e,t,r){var n=Qe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JD(e,t,r){var n=Qe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XD(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QD(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ZD(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mb(e,t,r){var n=Qe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hb(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function e$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function t$(e,t,r){var n=Qe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function r$(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function pb(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function n$(e,t,r){var n=Qe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gb(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function s$(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function a$(e,t,r){var n=Qe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function i$(e,t,r){var n=Qe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function l$(e,t,r){var n=Qe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function o$(e,t,r){var n=HD.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function c$(e,t,r){var n=Qe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function u$(e,t,r){var n=Qe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xb(e,t){return ie(e.getDate(),t,2)}function d$(e,t){return ie(e.getHours(),t,2)}function f$(e,t){return ie(e.getHours()%12||12,t,2)}function m$(e,t){return ie(1+co.count(Nn(e),e),t,3)}function TS(e,t){return ie(e.getMilliseconds(),t,3)}function h$(e,t){return TS(e,t)+"000"}function p$(e,t){return ie(e.getMonth()+1,t,2)}function g$(e,t){return ie(e.getMinutes(),t,2)}function x$(e,t){return ie(e.getSeconds(),t,2)}function v$(e){var t=e.getDay();return t===0?7:t}function y$(e,t){return ie(Ed.count(Nn(e)-1,e),t,2)}function MS(e){var t=e.getDay();return t>=4||t===0?Za(e):Za.ceil(e)}function b$(e,t){return e=MS(e),ie(Za.count(Nn(e),e)+(Nn(e).getDay()===4),t,2)}function w$(e){return e.getDay()}function j$(e,t){return ie(fu.count(Nn(e)-1,e),t,2)}function N$(e,t){return ie(e.getFullYear()%100,t,2)}function S$(e,t){return e=MS(e),ie(e.getFullYear()%100,t,2)}function _$(e,t){return ie(e.getFullYear()%1e4,t,4)}function k$(e,t){var r=e.getDay();return e=r>=4||r===0?Za(e):Za.ceil(e),ie(e.getFullYear()%1e4,t,4)}function P$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function vb(e,t){return ie(e.getUTCDate(),t,2)}function C$(e,t){return ie(e.getUTCHours(),t,2)}function A$(e,t){return ie(e.getUTCHours()%12||12,t,2)}function O$(e,t){return ie(1+Od.count(Sn(e),e),t,3)}function IS(e,t){return ie(e.getUTCMilliseconds(),t,3)}function E$(e,t){return IS(e,t)+"000"}function T$(e,t){return ie(e.getUTCMonth()+1,t,2)}function M$(e,t){return ie(e.getUTCMinutes(),t,2)}function I$(e,t){return ie(e.getUTCSeconds(),t,2)}function D$(e){var t=e.getUTCDay();return t===0?7:t}function $$(e,t){return ie(Td.count(Sn(e)-1,e),t,2)}function DS(e){var t=e.getUTCDay();return t>=4||t===0?ei(e):ei.ceil(e)}function L$(e,t){return e=DS(e),ie(ei.count(Sn(e),e)+(Sn(e).getUTCDay()===4),t,2)}function R$(e){return e.getUTCDay()}function F$(e,t){return ie(mu.count(Sn(e)-1,e),t,2)}function B$(e,t){return ie(e.getUTCFullYear()%100,t,2)}function U$(e,t){return e=DS(e),ie(e.getUTCFullYear()%100,t,2)}function z$(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function W$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ei(e):ei.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function K$(){return"+0000"}function yb(){return"%"}function bb(e){return+e}function wb(e){return Math.floor(+e/1e3)}var ha,$S,LS;q$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function q$(e){return ha=qD(e),$S=ha.format,ha.parse,LS=ha.utcFormat,ha.utcParse,ha}function H$(e){return new Date(e)}function V$(e){return e instanceof Date?+e:+new Date(+e)}function f0(e,t,r,n,a,i,l,o,c,d){var u=Qg(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),g=d("%I:%M"),y=d("%I %p"),p=d("%a %d"),v=d("%b %d"),b=d("%B"),S=d("%Y");function j(N){return(c(N)<N?h:o(N)<N?x:l(N)<N?g:i(N)<N?y:n(N)<N?a(N)<N?p:v:r(N)<N?b:S)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?m(Array.from(N,V$)):m().map(H$)},u.ticks=function(N){var _=m();return e(_[0],_[_.length-1],N??10)},u.tickFormat=function(N,_){return _==null?j:d(_)},u.nice=function(N){var _=m();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?m(NS(_,N)):u},u.copy=function(){return oo(u,f0(e,t,r,n,a,i,l,o,c,d))},u}function Y$(){return Sr.apply(f0(WD,KD,Nn,u0,Ed,co,o0,i0,Rs,$S).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G$(){return Sr.apply(f0(UD,zD,Sn,d0,Td,Od,c0,l0,Rs,LS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Md(){var e=0,t=1,r,n,a,i,l=yt,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,l=f(h,x),d):[l(0),l(1)]}}return d.range=u(di),d.rangeRound=u(Xg),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function ys(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RS(){var e=vs(Md()(yt));return e.copy=function(){return ys(e,RS())},An.apply(e,arguments)}function FS(){var e=t0(Md()).domain([1,10]);return e.copy=function(){return ys(e,FS()).base(e.base())},An.apply(e,arguments)}function BS(){var e=r0(Md());return e.copy=function(){return ys(e,BS()).constant(e.constant())},An.apply(e,arguments)}function m0(){var e=n0(Md());return e.copy=function(){return ys(e,m0()).exponent(e.exponent())},An.apply(e,arguments)}function J$(){return m0.apply(null,arguments).exponent(.5)}function US(){var e=[],t=yt;function r(n){if(n!=null&&!isNaN(n=+n))return t((io(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ns),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>DI(e,i/n))},r.copy=function(){return US(t).domain(e)},An.apply(r,arguments)}function Id(){var e=0,t=.5,r=1,n=1,a,i,l,o,c,d=yt,u,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+u(g))-i)*(n*g<n*i?o:c),d(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),l=u(r=+r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(d=g,h):d};function x(g){return function(y){var p,v,b;return arguments.length?([p,v,b]=y,d=oD(g,[p,v,b]),h):[d(0),d(.5),d(1)]}}return h.range=x(di),h.rangeRound=x(Xg),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return u=g,a=g(e),i=g(t),l=g(r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,h}}function zS(){var e=vs(Id()(yt));return e.copy=function(){return ys(e,zS())},An.apply(e,arguments)}function WS(){var e=t0(Id()).domain([.1,1,10]);return e.copy=function(){return ys(e,WS()).base(e.base())},An.apply(e,arguments)}function KS(){var e=r0(Id());return e.copy=function(){return ys(e,KS()).constant(e.constant())},An.apply(e,arguments)}function h0(){var e=n0(Id());return e.copy=function(){return ys(e,h0()).exponent(e.exponent())},An.apply(e,arguments)}function X$(){return h0.apply(null,arguments).exponent(.5)}const Wi=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yg,scaleDiverging:zS,scaleDivergingLog:WS,scaleDivergingPow:h0,scaleDivergingSqrt:X$,scaleDivergingSymlog:KS,scaleIdentity:jS,scaleImplicit:Ih,scaleLinear:wS,scaleLog:SS,scaleOrdinal:Vg,scalePoint:RI,scalePow:s0,scaleQuantile:PS,scaleQuantize:CS,scaleRadial:kS,scaleSequential:RS,scaleSequentialLog:FS,scaleSequentialPow:m0,scaleSequentialQuantile:US,scaleSequentialSqrt:J$,scaleSequentialSymlog:BS,scaleSqrt:ED,scaleSymlog:_S,scaleThreshold:AS,scaleTime:Y$,scaleUtc:G$,tickFormat:bS},Symbol.toStringTag,{value:"Module"}));var fi=e=>e.chartData,Q$=T([fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),p0=(e,t,r,n)=>n?Q$(e):fi(e);function ti(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nr(t)&&nr(r))return!0}return!1}function jb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Z$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(nr(r))a=r;else if(typeof r=="function")return;if(nr(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(ti(l))return l}}function eL(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ti(n))return jb(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(H(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&vy.test(a)){var c=vy.exec(a);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(H(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&yy.test(i)){var u=yy.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var m=[l,o];if(ti(m))return t==null?m:jb(m,t,r)}}}var mi=1e9,tL={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},x0,Ee=!0,wr="[DecimalError] ",qs=wr+"Invalid argument: ",g0=wr+"Exponent out of range: ",hi=Math.floor,Os=Math.pow,rL=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ht,Ye=1e7,Pe=7,qS=9007199254740991,hu=hi(qS/Pe),K={};K.absoluteValue=K.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};K.comparedTo=K.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};K.decimalPlaces=K.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};K.dividedBy=K.div=function(e){return pn(this,new this.constructor(e))};K.dividedToIntegerBy=K.idiv=function(e){var t=this,r=t.constructor;return pe(pn(t,new r(e),0,1),r.precision)};K.equals=K.eq=function(e){return!this.cmp(e)};K.exponent=function(){return Ue(this)};K.greaterThan=K.gt=function(e){return this.cmp(e)>0};K.greaterThanOrEqualTo=K.gte=function(e){return this.cmp(e)>=0};K.isInteger=K.isint=function(){return this.e>this.d.length-2};K.isNegative=K.isneg=function(){return this.s<0};K.isPositive=K.ispos=function(){return this.s>0};K.isZero=function(){return this.s===0};K.lessThan=K.lt=function(e){return this.cmp(e)<0};K.lessThanOrEqualTo=K.lte=function(e){return this.cmp(e)<1};K.logarithm=K.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ht))throw Error(wr+"NaN");if(r.s<1)throw Error(wr+(r.s?"NaN":"-Infinity"));return r.eq(Ht)?new n(0):(Ee=!1,t=pn(Ul(r,i),Ul(e,i),i),Ee=!0,pe(t,a))};K.minus=K.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YS(t,e):HS(t,(e.s=-e.s,e))};K.modulo=K.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wr+"NaN");return r.s?(Ee=!1,t=pn(r,e,0,1).times(e),Ee=!0,r.minus(t)):pe(new n(r),a)};K.naturalExponential=K.exp=function(){return VS(this)};K.naturalLogarithm=K.ln=function(){return Ul(this)};K.negated=K.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};K.plus=K.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HS(t,e):YS(t,(e.s=-e.s,e))};K.precision=K.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qs+e);if(t=Ue(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};K.squareRoot=K.sqrt=function(){var e,t,r,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(wr+"NaN")}for(e=Ue(o),Ee=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Hr(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hi((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(i=n,n=i.plus(pn(o,i,l+2)).times(.5),Hr(i.d).slice(0,l)===(t=Hr(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(pe(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return Ee=!0,pe(n,r)};K.times=K.mul=function(e){var t,r,n,a,i,l,o,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,l=c,c=d,d=l),i=[],l=c+d,n=l;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+h[n]*m[a-n-1]+t,i[a--]=o%Ye|0,t=o/Ye|0;i[a]=(i[a]+t)%Ye|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ee?pe(e,f.precision):e};K.toDecimalPlaces=K.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zr(e,0,mi),t===void 0?t=n.rounding:Zr(t,0,8),pe(r,e+Ue(r)+1,t))};K.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ta(n,!0):(Zr(e,0,mi),t===void 0?t=a.rounding:Zr(t,0,8),n=pe(new a(n),e+1,t),r=ta(n,!0,e+1)),r};K.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ta(a):(Zr(e,0,mi),t===void 0?t=i.rounding:Zr(t,0,8),n=pe(new i(a),e+Ue(a)+1,t),r=ta(n.abs(),!1,e+Ue(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};K.toInteger=K.toint=function(){var e=this,t=e.constructor;return pe(new t(e),Ue(e)+1,t.rounding)};K.toNumber=function(){return+this};K.toPower=K.pow=function(e){var t,r,n,a,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Ht);if(o=new c(o),!o.s){if(e.s<1)throw Error(wr+"Infinity");return o}if(o.eq(Ht))return o;if(n=c.precision,e.eq(Ht))return pe(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=u<0?-u:u)<=qS){for(a=new c(Ht),t=Math.ceil(n/Pe+4),Ee=!1;r%2&&(a=a.times(o),Sb(a.d,t)),r=hi(r/2),r!==0;)o=o.times(o),Sb(o.d,t);return Ee=!0,e.s<0?new c(Ht).div(a):pe(a,n)}}else if(i<0)throw Error(wr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ee=!1,a=e.times(Ul(o,n+d)),Ee=!0,a=VS(a),a.s=i,a};K.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ue(a),n=ta(a,r<=i.toExpNeg||r>=i.toExpPos)):(Zr(e,1,mi),t===void 0?t=i.rounding:Zr(t,0,8),a=pe(new i(a),e,t),r=Ue(a),n=ta(a,e<=r||r<=i.toExpNeg,e)),n};K.toSignificantDigits=K.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zr(e,1,mi),t===void 0?t=n.rounding:Zr(t,0,8)),pe(new n(r),e,t)};K.toString=K.valueOf=K.val=K.toJSON=K[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ue(e),r=e.constructor;return ta(e,t<=r.toExpNeg||t>=r.toExpPos)};function HS(e,t){var r,n,a,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ee?pe(t,f):t;if(c=e.d,d=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=d.length):(n=d,a=l,o=c.length),l=Math.ceil(f/Pe),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ye|0,c[i]%=Ye;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Ee?pe(t,f):t}function Zr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qs+e)}function Hr(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=Bn(r)),i+=n;l=e[t],n=l+"",r=Pe-n.length,r&&(i+=Bn(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var pn=function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Ye|0,l=i/Ye|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Ye+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,d,u,f,m,h,x,g,y,p,v,b,S,j,N,_,k,A=n.constructor,O=n.s==a.s?1:-1,P=n.d,C=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(wr+"Division by zero");for(c=n.e-a.e,_=C.length,j=P.length,h=new A(O),x=h.d=[],d=0;C[d]==(P[d]||0);)++d;if(C[d]>(P[d]||0)&&--c,i==null?v=i=A.precision:l?v=i+(Ue(n)-Ue(a))+1:v=i,v<0)return new A(0);if(v=v/Pe+2|0,d=0,_==1)for(u=0,C=C[0],v++;(d<j||u)&&v--;d++)b=u*Ye+(P[d]||0),x[d]=b/C|0,u=b%C|0;else{for(u=Ye/(C[0]+1)|0,u>1&&(C=e(C,u),P=e(P,u),_=C.length,j=P.length),S=_,g=P.slice(0,_),y=g.length;y<_;)g[y++]=0;k=C.slice(),k.unshift(0),N=C[0],C[1]>=Ye/2&&++N;do u=0,o=t(C,g,_,y),o<0?(p=g[0],_!=y&&(p=p*Ye+(g[1]||0)),u=p/N|0,u>1?(u>=Ye&&(u=Ye-1),f=e(C,u),m=f.length,y=g.length,o=t(f,g,m,y),o==1&&(u--,r(f,_<m?k:C,m))):(u==0&&(o=u=1),f=C.slice()),m=f.length,m<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=t(C,g,_,y),o<1&&(u++,r(g,_<y?k:C,y))),y=g.length):o===0&&(u++,g=[0]),x[d++]=u,o&&g[0]?g[y++]=P[S]||0:(g=[P[S]],y=1);while((S++<j||g[0]!==void 0)&&v--)}return x[0]||x.shift(),h.e=c,pe(h,l?i+Ue(h)+1:i)}}();function VS(e,t){var r,n,a,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(Ue(e)>16)throw Error(g0+Ue(e));if(!e.s)return new u(Ht);for(t==null?(Ee=!1,o=f):o=t,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(n=Math.log(Os(2,d))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ht),u.precision=o;;){if(a=pe(a.times(e),o),r=r.times(++c),l=i.plus(pn(a,r,o)),Hr(l.d).slice(0,o)===Hr(i.d).slice(0,o)){for(;d--;)i=pe(i.times(i),o);return u.precision=f,t==null?(Ee=!0,pe(i,f)):i}i=l}}function Ue(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function Xf(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(wr+"LN10 precision limit exceeded");return pe(new e(e.LN10),t)}function Bn(e){for(var t="";e--;)t+="0";return t}function Ul(e,t){var r,n,a,i,l,o,c,d,u,f=1,m=10,h=e,x=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(wr+(h.s?"NaN":"-Infinity"));if(h.eq(Ht))return new g(0);if(t==null?(Ee=!1,d=y):d=t,h.eq(10))return t==null&&(Ee=!0),Xf(g,d);if(d+=m,g.precision=d,r=Hr(x),n=r.charAt(0),i=Ue(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Hr(h.d),n=r.charAt(0),f++;i=Ue(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=Xf(g,d+2,y).times(i+""),h=Ul(new g(n+"."+r.slice(1)),d-m).plus(c),g.precision=y,t==null?(Ee=!0,pe(h,y)):h;for(o=l=h=pn(h.minus(Ht),h.plus(Ht),d),u=pe(h.times(h),d),a=3;;){if(l=pe(l.times(u),d),c=o.plus(pn(l,new g(a),d)),Hr(c.d).slice(0,d)===Hr(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Xf(g,d+2,y).times(i+""))),o=pn(o,new g(f),d),g.precision=y,t==null?(Ee=!0,pe(o,y)):o;o=c,a+=2}}function Nb(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hi(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>hu||e.e<-hu))throw Error(g0+r)}else e.s=0,e.e=0,e.d=[0];return e}function pe(e,t,r){var n,a,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Pe,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Pe),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;n%=Pe,a=n-Pe+l}if(r!==void 0&&(i=Os(10,l-a-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?d/Os(10,l-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ue(e),f.length=1,t=t-i-1,f[0]=Os(10,(Pe-t%Pe)%Pe),e.e=hi(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Os(10,Pe-n),f[u]=a>0?(d/Os(10,l-a)%Os(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Ye&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ye)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>hu||e.e<-hu))throw Error(g0+Ue(e));return e}function YS(e,t){var r,n,a,i,l,o,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ee?pe(t,h):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),l=d-n,l){for(u=l<0,u?(r=c,l=-l,o=f.length):(r=f,n=d,o=c.length),a=Math.max(Math.ceil(h/Pe),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}l=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>l;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ye-1;--c[i],c[a]+=Ye}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?pe(t,h):t):new m(0)}function ta(e,t,r){var n,a=Ue(e),i=Hr(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Bn(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bn(-a-1)+i,r&&(n=r-l)>0&&(i+=Bn(n))):a>=l?(i+=Bn(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Bn(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Bn(n))),e.s<0?"-"+i:i}function Sb(e,t){if(e.length>t)return e.length=t,!0}function GS(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qs+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return Nb(l,i.toString())}else if(typeof i!="string")throw Error(qs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,rL.test(i))Nb(l,i);else throw Error(qs+i)}if(a.prototype=K,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=GS,a.config=a.set=nL,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nL(e){if(!e||typeof e!="object")throw Error(wr+"Object expected");var t,r,n,a=["precision",1,mi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hi(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qs+r+": "+n);return this}var x0=GS(tL);Ht=new x0(1);const oe=x0;var sL=e=>e,JS={"@@functional/placeholder":!0},XS=e=>e===JS,_b=e=>function t(){return arguments.length===0||arguments.length===1&&XS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},QS=(e,t)=>e===1?t:_b(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==JS).length;return i>=e?t(...n):QS(e-i,_b(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=n.map(u=>XS(u)?o.shift():u);return t(...d,...o)}))}),Dd=e=>QS(e.length,e),Rh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},aL=Dd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),iL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sL;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},Fh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ZS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function e_(e){var t;return e===0?t=1:t=Math.floor(new oe(e).abs().log(10).toNumber())+1,t}function t_(e,t,r){for(var n=new oe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Dd((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Dd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Dd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var r_=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},n_=(e,t,r)=>{if(e.lte(0))return new oe(0);var n=e_(e.toNumber()),a=new oe(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new oe(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new oe(c.toNumber()):new oe(Math.ceil(c.toNumber()))},lL=(e,t,r)=>{var n=new oe(1),a=new oe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new oe(10).pow(e_(e)-1),a=new oe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new oe(Math.floor(e)))}else e===0?a=new oe(Math.floor((t-1)/2)):r||(a=new oe(Math.floor(e)));var l=Math.floor((t-1)/2),o=iL(aL(c=>a.add(new oe(c-l).mul(n)).toNumber()),Rh);return o(0,t)},s_=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new oe(0),tickMin:new oe(0),tickMax:new oe(0)};var l=n_(new oe(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new oe(0):(o=new oe(t).add(r).div(2),o=o.sub(new oe(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new oe(r).sub(o).div(l).toNumber()),u=c+d+1;return u>n?s_(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:l,tickMin:o.sub(new oe(c).mul(l)),tickMax:o.add(new oe(d).mul(l))})};function oL(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=r_([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Rh(0,n-1).map(()=>1/0)]:[...Rh(0,n-1).map(()=>-1/0),o];return t>r?Fh(c):c}if(l===o)return lL(l,n,a);var{step:d,tickMin:u,tickMax:f}=s_(l,o,i,a,0),m=t_(u,f.add(new oe(.1).mul(d)),d);return t>r?Fh(m):m}function cL(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=r_([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),c=n_(new oe(l).sub(i).div(o-1),a,0),d=[...t_(new oe(i),new oe(l).sub(new oe(.99).mul(c)),c),l];return r>n?Fh(d):d}var uL=ZS(oL),dL=ZS(cL),a_=e=>e.rootProps.maxBarSize,fL=e=>e.rootProps.barGap,i_=e=>e.rootProps.barCategoryGap,mL=e=>e.rootProps.barSize,$d=e=>e.rootProps.stackOffset,v0=e=>e.options.chartName,y0=e=>e.rootProps.syncId,l_=e=>e.rootProps.syncMethod,b0=e=>e.options.eventEmitter,on={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Wt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Ld=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:on.angleAxisId,includeHidden:!1,name:void 0,reversed:on.reversed,scale:on.scale,tick:on.tick,tickCount:void 0,ticks:void 0,type:on.type,unit:void 0},pL={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:Wt.type,unit:void 0},gL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xL={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:"category",unit:void 0},w0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gL:hL,j0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xL:pL,Rd=e=>e.polarOptions,N0=T([gs,xs,lt],g6),o_=T([Rd,N0],(e,t)=>{if(e!=null)return Fr(e.innerRadius,t,0)}),c_=T([Rd,N0],(e,t)=>{if(e!=null)return Fr(e.outerRadius,t,t*.8)}),vL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},u_=T([Rd],vL);T([w0,u_],Ld);var d_=T([N0,o_,c_],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([j0,d_],Ld);var yL=T([me,Rd,o_,c_,gs,xs],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:Fr(l,a,a/2),cy:Fr(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Ze=(e,t)=>t,Fd=(e,t,r)=>r;function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){bL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bL(e,t,r){return(t=wL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=jL(e,"string");return typeof t=="symbol"?t:t+""}function jL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh=[0,"auto"],Bt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},On=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Bt},Ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_d},bs=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Ut},NL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},S0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??NL},Lt=(e,t,r)=>{switch(t){case"xAxis":return On(e,r);case"yAxis":return bs(e,r);case"zAxis":return S0(e,r);case"angleAxis":return w0(e,r);case"radiusAxis":return j0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},SL=(e,t,r)=>{switch(t){case"xAxis":return On(e,r);case"yAxis":return bs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uo=(e,t,r)=>{switch(t){case"xAxis":return On(e,r);case"yAxis":return bs(e,r);case"angleAxis":return w0(e,r);case"radiusAxis":return j0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f_=e=>e.graphicalItems.countOfBars>0;function m_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bd=e=>e.graphicalItems.cartesianItems,_L=T([Ze,Fd],m_),h_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fo=T([Bd,Lt,_L],h_),p_=e=>e.filter(t=>t.stackId===void 0),kL=T([fo],p_),g_=e=>e.map(t=>t.data).filter(Boolean).flat(1),PL=T([fo],g_),x_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Ud=T([PL,p0],x_),v_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:pt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:pt(a,n)}))):e.map(n=>({value:n})),zd=T([Ud,Lt,fo],v_);function y_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function la(e){return e.filter(t=>Qr(t)||t instanceof Date).map(Number).filter(t=>Zt(t)===!1)}function CL(e,t,r){return!r||typeof t!="number"||Zt(t)?[]:r.length?la(r.flatMap(n=>{var a=pt(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!nr(i)||!nr(l)))return[t-i,t+l]})):[]}var b_=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(d=>d.dataKey);return[l,{stackedData:T6(e,c,r),graphicalItems:o}]}))},Uh=T([Ud,fo,$d],b_),w_=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=$6(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},AL=T([Uh,fi,Ze],w_),j_=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var l,o,c=(l=i.errorBars)===null||l===void 0?void 0:l.filter(u=>y_(n,u)),d=pt(a,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:d,errorDomain:CL(a,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:pt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),OL=T(Ud,Lt,kL,Ze,j_);function EL(e){var{value:t}=e;if(Qr(t)||t instanceof Date)return t}var TL=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=la(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ML=(e,t,r)=>{var n=e.map(EL).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&NN(n))?uS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},_0=e=>{var t;if(e==null||!("domain"in e))return Bh;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=la(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bh},k0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},N_=e=>e.referenceElements.dots,pi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),IL=T([N_,Ze,Fd],pi),S_=e=>e.referenceElements.areas,DL=T([S_,Ze,Fd],pi),__=e=>e.referenceElements.lines,$L=T([__,Ze,Fd],pi),k_=(e,t)=>{var r=la(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LL=T(IL,Ze,k_),P_=(e,t)=>{var r=la(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},RL=T([DL,Ze],P_),C_=(e,t)=>{var r=la(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FL=T($L,Ze,C_),BL=T(LL,FL,RL,(e,t,r)=>k0(e,r,t)),UL=T([Lt],_0),A_=(e,t,r,n,a)=>{var i=Z$(t,e.allowDataOverflow);return i??eL(t,k0(r,a,TL(n)),e.allowDataOverflow)},zL=T([Lt,UL,AL,OL,BL],A_),WL=[0,1],O_=(e,t,r,n,a,i,l)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:o,type:c}=e,d=ps(t,i);return d&&o==null?uS(0,r.length):c==="category"?ML(n,e,d):a==="expand"?WL:l}},P0=T([Lt,me,Ud,zd,$d,Ze,zL],O_),E_=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(no(i));return o in Wi?o:"point"}}},mo=T([Lt,me,f_,v0,Ze],E_);function KL(e){if(e!=null){if(e in Wi)return Wi[e]();var t="scale".concat(no(e));if(t in Wi)return Wi[t]()}}function C0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=KL(t);if(a!=null){var i=a.domain(r).range(n);return P6(i),i}}}var T_=(e,t,r)=>{var n=_0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ti(e))return uL(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ti(e))return dL(e,t.tickCount,t.allowDecimals)}},A0=T([P0,uo,mo],T_),M_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ti(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},qL=T([Lt,P0,A0,Ze],M_),HL=T(zd,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(la(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),I_=T(HL,me,i_,lt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!nr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Fr(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),VL=(e,t)=>{var r=On(e,t);return r==null||typeof r.padding!="string"?0:I_(e,"xAxis",t,r.padding)},YL=(e,t)=>{var r=bs(e,t);return r==null||typeof r.padding!="string"?0:I_(e,"yAxis",t,r.padding)},GL=T(On,VL,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),JL=T(bs,YL,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),XL=T([lt,GL,Pd,kd,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),QL=T([lt,me,JL,Pd,kd,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ho=(e,t,r,n)=>{var a;switch(t){case"xAxis":return XL(e,r,n);case"yAxis":return QL(e,r,n);case"zAxis":return(a=S0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return u_(e);case"radiusAxis":return d_(e,r);default:return}},D_=T([Lt,ho],Ld),gi=T([Lt,mo,qL,D_],C0);T(fo,Ze,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>y_(t,r)));function $_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wd=(e,t)=>t,Kd=(e,t,r)=>r,ZL=T(Fg,Wd,Kd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($_)),eR=T(Bg,Wd,Kd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($_)),L_=(e,t)=>({width:e.width,height:t.height}),tR=(e,t)=>{var r=typeof t.width=="number"?t.width:_d;return{width:r,height:e.height}},R_=T(lt,On,L_),rR=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},nR=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},sR=T(xs,lt,ZL,Wd,Kd,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=L_(t,o);l==null&&(l=rR(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),aR=T(gs,lt,eR,Wd,Kd,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=tR(t,o);l==null&&(l=nR(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),iR=(e,t)=>{var r=lt(e),n=On(e,t);if(n!=null){var a=sR(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},lR=(e,t)=>{var r=lt(e),n=bs(e,t);if(n!=null){var a=aR(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},F_=T(lt,bs,(e,t)=>{var r=typeof t.width=="number"?t.width:_d;return{width:r,height:e.height}}),Pb=(e,t,r)=>{switch(t){case"xAxis":return R_(e,r).width;case"yAxis":return F_(e,r).height;default:return}},B_=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=ps(e,n),c=t.map(d=>d.value);if(l&&o&&i==="category"&&a&&NN(c))return c}},O0=T([me,zd,Lt,Ze],B_),U_=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=ps(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},E0=T([me,zd,uo,Ze],U_),Cb=T([me,SL,mo,gi,O0,E0,ho,A0,Ze],(e,t,r,n,a,i,l,o,c)=>{if(t==null)return null;var d=ps(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:o,range:l,realScaleType:r,scale:n}}),oR=(e,t,r,n,a,i,l,o,c)=>{if(!(t==null||n==null)){var d=ps(e,c),{type:u,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=u==="category"&&n.bandwidth?n.bandwidth()/h:0;x=c==="angleAxis"&&i!=null&&i.length>=2?Et(i[0]-i[1])*2*x:x;var g=f||a;if(g){var y=g.map((p,v)=>{var b=l?l.indexOf(p):p;return{index:v,coordinate:n(b)+x,value:p,offset:x}});return y.filter(p=>!Zt(p.coordinate))}return d&&o?o.map((p,v)=>({coordinate:n(p)+x,value:p,index:v,offset:x})):n.ticks?n.ticks(m).map(p=>({coordinate:n(p)+x,value:p,offset:x})):n.domain().map((p,v)=>({coordinate:n(p)+x,value:l?l[p]:p,index:v,offset:x}))}},z_=T([me,uo,mo,gi,A0,ho,O0,E0,Ze],oR),cR=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ps(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Et(n[0]-n[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:a?a[u]:u,index:f,offset:d}))}},us=T([me,uo,gi,ho,O0,E0,Ze],cR),en=T(Lt,gi,(e,t)=>{if(!(e==null||t==null))return pu(pu({},e),{},{scale:t})}),uR=T([Lt,mo,P0,D_],C0);T((e,t,r)=>S0(e,r),uR,(e,t)=>{if(!(e==null||t==null))return pu(pu({},e),{},{scale:t})});var dR=T([me,Fg,Bg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W_=e=>e.options.defaultTooltipEventType,K_=e=>e.options.validateTooltipEventTypes;function q_(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function T0(e,t){var r=W_(e),n=K_(e);return q_(t,r,n)}function fR(e){return G(t=>T0(t,e))}var H_=(e,t)=>{var r,n=Number(t);if(!(Zt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mR=e=>e.tooltip.settings,Kn={active:!1,index:null,dataKey:void 0,coordinate:void 0},hR={itemInteraction:{click:Kn,hover:Kn},axisInteraction:{click:Kn,hover:Kn},keyboardInteraction:Kn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V_=Nr({name:"tooltip",initialState:hR,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=rs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pR,removeTooltipEntrySettings:gR,setTooltipSettingsState:xR,setActiveMouseOverItemIndex:Y_,mouseLeaveItem:vR,mouseLeaveChart:G_,setActiveClickItemIndex:yR,setMouseOverAxisIndex:J_,setMouseClickAxisIndex:bR,setSyncInteraction:zh,setKeyboardInteraction:Wh}=V_.actions,wR=V_.reducer;function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){jR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t,r){return(t=NR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _R(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kR(e){return e.index!=null}var X_=(e,t,r,n)=>{if(t==null)return Kn;var a=_R(e,t,r);if(a==null)return Kn;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(kR(a)){if(i)return Xo(Xo({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Xo(Xo({},Kn),{},{coordinate:a.coordinate})},M0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!nr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},Q_=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Z_=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},qd=e=>e.options.tooltipPayloadSearcher,xi=e=>e.tooltip,et=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vi=e=>e.tooltip.settings.axisId,xt=e=>{var t=et(e),r=vi(e);return uo(e,t,r)},I0=T([xt,me,f_,v0,et],E_),PR=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),CR=T([et,vi],m_),Hd=T([PR,xt,CR],h_),AR=T([Hd],g_),oa=T([AR,fi],x_),D0=T([oa,xt,Hd],v_),OR=T([xt],_0),ER=T([oa,Hd,$d],b_),TR=T([ER,fi,et],w_),MR=T([Hd],p_),IR=T([oa,xt,MR,et],j_),DR=T([N_,et,vi],pi),$R=T([DR,et],k_),LR=T([S_,et,vi],pi),RR=T([LR,et],P_),FR=T([__,et,vi],pi),BR=T([FR,et],C_),UR=T([$R,BR,RR],k0),zR=T([xt,OR,TR,IR,UR],A_),ek=T([xt,me,oa,D0,$d,et,zR],O_),WR=T([ek,xt,I0],T_),KR=T([xt,ek,WR,et],M_),tk=e=>{var t=et(e),r=vi(e),n=!1;return ho(e,t,r,n)},rk=T([xt,tk],Ld),nk=T([xt,I0,KR,rk],C0),qR=T([me,D0,xt,et],B_),HR=T([me,D0,xt,et],U_),VR=(e,t,r,n,a,i,l,o)=>{if(t){var{type:c}=t,d=ps(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Et(a[0]-a[1])*2*f:f,d&&l?l.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:i?i[m]:m,index:h,offset:f}))}}},En=T([me,xt,I0,nk,tk,qR,HR,et],VR),sk=T([W_,K_,mR],(e,t,r)=>q_(r.shared,e,t)),ak=e=>e.tooltip.settings.trigger,$0=e=>e.tooltip.settings.defaultIndex,Vd=T([xi,sk,ak,$0],X_),ri=T([Vd,oa],M0),ik=T([En,ri],H_),lk=T([Vd],e=>{if(e)return e.dataKey}),YR=T([xi,sk,ak,$0],Z_),GR=T([gs,xs,me,lt,En,$0,YR,qd],Q_),JR=T([Vd,GR],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XR=T([Vd],e=>e.active);function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){QR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QR(e,t,r){return(t=ZR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZR(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ok=()=>G(xt),t8=()=>{var e=ok(),t=G(En),r=G(nk);return Il(Eb(Eb({},e),{},{scale:r}),t)};function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=s8(e,"string");return typeof t=="symbol"?t:t+""}function s8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a8=()=>G(v0),L0=(e,t)=>t,ck=(e,t,r)=>r,R0=(e,t,r,n)=>n;function i8(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var l8=T(En,e=>xd(e,t=>t.coordinate)),F0=T([xi,L0,ck,R0],X_),uk=T([F0,oa],M0),o8=(e,t,r)=>{if(t!=null){var n=xi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dk=T([xi,L0,ck,R0],Z_),gu=T([gs,xs,me,lt,En,R0,dk,qd],Q_),c8=T([F0,gu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fk=T(En,uk,H_);function u8(e,t){return e??t}var d8=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((m,h)=>{var x,{dataDefinedOnItem:g,settings:y}=h,p=u8(g,o),v=i8(p,d,u),b=(x=y==null?void 0:y.dataKey)!==null&&x!==void 0?x:n==null?void 0:n.dataKey,S=y==null?void 0:y.nameKey,j;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(v)&&l==="axis"?j=mg(v,n.dataKey,a):j=i(v,t,c,S),Array.isArray(j))j.forEach(_=>{var k=Mb(Mb({},y),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(by({tooltipEntrySettings:k,dataKey:_.dataKey,payload:_.payload,value:pt(_.payload,_.dataKey),name:_.name}))});else{var N;m.push(by({tooltipEntrySettings:y,dataKey:b,payload:j,value:pt(j,b),name:(N=pt(j,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return m},f)}},f8=T([dk,uk,fi,xt,fk,qd,L0],d8),m8=T([F0],e=>({isActive:e.active,activeIndex:e.index})),h8=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var c=L6(e.chartX,e.chartY,t,r,o);if(c){var d=F6(c,t),u=_6(d,l,i,n,a),f=R6(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(null,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return(t=g8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=r,m=n;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var h,x;if(d==="ScatterChart")h=u,x=BM;else if(d==="BarChart")h=UM(l,u,a,i),x=nS;else if(l==="radial"){var{cx:g,cy:y,radius:p,startAngle:v,endAngle:b}=sS(u);h={cx:g,cy:y,startAngle:v,endAngle:b,innerRadius:p,outerRadius:p},x=iS}else h={points:jI(l,u,a)},x=G2;var S=typeof o=="object"&&"className"in o?o.className:void 0,j=Qo(Qo(Qo(Qo({stroke:"#ccc",pointerEvents:"none"},a),h),ce(o,!1)),{},{payload:f,payloadIndex:m,className:ue("recharts-tooltip-cursor",S)});return w.isValidElement(o)?w.cloneElement(o,j):w.createElement(x,j)}function y8(e){var t=t8(),r=ao(),n=Cd(),a=a8();return w.createElement(v8,Kh({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var mk=w.createContext(null),b8=()=>w.useContext(mk),hk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},o.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,m,h,x){var g=r?r+d:d;if(!this._events[g])return!1;var y=this._events[g],p=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,m),!0;case 5:return y.fn.call(y.context,u,f,m,h),!0;case 6:return y.fn.call(y.context,u,f,m,h,x),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var S=y.length,j;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),p){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,f);break;case 4:y[b].fn.call(y[b].context,u,f,m);break;default:if(!v)for(j=1,v=new Array(p-1);j<p;j++)v[j-1]=arguments[j];y[b].fn.apply(y[b].context,v)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return l(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&l(this,h);else{for(var g=0,y=[],p=x.length;g<p;g++)(x[g].fn!==u||m&&!x[g].once||f&&x[g].context!==f)&&y.push(x[g]);y.length?this._events[h]=y.length===1?y[0]:y:l(this,h)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&l(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hk);var w8=hk.exports;const j8=_n(w8);var zl=new j8,qh="recharts.syncEvent.tooltip",Db="recharts.syncEvent.brush";function pk(e,t){if(t){var r=Number.parseInt(t,10);if(!Zt(r))return e==null?void 0:e[r]}}var N8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gk=Nr({name:"options",initialState:N8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),S8=gk.reducer,{createEventEmitter:_8}=gk.actions;function k8(e){return e.tooltip.syncInteraction}var P8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xk=Nr({name:"chartData",initialState:P8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$b,setDataStartEndIndexes:C8,setComputedData:$z}=xk.actions,A8=xk.reducer,vk=()=>{};function O8(){var e=G(y0),t=G(b0),r=Re(),n=G(l_),a=G(En),i=Cd(),l=Ug(),o=G(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return vk;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(a!=null){var m;if(typeof n=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},x=n(a,h);m=a[x]}else n==="value"&&(m=a.find(N=>String(N.value)===u.payload.label));var{coordinate:g}=u.payload;if(m==null||u.payload.active===!1||g==null||l==null){r(zh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:p}=g,v=Math.min(y,l.x+l.width),b=Math.min(p,l.y+l.height),S={x:i==="horizontal"?m.coordinate:v,y:i==="horizontal"?b:m.coordinate},j=zh({active:u.payload.active,coordinate:S,dataKey:u.payload.dataKey,index:String(m.index),label:u.payload.label});r(j)}}};return zl.on(qh,c),()=>{zl.off(qh,c)}},[o,r,t,e,n,a,i,l])}function E8(){var e=G(y0),t=G(b0),r=Re();w.useEffect(()=>{if(e==null)return vk;var n=(a,i,l)=>{t!==l&&e===a&&r(C8(i))};return zl.on(Db,n),()=>{zl.off(Db,n)}},[r,t,e])}function T8(){var e=Re();w.useEffect(()=>{e(_8())},[e]),O8(),E8()}function M8(e,t,r,n,a,i){var l=G(m=>o8(m,e,t)),o=G(b0),c=G(y0),d=G(l_),u=G(k8),f=u==null?void 0:u.active;w.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=zh({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});zl.emit(qh,c,m,o)}},[f,r,l,a,n,o,c,d,i])}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return(t=D8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=$8(e,"string");return typeof t=="symbol"?t:t+""}function $8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L8(e){return e.dataKey}function R8(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(vM,t)}var Fb=[],F8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ui.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bb(e){var t=Cn(e,F8),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:m,useTranslate3d:h,wrapperStyle:x,cursor:g,shared:y,trigger:p,defaultIndex:v,portal:b,axisId:S}=t,j=Re(),N=typeof v=="number"?String(v):v;w.useEffect(()=>{j(xR({shared:y,trigger:p,axisId:S,active:r,defaultIndex:N}))},[j,y,p,S,r,N]);var _=Ug(),k=Y2(),A=fR(y),{activeIndex:O,isActive:P}=G(le=>m8(le,A,p,N)),C=G(le=>f8(le,A,p,N)),E=G(le=>fk(le,A,p,N)),R=G(le=>c8(le,A,p,N)),z=C,M=b8(),B=r??P,[I,U]=x2([z,B]),Y=A==="axis"?E:void 0;M8(A,p,R,Y,O,B);var F=b??M;if(F==null)return null;var D=z??Fb;B||(D=Fb),o&&D.length&&(D=a2(z.filter(le=>le.value!=null&&(le.hide!==!0||t.includeHidden)),u,L8));var re=D.length>0,xe=w.createElement(_M,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:B,coordinate:R,hasPayload:re,offset:d,position:f,reverseDirection:m,useTranslate3d:h,viewBox:_,wrapperStyle:x,lastBoundingBox:I,innerRef:U,hasPortalFromProps:!!b},R8(l,Rb(Rb({},t),{},{payload:D,label:Y,active:B,coordinate:R,accessibilityLayer:k})));return w.createElement(w.Fragment,null,Xp.createPortal(xe,F),B&&w.createElement(y8,{cursor:g,tooltipEventType:A,coordinate:R,payload:z,index:O}))}var yk={},bk={},wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),g()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{x(),l=void 0,o=null},y=()=>{x(),u()},p=function(...v){if(a!=null&&a.aborted)return;l=this,o=v;const b=m==null;h(),c&&b&&u()};return p.schedule=h,p.cancel=g,p.flush=y,a==null||a.addEventListener("abort",g,{once:!0}),p}e.debounce=t})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const m=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:d}),h=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,g),u)},x=()=>(m.flush(),u);return h.cancel=m.cancel,h.flush=x,h}e.debounce=r})(bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,trailing:o,maxWait:a})}e.throttle=r})(yk);var B8=yk.throttle;const U8=_n(B8);var il=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t,r){return(t=W8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=K8(e,"string");return typeof t=="symbol"?t:t+""}function K8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zb=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:m,onResize:h,style:x={}}=e,g=w.useRef(null),y=w.useRef();y.current=h,w.useImperativeHandle(t,()=>g.current);var[p,v]=w.useState({containerWidth:n.width,containerHeight:n.height}),b=w.useCallback((j,N)=>{v(_=>{var k=Math.round(j),A=Math.round(N);return _.containerWidth===k&&_.containerHeight===A?_:{containerWidth:k,containerHeight:A}})},[]);w.useEffect(()=>{var j=A=>{var O,{width:P,height:C}=A[0].contentRect;b(P,C),(O=y.current)===null||O===void 0||O.call(y,P,C)};u>0&&(j=U8(j,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(j),{width:_,height:k}=g.current.getBoundingClientRect();return b(_,k),N.observe(g.current),()=>{N.disconnect()}},[b,u]);var S=w.useMemo(()=>{var{containerWidth:j,containerHeight:N}=p;if(j<0||N<0)return null;il(Ds(a)||Ds(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),il(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Ds(a)?j:a,k=Ds(i)?N:i;return r&&r>0&&(_?k=_/r:k&&(_=k*r),c&&k>c&&(k=c)),il(_>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,k,a,i,l,o,r),w.Children.map(d,A=>w.cloneElement(A,{width:_,height:k,style:Qf({height:"100%",width:"100%",maxHeight:k,maxWidth:_},A.props.style)}))},[r,d,i,c,o,l,p,a]);return w.createElement("div",{id:f?"".concat(f):void 0,className:ue("recharts-responsive-container",m),style:Qf(Qf({},x),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:g},S)}),jk=e=>null;jk.displayName="Cell";function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8(e,t,r){return(t=H8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pa={widthCache:{},cacheCount:0},Y8=2e3,G8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kb="recharts_measurement_span";function J8(e){var t=Hh({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var ll=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ui.isSsr)return{width:0,height:0};var n=J8(r),a=JSON.stringify({text:t,copyStyle:n});if(pa.widthCache[a])return pa.widthCache[a];try{var i=document.getElementById(Kb);i||(i=document.createElement("span"),i.setAttribute("id",Kb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Hh(Hh({},G8),n);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return pa.widthCache[a]=c,++pa.cacheCount>Y8&&(pa.cacheCount=0,pa.widthCache={}),c}catch{return{width:0,height:0}}},qb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Q8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Z8=Object.keys(Nk),Aa="NaN";function e9(e,t){return e*Nk[t]}class Pt{static parse(t){var r,[,n,a]=(r=Q8.exec(t))!==null&&r!==void 0?r:[];return new Pt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zt(t)&&(this.unit=""),r!==""&&!X8.test(r)&&(this.num=NaN,this.unit=""),Z8.includes(r)&&(this.num=e9(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zt(this.num)}}function Sk(e){if(e.includes(Aa))return Aa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=qb.exec(t))!==null&&r!==void 0?r:[],l=Pt.parse(n??""),o=Pt.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Aa;t=t.replace(qb,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,m]=(d=Hb.exec(t))!==null&&d!==void 0?d:[],h=Pt.parse(u??""),x=Pt.parse(m??""),g=f==="+"?h.add(x):h.subtract(x);if(g.isNaN())return Aa;t=t.replace(Hb,g.toString())}return t}var Vb=/\(([^()]*)\)/;function t9(e){for(var t=e,r;(r=Vb.exec(t))!=null;){var[,n]=r;t=t.replace(Vb,Sk(n))}return t}function r9(e){var t=e.replace(/\s+/g,"");return t=t9(t),t=Sk(t),t}function n9(e){try{return r9(e)}catch{return Aa}}function Zf(e){var t=n9(e.slice(5,-1));return t===Aa?"":t}var s9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],a9=["dx","dy","angle","className","breakAll"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(null,arguments)}function Yb(e,t){if(e==null)return{};var r,n,a=i9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _k=/[ \f\n\r\t\v\u2028\u2029]+/,kk=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ge(t)||(r?a=t.toString().split(""):a=t.toString().split(_k));var i=a.map(o=>({word:o,width:ll(o,n).width})),l=r?0:ll(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},l9=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=H(i),u=l,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((C,E)=>{var{word:R,width:z}=E,M=C[C.length-1];if(M&&(n==null||a||M.width+z+r<Number(n)))M.words.push(R),M.width+=z+r;else{var B={words:[R],width:z};C.push(B)}return C},[])},m=f(t),h=O=>O.reduce((P,C)=>P.width>C.width?P:C);if(!d||a)return m;var x=m.length>i||h(m).width>Number(n);if(!x)return m;for(var g="…",y=O=>{var P=u.slice(0,O),C=kk({breakAll:c,style:o,children:P+g}).wordsWithComputedWidth,E=f(C),R=E.length>i||h(E).width>Number(n);return[R,E]},p=0,v=u.length-1,b=0,S;p<=v&&b<=u.length-1;){var j=Math.floor((p+v)/2),N=j-1,[_,k]=y(N),[A]=y(j);if(!_&&!A&&(p=j+1),_&&A&&(v=j-1),!_&&A){S=k;break}b++}return S||m},Gb=e=>{var t=ge(e)?[]:e.toString().split(_k);return[{words:t}]},o9=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!ui.isSsr){var o,c,d=kk({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return Gb(n);return l9({breakAll:i,children:n,maxLines:l,style:a},o,c,t,r)}return Gb(n)},Jb="#808080",B0=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=Jb}=e,u=Yb(e,s9),f=w.useMemo(()=>o9({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:m,dy:h,angle:x,className:g,breakAll:y}=u,p=Yb(u,a9);if(!Qr(r)||!Qr(n))return null;var v=r+(H(m)?m:0),b=n+(H(h)?h:0),S;switch(c){case"start":S=Zf("calc(".concat(i,")"));break;case"middle":S=Zf("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:S=Zf("calc(".concat(f.length-1," * -").concat(a,")"));break}var j=[];if(l){var N=f[0].width,{width:_}=u;j.push("scale(".concat(H(_)?_/N:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(v,", ").concat(b,")")),j.length&&(p.transform=j.join(" ")),w.createElement("text",Vh({},ce(p,!0),{ref:t,x:v,y:b,className:ue("recharts-text",g),textAnchor:o,fill:d.includes("url")?Jb:d}),f.map((k,A)=>{var O=k.words.join(y?"":" ");return w.createElement("tspan",{x:v,dy:A===0?S:a,key:"".concat(O,"-").concat(A)},O)}))});B0.displayName="Text";var c9=["offset"],u9=["labelRef"];function Xb(e,t){if(e==null)return{};var r,n,a=d9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){f9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f9(e,t,r){return(t=m9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(null,arguments)}var p9=e=>{var{value:t,formatter:r}=e,n=ge(e.children)?t:e.children;return typeof r=="function"?r(n):n},U0=e=>e!=null&&typeof e=="function",g9=(e,t)=>{var r=Et(t-e),n=Math.min(Math.abs(t-e),360);return r*n},x9=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:m,clockWise:h}=a,x=(d+u)/2,g=g9(f,m),y=g>=0?1:-1,p,v;n==="insideStart"?(p=f+y*i,v=h):n==="insideEnd"?(p=m-y*i,v=!h):n==="end"&&(p=m+y*i,v=h),v=g<=0?v:!v;var b=st(o,c,x,p),S=st(o,c,x,p+(v?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(v?0:1,`,
    `).concat(S.x,",").concat(S.y),N=ge(e.id)?Va("recharts-radial-line-"):e.id;return w.createElement("text",cn({},r,{dominantBaseline:"central",className:ue("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:N,d:j})),w.createElement("textPath",{xlinkHref:"#".concat(N)},t))},v9=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:l,outerRadius:o,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(n==="outside"){var{x:f,y:m}=st(a,i,o+r,u);return{x:f,y:m,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(l+o)/2,{x,y:g}=st(a,i,h,u);return{x,y:g,textAnchor:"middle",verticalAnchor:"middle"}},y9=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:l,width:o,height:c}=t,d=c>=0?1:-1,u=d*n,f=d>0?"end":"start",m=d>0?"start":"end",h=o>=0?1:-1,x=h*n,g=h>0?"end":"start",y=h>0?"start":"end";if(a==="top"){var p={x:i+o/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return Fe(Fe({},p),r?{height:Math.max(l-r.y,0),width:o}:{})}if(a==="bottom"){var v={x:i+o/2,y:l+c+u,textAnchor:"middle",verticalAnchor:m};return Fe(Fe({},v),r?{height:Math.max(r.y+r.height-(l+c),0),width:o}:{})}if(a==="left"){var b={x:i-x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return Fe(Fe({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(a==="right"){var S={x:i+o+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Fe(Fe({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var j=r?{width:o,height:c}:{};return a==="insideLeft"?Fe({x:i+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?Fe({x:i+o-x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},j):a==="insideTop"?Fe({x:i+o/2,y:l+u,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?Fe({x:i+o/2,y:l+c-u,textAnchor:"middle",verticalAnchor:f},j):a==="insideTopLeft"?Fe({x:i+x,y:l+u,textAnchor:y,verticalAnchor:m},j):a==="insideTopRight"?Fe({x:i+o-x,y:l+u,textAnchor:g,verticalAnchor:m},j):a==="insideBottomLeft"?Fe({x:i+x,y:l+c-u,textAnchor:y,verticalAnchor:f},j):a==="insideBottomRight"?Fe({x:i+o-x,y:l+c-u,textAnchor:g,verticalAnchor:f},j):a&&typeof a=="object"&&(H(a.x)||Ds(a.x))&&(H(a.y)||Ds(a.y))?Fe({x:i+Fr(a.x,o),y:l+Fr(a.y,c),textAnchor:"end",verticalAnchor:"end"},j):Fe({x:i+o/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},b9=e=>"cx"in e&&H(e.cx);function qt(e){var{offset:t=5}=e,r=Xb(e,c9),n=Fe({offset:t},r),{viewBox:a,position:i,value:l,children:o,content:c,className:d="",textBreakAll:u,labelRef:f}=n,m=Ug(),h=a||m;if(!h||ge(l)&&ge(o)&&!w.isValidElement(c)&&typeof c!="function")return null;if(w.isValidElement(c)){var x=Xb(n,u9);return w.cloneElement(c,x)}var g;if(typeof c=="function"){if(g=w.createElement(c,n),w.isValidElement(g))return g}else g=p9(n);var y=b9(h),p=ce(n,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return x9(n,g,p);var v=y?v9(n):y9(n,h);return w.createElement(B0,cn({ref:f,className:ue("recharts-label",d)},p,v,{breakAll:u}),g)}qt.displayName="Label";var Pk=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:l,radius:o,innerRadius:c,outerRadius:d,x:u,y:f,top:m,left:h,width:x,height:g,clockWise:y,labelViewBox:p}=e;if(p)return p;if(H(x)&&H(g)){if(H(u)&&H(f))return{x:u,y:f,width:x,height:g};if(H(m)&&H(h))return{x:m,y:h,width:x,height:g}}if(H(u)&&H(f))return{x:u,y:f,width:0,height:0};if(H(t)&&H(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||o||l||0,clockWise:y};if(e.viewBox)return e.viewBox},w9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(qt,cn({key:"label-implicit"},n)):Qr(e)?w.createElement(qt,cn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===qt?w.cloneElement(e,Fe({key:"label-implicit"},n)):w.createElement(qt,cn({key:"label-implicit",content:e},n)):U0(e)?w.createElement(qt,cn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(qt,cn({},e,{key:"label-implicit"},n)):null},j9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,l=Pk(t),o=gg(a,qt).map((d,u)=>w.cloneElement(d,{viewBox:r||l,key:"label-".concat(u)}));if(!n)return o;var c=w9(t.label,r||l,i);return[c,...o]};qt.parseViewBox=Pk;qt.renderCallByParent=j9;var Ck={},Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ak);var Ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ak,r=Ok,n=fd;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Ck);var N9=Ck.last;const S9=_n(N9);var _9=["valueAccessor"],k9=["data","dataKey","clockWise","id","textBreakAll"];function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(null,arguments)}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tw(e,t){if(e==null)return{};var r,n,a=O9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E9=e=>Array.isArray(e.value)?S9(e.value):e.value;function ss(e){var{valueAccessor:t=E9}=e,r=tw(e,_9),{data:n,dataKey:a,clockWise:i,id:l,textBreakAll:o}=r,c=tw(r,k9);return!n||!n.length?null:w.createElement(er,{className:"recharts-label-list"},n.map((d,u)=>{var f=ge(a)?t(d,u):pt(d&&d.payload,a),m=ge(l)?{}:{id:"".concat(l,"-").concat(u)};return w.createElement(qt,xu({},ce(d,!0),c,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:o,viewBox:qt.parseViewBox(ge(i)?d:ew(ew({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}ss.displayName="LabelList";function T9(e,t){return e?e===!0?w.createElement(ss,{key:"labelList-implicit",data:t}):w.isValidElement(e)||U0(e)?w.createElement(ss,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?w.createElement(ss,xu({data:t},e,{key:"labelList-implicit"})):null:null}function M9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=gg(n,ss).map((l,o)=>w.cloneElement(l,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var i=T9(e.label,t);return[i,...a]}ss.renderCallByParent=M9;function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(null,arguments)}var Ek=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ue("recharts-dot",a);return t===+t&&r===+r&&n===+n?w.createElement("circle",Yh({},ce(e,!1),pg(e),{className:i,cx:t,cy:r,r:n})):null},I9={radiusAxis:{},angleAxis:{}},D9=Nr({name:"polarAxis",initialState:I9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),$9=D9.reducer,L9={countOfBars:0,cartesianItems:[],polarItems:[]},Tk=Nr({name:"graphicalItems",initialState:L9,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=rs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=rs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:R9,removeBar:F9,addCartesianGraphicalItem:B9,removeCartesianGraphicalItem:U9,addPolarGraphicalItem:Lz,removePolarGraphicalItem:Rz}=Tk.actions,z9=Tk.reducer;function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9(e){var t=Re();return w.useEffect(()=>{var r=nw(nw({},e),{},{stackId:K2(e.stackId)});return t(B9(r)),()=>{t(U9(r))}},[t,e]),null}var Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Mk);var V9=Mk.isPlainObject;const Y9=_n(V9);function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(null,arguments)}var sw=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},G9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J9=e=>{var t=Cn(e,G9),r=w.useRef(),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:i,y:l,upperWidth:o,lowerWidth:c,height:d,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||d!==+d||o===0&&c===0||d===0)return null;var g=ue("recharts-trapezoid",u);return x?w.createElement(ea,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:l},to:{upperWidth:o,lowerWidth:c,height:d,x:i,y:l},duration:m,animationEasing:f,isActive:x},y=>{var{upperWidth:p,lowerWidth:v,height:b,x:S,y:j}=y;return w.createElement(ea,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,easing:f},w.createElement("path",vu({},ce(t,!0),{className:g,d:sw(S,j,p,v,b),ref:r})))}):w.createElement("g",null,w.createElement("path",vu({},ce(t,!0),{className:g,d:sw(i,l,o,c,d)})))},X9=["option","shapeType","propTransformer","activeClassName","isActive"];function Q9(e,t){if(e==null)return{};var r,n,a=Z9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return(t=tF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nF(e,t){return yu(yu({},t),e)}function sF(e,t){return e==="symbols"}function iw(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(nS,r);case"trapezoid":return w.createElement(J9,r);case"sector":return w.createElement(iS,r);case"symbols":if(sF(t))return w.createElement(wg,r);break;default:return null}}function aF(e){return w.isValidElement(e)?e.props:e}function iF(e){var{option:t,shapeType:r,propTransformer:n=nF,activeClassName:a="recharts-active-shape",isActive:i}=e,l=Q9(e,X9),o;if(w.isValidElement(t))o=w.cloneElement(t,yu(yu({},l),aF(t)));else if(typeof t=="function")o=t(l);else if(Y9(t)&&typeof t!="boolean"){var c=n(t,l);o=w.createElement(iw,{shapeType:r,elementProps:c})}else{var d=l;o=w.createElement(iw,{shapeType:r,elementProps:d})}return i?w.createElement(er,{className:a},o):o}var Ik=(e,t)=>{var r=Re();return(n,a)=>i=>{e==null||e(n,a,i),r(Y_({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Dk=e=>{var t=Re();return(r,n)=>a=>{e==null||e(r,n,a),t(vR())}},$k=(e,t)=>{var r=Re();return(n,a)=>i=>{e==null||e(n,a,i),r(yR({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Lk(e){var{fn:t,args:r}=e,n=Re(),a=St();return w.useEffect(()=>{if(!a){var i=t(r);return n(pR(i)),()=>{n(gR(i))}}},[t,r,n,a]),null}var lF=()=>{};function Rk(e){var{legendPayload:t}=e,r=Re(),n=St();return w.useEffect(()=>n?lF:(r(eM(t)),()=>{r(tM(t))}),[r,n,t]),null}function Fk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Va(t)),n=w.useRef(e);return n.current!==e&&(r.current=Va(t),n.current=e),r.current}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){oF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oF(e,t,r){return(t=cF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=uF(e,"string");return typeof t=="symbol"?t:t+""}function uF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=ow(ow({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ce(a,!1)),pg(a)),o;return w.isValidElement(a)?o=w.cloneElement(a,l):typeof a=="function"?o=a(l):o=w.createElement(Ek,l),w.createElement(er,{className:"recharts-active-dot"},o)};function fF(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=ok(),l=G(ri),o=G(ik);if(!l)return null;var c,d=i.dataKey;if(d&&!i.allowDuplicatedCategory){var u=typeof d=="function"?f=>d(f.payload):"payload.".concat(d);c=mg(t,u,o)}else c=t==null?void 0:t[Number(l)];return ge(c)?null:dF({point:c,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n})}var mF=()=>{var e=Re();return w.useEffect(()=>(e(R9()),()=>{e(F9())})),null},hF=["children"];function pF(e,t){if(e==null)return{};var r,n,a=gF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cw=()=>{},Bk=w.createContext({addErrorBar:cw,removeErrorBar:cw}),xF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uk=w.createContext(xF);function zk(e){var{children:t}=e,r=pF(e,hF);return w.createElement(Uk.Provider,{value:r},t)}var vF=()=>w.useContext(Uk),Wk=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:l,stackId:o,hide:c,type:d,barSize:u}=e,[f,m]=w.useState([]),h=w.useCallback(y=>{m(p=>[...p,y])},[m]),x=w.useCallback(y=>{m(p=>p.filter(v=>v!==y))},[m]),g=St();return w.createElement(Bk.Provider,{value:{addErrorBar:h,removeErrorBar:x}},w.createElement(H9,{type:d,data:l,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:f,stackId:o,hide:c,barSize:u,isPanorama:g}),t)};function yF(e){var{addErrorBar:t,removeErrorBar:r}=w.useContext(Bk);return w.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var bF=e=>{var t=St();return G(r=>en(r,"xAxis",e,t))},wF=e=>{var t=St();return G(r=>en(r,"yAxis",e,t))},jF=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Kk(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(null,arguments)}function _F(e,t){if(e==null)return{};var r,n,a=kF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PF(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o}=e,c=_F(e,jF),d=ce(c,!1),{data:u,dataPointFormatter:f,xAxisId:m,yAxisId:h,errorBarOffset:x}=vF(),g=bF(m),y=wF(h);if((g==null?void 0:g.scale)==null||(y==null?void 0:y.scale)==null||u==null||t==="x"&&g.type!=="number")return null;var p=u.map(v=>{var{x:b,y:S,value:j,errorVal:N}=f(v,n,t);if(!N)return null;var _=[],k,A;if(Array.isArray(N)?[k,A]=N:k=A=N,t==="x"){var{scale:O}=g,P=S+x,C=P+r,E=P-r,R=O(j-k),z=O(j+A);_.push({x1:z,y1:C,x2:z,y2:E}),_.push({x1:R,y1:P,x2:z,y2:P}),_.push({x1:R,y1:C,x2:R,y2:E})}else if(t==="y"){var{scale:M}=y,B=b+x,I=B-r,U=B+r,Y=M(j-k),F=M(j+A);_.push({x1:I,y1:F,x2:U,y2:F}),_.push({x1:B,y1:Y,x2:B,y2:F}),_.push({x1:I,y1:Y,x2:U,y2:Y})}var D="".concat(b+x,"px ").concat(S+x,"px");return w.createElement(er,Wl({className:"recharts-errorBar",key:"bar-".concat(_.map(re=>"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)))},d),_.map(re=>{var xe=a?{transformOrigin:"".concat(re.x1-5,"px")}:void 0;return w.createElement(ea,{from:{transform:"scaleY(0)",transformOrigin:D},to:{transform:"scaleY(1)",transformOrigin:D},begin:i,easing:o,isActive:a,duration:l,key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2),style:{transformOrigin:D}},w.createElement("line",Wl({},re,{style:xe})))}))});return w.createElement(er,{className:"recharts-errorBars"},p)}var qk=w.createContext(void 0);function CF(e){var t=w.useContext(qk);return e??t??"x"}function Hk(e){var{direction:t,children:r}=e;return w.createElement(qk.Provider,{value:t},r)}var Vk={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function AF(e){var t=CF(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l}=Cn(e,Vk);return w.createElement(w.Fragment,null,w.createElement(yF,{dataKey:e.dataKey,direction:t}),w.createElement(PF,Wl({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l})))}class Yk extends w.Component{render(){return w.createElement(AF,this.props)}}Kk(Yk,"defaultProps",Vk);Kk(Yk,"displayName","ErrorBar");var OF="Invariant failed";function EF(e,t){throw new Error(OF)}var TF=["x","y"];function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(null,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){MF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $F(e,t){if(e==null)return{};var r,n,a=LF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RF(e,t){var{x:r,y:n}=e,a=$F(e,TF),i="".concat(r),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return $i($i($i($i($i({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function Gk(e){return w.createElement(iF,Gh({shapeType:"rectangle",propTransformer:RF,activeClassName:"recharts-active-bar"},e))}var FF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(H(t))return t;var i=H(n)||ge(n);return i?t(n,a):(i||EF(),r)}};function z0(e,t){var r,n,a=G(d=>On(d,e)),i=G(d=>bs(d,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Bt.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ut.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function Jk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ao(),{needClipX:i,needClipY:l,needClip:o}=z0(t,r);if(!o)return null;var{left:c,top:d,width:u,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var BF=["onMouseEnter","onMouseLeave","onClick"],UF=["value","background","tooltipPosition"],zF=["onMouseEnter","onClick","onMouseLeave"];function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(null,arguments)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){Yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yd(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jh(e,t){if(e==null)return{};var r,n,a=qF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HF=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Sd(r,t),payload:e}]};function VF(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Sd(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function YF(e){var t=G(ri),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=Jh(i,BF),u=Ik(l,n),f=Dk(o),m=$k(c,n);if(!a||r==null)return null;var h=ce(a,!1);return w.createElement(w.Fragment,null,r.map((x,g)=>{var{value:y,background:p,tooltipPosition:v}=x,b=Jh(x,UF);if(!p)return null;var S=u(x,g),j=f(x,g),N=m(x,g),_=mt(mt(mt(mt(mt({option:a,isActive:String(g)===t},b),{},{fill:"#eee"},p),h),od(d,x,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:N,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return w.createElement(Gk,Kl({key:"background-bar-".concat(g)},_))}))}function Xk(e){var{data:t,props:r,showLabels:n}=e,a=ce(r,!1),{shape:i,dataKey:l,activeBar:o}=r,c=G(ri),d=G(lk),{onMouseEnter:u,onClick:f,onMouseLeave:m}=r,h=Jh(r,zF),x=Ik(u,l),g=Dk(m),y=$k(f,l);return t?w.createElement(w.Fragment,null,t.map((p,v)=>{var b=o&&String(v)===c&&(d==null||l===d),S=b?o:i,j=mt(mt(mt({},a),p),{},{isActive:b,option:S,index:v,dataKey:l});return w.createElement(er,Kl({className:"recharts-bar-rectangle"},od(h,p,v),{onMouseEnter:x(p,v),onMouseLeave:g(p,v),onClick:y(p,v),key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),w.createElement(Gk,j))}),n&&ss.renderCallByParent(r,t)):null}function GF(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,m=Fk(t,"recharts-bar-"),[h,x]=w.useState(!1),g=w.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),y=w.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return w.createElement(ea,{begin:l,duration:o,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:m},p=>{var{t:v}=p,b=v===1?n:n.map((S,j)=>{var N=f&&f[j];if(N){var _=Er(N.x,S.x),k=Er(N.y,S.y),A=Er(N.width,S.width),O=Er(N.height,S.height);return mt(mt({},S),{},{x:_(v),y:k(v),width:A(v),height:O(v)})}if(a==="horizontal"){var P=Er(0,S.height),C=P(v);return mt(mt({},S),{},{y:S.y+S.height-C,height:C})}var E=Er(0,S.width),R=E(v);return mt(mt({},S),{},{width:R})});return v>0&&(r.current=b),w.createElement(er,null,w.createElement(Xk,{props:t,data:b,showLabels:!h}))})}function JF(e){var{data:t,isAnimationActive:r}=e,n=w.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?w.createElement(GF,{previousRectanglesRef:n,props:e}):w.createElement(Xk,{props:e,data:t,showLabels:!0})}var Qk=0,XF=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:pt(e,t)}};class QF extends w.PureComponent{constructor(){super(...arguments),Yd(this,"id",Va("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d,layout:u}=this.props;if(t)return null;var f=ue("recharts-bar",a),m=ge(d)?this.id:d;return w.createElement(er,{className:f},o&&w.createElement("defs",null,w.createElement(Jk,{clipPathId:m,xAxisId:i,yAxisId:l})),w.createElement(er,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):null},w.createElement(YF,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),w.createElement(JF,this.props)),w.createElement(Hk,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var Zk={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ui.isSsr,legendType:"rect",minPointSize:Qk,xAxisId:0,yAxisId:0};function ZF(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=Cn(e,Zk),{needClip:f}=z0(t,r),m=Cd(),h=St(),x=w.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:K2(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),g=gg(e.children,jk),y=G(b=>P7(b,t,r,h,x,g));if(m!=="vertical"&&m!=="horizontal")return null;var p,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?p=0:p=m==="vertical"?v.height/2:v.width/2,w.createElement(zk,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:XF,errorBarOffset:p},w.createElement(QF,Kl({},e,{layout:m,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function e7(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:m,cells:h}=e,x=t==="horizontal"?o:l,g=u?x.scale.domain():null,y=M6({numericAxis:x});return f.map((p,v)=>{var b,S,j,N,_,k;u?b=C6(u[v],g):(b=pt(p,r),Array.isArray(b)||(b=[y,b]));var A=FF(n,Qk)(b[1],v);if(t==="horizontal"){var O,[P,C]=[o.scale(b[0]),o.scale(b[1])];S=xy({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:p,index:v}),j=(O=C??P)!==null&&O!==void 0?O:void 0,N=a.size;var E=P-C;if(_=Zt(E)?0:E,k={x:S,y:m.top,width:N,height:m.height},Math.abs(A)>0&&Math.abs(_)<Math.abs(A)){var R=Et(_||A)*(Math.abs(A)-Math.abs(_));j-=R,_+=R}}else{var[z,M]=[l.scale(b[0]),l.scale(b[1])];if(S=z,j=xy({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:p,index:v}),N=M-z,_=a.size,k={x:m.left,y:j,width:m.width,height:_},Math.abs(A)>0&&Math.abs(N)<Math.abs(A)){var B=Et(N||A)*(Math.abs(A)-Math.abs(N));N+=B}}return mt(mt({},p),{},{x:S,y:j,width:N,height:_,value:u?b:b[1],payload:p,background:k,tooltipPosition:{x:S+N/2,y:j+_/2}},h&&h[v]&&h[v].props)})}class ol extends w.PureComponent{render(){return w.createElement(Wk,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(mF,null),w.createElement(Rk,{legendPayload:HF(this.props)}),w.createElement(Lk,{fn:VF,args:this.props}),w.createElement(ZF,this.props))}}Yd(ol,"displayName","Bar");Yd(ol,"defaultProps",Zk);function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s7=(e,t)=>t,a7=(e,t,r)=>r,i7=(e,t,r,n)=>n,W0=(e,t,r,n,a)=>a,l7=(e,t,r,n,a)=>a.maxBarSize,o7=(e,t,r,n,a,i)=>i,mw=(e,t,r)=>{var n=r??e;if(!ge(n))return Fr(n,t,0)},c7=T([me,Bd,s7,a7,i7],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),u7=(e,t,r,n)=>{var a=me(e);return a==="horizontal"?Uh(e,"yAxis",r,n):Uh(e,"xAxis",t,n)},d7=(e,t,r)=>{var n=me(e);return n==="horizontal"?Pb(e,"xAxis",t):Pb(e,"yAxis",r)};function f7(e){return e.stackId!=null&&e.dataKey!=null}var m7=(e,t,r)=>{var n={},a=e.filter(f7),i=e.filter(d=>d.stackId==null),l=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),o=Object.entries(l).map(d=>{var[u,f]=d,m=f.map(x=>x.dataKey),h=mw(t,r,f[0].barSize);return{stackId:u,dataKeys:m,barSize:h}}),c=i.map(d=>{var u=[d.dataKey].filter(m=>m!=null),f=mw(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},h7=T([c7,mL,d7],m7),p7=(e,t,r,n,a)=>{var i,l,o=me(e),c=a_(e),{maxBarSize:d}=a,u=ge(d)?c:d,f,m;return o==="horizontal"?(f=en(e,"xAxis",t,n),m=us(e,"xAxis",t,n)):(f=en(e,"yAxis",r,n),m=us(e,"yAxis",r,n)),(i=(l=Il(f,m,!0))!==null&&l!==void 0?l:u)!==null&&i!==void 0?i:0},eP=(e,t,r,n)=>{var a=me(e),i,l;return a==="horizontal"?(i=en(e,"xAxis",t,n),l=us(e,"xAxis",t,n)):(i=en(e,"yAxis",r,n),l=us(e,"yAxis",r,n)),Il(i,l)};function g7(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Fr(e,r,0,!0),o,c=[];if(nr(n[0].barSize)){var d=!1,u=r/i,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(i-1)*l,f>=r&&(f-=(i-1)*l,l=0),f>=r&&u>0&&(d=!0,u*=.9,f=i*u);var m=(r-f)/2>>0,h={offset:m-l,size:0};o=n.reduce((p,v)=>{var b,S={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:h.offset+h.size+l,size:d?u:(b=v.barSize)!==null&&b!==void 0?b:0}},j=[...p,S];return h=j[j.length-1].position,j},c)}else{var x=Fr(t,r,0,!0);r-2*x-(i-1)*l<=0&&(l=0);var g=(r-2*x-(i-1)*l)/i;g>1&&(g>>=0);var y=nr(a)?Math.min(g,a):g;o=n.reduce((p,v,b)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:x+(g+l)*b+(g-y)/2,size:y}}],c)}return o}}var x7=(e,t,r,n,a,i,l)=>{var o=ge(l)?t:l,c=g7(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(d=>Zo(Zo({},d),{},{position:Zo(Zo({},d.position),{},{offset:d.position.offset-a/2})}))),c},v7=T([h7,a_,fL,i_,p7,eP,l7],x7),y7=(e,t,r,n)=>en(e,"xAxis",t,n),b7=(e,t,r,n)=>en(e,"yAxis",r,n),w7=(e,t,r,n)=>us(e,"xAxis",t,n),j7=(e,t,r,n)=>us(e,"yAxis",r,n),N7=T([v7,W0],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),S7=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:a}=n;if(a){var i=a.find(l=>l.key===t.dataKey);return i}}}}},_7=T([Bd,W0],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),k7=T([u7,W0],S7),P7=T([lt,y7,b7,w7,j7,N7,me,p0,eP,k7,_7,o7],(e,t,r,n,a,i,l,o,c,d,u,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:x}=o;if(!(u==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:g}=u,y;if(g!=null&&g.length>0?y=g:y=m==null?void 0:m.slice(h,x+1),y!=null)return e7({layout:l,barSettings:u,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:d,displayedData:y,offset:e,cells:f})}}),C7=e=>{var{chartData:t}=e,r=Re(),n=St();return w.useEffect(()=>n?()=>{}:(r($b(t)),()=>{r($b(void 0))}),[t,r,n]),null},hw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},A7=Nr({name:"brush",initialState:hw,reducers:{setBrushSettings(e,t){return t.payload==null?hw:t.payload}}}),O7=A7.reducer;function E7(e,t,r){return(t=T7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K0{static create(t){return new K0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}E7(K0,"EPS",1e-4);function I7(e){return(e%180+180)%180}var D7=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=I7(a),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},$7={dots:[],areas:[],lines:[]},L7=Nr({name:"referenceElements",initialState:$7,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),R7=L7.reducer,F7=w.createContext(void 0),B7=e=>{var{children:t}=e,[r]=w.useState("".concat(Va("recharts"),"-clip")),n=ao();if(n==null)return null;var{left:a,top:i,height:l,width:o}=n;return w.createElement(F7.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function em(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function tP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function U7(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return D7(n,r)}function z7(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function bu(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function W7(e,t){return tP(e,t+1)}function K7(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:tP(n,d)};var g=c,y,p=()=>(y===void 0&&(y=r(x,g)),y),v=x.coordinate,b=c===0||bu(e,v,p,u,o);b||(c=0,u=l,d+=1),b&&(u=v+e*(p()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y7(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(m){var h=i[m],x,g=()=>(x===void 0&&(x=r(h,m)),x);if(m===l-1){var y=e*(h.coordinate+e*g()/2-c);i[m]=h=dt(dt({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else i[m]=h=dt(dt({},h),{},{tickCoord:h.coordinate});var p=bu(e,h.tickCoord,g,o,c);p&&(c=h.tickCoord-e*(g()/2+a),i[m]=dt(dt({},h),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function G7(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=n[o-1],f=r(u,o-1),m=e*(u.coordinate+e*f/2-d);l[o-1]=u=dt(dt({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=bu(e,u.tickCoord,()=>f,c,d);h&&(d=u.tickCoord-e*(f/2+a),l[o-1]=dt(dt({},u),{},{isShow:!0}))}for(var x=i?o-1:o,g=function(v){var b=l[v],S,j=()=>(S===void 0&&(S=r(b,v)),S);if(v===0){var N=e*(b.coordinate-e*j()/2-c);l[v]=b=dt(dt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else l[v]=b=dt(dt({},b),{},{tickCoord:b.coordinate});var _=bu(e,b.tickCoord,j,c,d);_&&(c=b.tickCoord+e*(j()/2+a),l[v]=dt(dt({},b),{},{isShow:!0}))},y=0;y<x;y++)g(y);return l}function q0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(H(c)||ui.isSsr){var m;return(m=W7(a,H(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],x=o==="top"||o==="bottom"?"width":"height",g=u&&x==="width"?ll(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(b,S)=>{var j=typeof d=="function"?d(b.value,S):b.value;return x==="width"?U7(ll(j,{fontSize:t,letterSpacing:r}),g,f):ll(j,{fontSize:t,letterSpacing:r})[x]},p=a.length>=2?Et(a[1].coordinate-a[0].coordinate):1,v=z7(i,p,x);return c==="equidistantPreserveStart"?K7(p,v,y,a,l):(c==="preserveStart"||c==="preserveStartEnd"?h=G7(p,v,y,a,l,c==="preserveStartEnd"):h=Y7(p,v,y,a,l),h.filter(b=>b.isShow))}var J7=["viewBox"],X7=["viewBox"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xw(e,t){if(e==null)return{};var r,n,a=Q7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function H0(e,t,r){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ws extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=xw(t,J7),i=this.props,{viewBox:l}=i,o=xw(i,X7);return!em(n,l)||!em(a,o)||!em(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:l,tickSize:o,mirror:c,tickMargin:d}=this.props,u,f,m,h,x,g,y=c?-1:1,p=t.tickSize||o,v=H(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":u=f=t.coordinate,h=n+ +!c*i,m=h-y*p,g=m-y*d,x=v;break;case"left":m=h=t.coordinate,f=r+ +!c*a,u=f-y*p,x=u-y*d,g=v;break;case"right":m=h=t.coordinate,f=r+ +c*a,u=f+y*p,x=u+y*d,g=v;break;default:u=f=t.coordinate,h=n+ +c*i,m=h+y*p,g=m+y*d,x=v;break}return{line:{x1:u,y1:m,x2:f,y2:h},tick:{x,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o}=this.props,c=ze(ze(ze({},ce(this.props,!1)),ce(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!l||i==="bottom"&&l);c=ze(ze({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+(i==="left"&&!l||i==="right"&&l);c=ze(ze({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return w.createElement("line",Oa({},c,{className:ue("recharts-cartesian-axis-line",Xs(o,"className"))}))}static renderTickItem(t,r,n){var a,i=ue(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,ze(ze({},r),{},{className:i}));else if(typeof t=="function")a=t(ze(ze({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ue(l,t.className)),a=w.createElement(B0,Oa({},r,{className:l}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:l,tickFormatter:o,unit:c}=this.props,d=q0(ze(ze({},this.props),{},{ticks:n}),t,r),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=ce(this.props,!1),h=ce(l,!1),x=ze(ze({},m),{},{fill:"none"},ce(a,!1)),g=d.map((y,p)=>{var{line:v,tick:b}=this.getTickLineCoord(y),S=ze(ze(ze(ze({textAnchor:u,verticalAnchor:f},m),{},{stroke:"none",fill:i},h),b),{},{index:p,payload:y,visibleTicksCount:d.length,tickFormatter:o});return w.createElement(er,Oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},od(this.props,y,p)),a&&w.createElement("line",Oa({},x,v,{className:ue("recharts-cartesian-axis-tick-line",Xs(a,"className"))})),l&&ws.renderTickItem(l,S,"".concat(typeof o=="function"?o(y.value,p):y.value).concat(c||"")))});return g.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:w.createElement(er,{className:ue("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),qt.renderCallByParent(this.props))}}H0(ws,"displayName","CartesianAxis");H0(ws,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tB=["x1","y1","x2","y2","key"],rB=["offset"],nB=["xAxisId","yAxisId"],sB=["xAxisId","yAxisId"];function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){aB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aB(e,t,r){return(t=iB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=lB(e,"string");return typeof t=="symbol"?t:t+""}function lB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(null,arguments)}function wu(e,t){if(e==null)return{};var r,n,a=oB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cB=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rP(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,c=wu(t,tB),d=ce(c,!1),u=wu(d,rB);r=w.createElement("line",Fs({},u,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function uB(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=wu(e,nB),l=a.map((o,c)=>{var d=ht(ht({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return rP(n,d)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function dB(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=wu(e,sB),l=a.map((o,c)=>{var d=ht(ht({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return rP(n,d)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function fB(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==d[0]&&d.unshift(0);var u=d.map((f,m)=>{var h=!d[m+1],x=h?a+l-f:d[m+1]-f;if(x<=0)return null;var g=m%t.length;return w.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function mB(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==d[0]&&d.unshift(0);var u=d.map((f,m)=>{var h=!d[m+1],x=h?a+l-f:d[m+1]-f;if(x<=0)return null;var g=m%r.length;return w.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:x,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var hB=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return z2(q0(ht(ht(ht({},ws.defaultProps),r),{},{ticks:W2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},pB=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return z2(q0(ht(ht(ht({},ws.defaultProps),r),{},{ticks:W2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},gB={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Xh(e){var t=zg(),r=Wg(),n=ao(),a=ht(ht({},Cn(e,gB)),{},{x:H(e.x)?e.x:n.left,y:H(e.y)?e.y:n.top,width:H(e.width)?e.width:n.width,height:H(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,x=St(),g=G(A=>Cb(A,"xAxis",i,x)),y=G(A=>Cb(A,"yAxis",l,x));if(!H(d)||d<=0||!H(u)||u<=0||!H(o)||o!==+o||!H(c)||c!==+c)return null;var p=a.verticalCoordinatesGenerator||hB,v=a.horizontalCoordinatesGenerator||pB,{horizontalPoints:b,verticalPoints:S}=a;if((!b||!b.length)&&typeof v=="function"){var j=m&&m.length,N=v({yAxis:y?ht(ht({},y),{},{ticks:j?m:y.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);il(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!S||!S.length)&&typeof p=="function"){var _=h&&h.length,k=p({xAxis:g?ht(ht({},g),{},{ticks:_?h:g.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);il(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(S=k)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(cB,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(fB,Fs({},a,{horizontalPoints:b})),w.createElement(mB,Fs({},a,{verticalPoints:S})),w.createElement(uB,Fs({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:y})),w.createElement(dB,Fs({},a,{offset:n,verticalPoints:S,xAxis:g,yAxis:y})))}Xh.displayName="CartesianGrid";var nP=(e,t,r,n)=>en(e,"xAxis",t,n),sP=(e,t,r,n)=>us(e,"xAxis",t,n),aP=(e,t,r,n)=>en(e,"yAxis",r,n),iP=(e,t,r,n)=>us(e,"yAxis",r,n),xB=T([me,nP,aP,sP,iP],(e,t,r,n,a)=>ps(e,"xAxis")?Il(t,n,!1):Il(r,a,!1)),vB=(e,t,r,n,a)=>a,yB=T([Bd,vB],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),bB=T([me,nP,aP,sP,iP,yB,xB,p0],(e,t,r,n,a,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:f,data:m}=i,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(d,u+1),h!=null)return FB({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:l,displayedData:h})}}),wB=["type","layout","connectNulls","needClip"],jB=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function lP(e,t){if(e==null)return{};var r,n,a=NB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){Gd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gd(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}var kB=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Sd(r,t),payload:e}]};function PB(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Sd(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var oP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CB(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var AB=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return oP(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){o=[...r.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...CB(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function OB(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ue("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Ek,ni({},t,{className:n}))}return r}function EB(e,t){return e==null?!1:t?!0:e.length===1}function TB(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!EB(r,a))return null;var o=_N(a),c=ce(n,!1),d=ce(a,!0),u=r.map((m,h)=>{var x=Tr(Tr(Tr({key:"dot-".concat(h),r:3},c),d),{},{index:h,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return OB(a,x)}),f={clipPath:l?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return w.createElement(er,ni({className:"recharts-line-dots",key:"dots"},f),u)}function Qh(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:l}=e,{type:o,layout:c,connectNulls:d,needClip:u}=i,f=lP(i,wB),m=Tr(Tr({},ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:n,type:o,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(G2,ni({},m,{pathRef:r})),w.createElement(TB,{points:n,clipPathId:t,props:i}),l&&ss.renderCallByParent(i,n))}function MB(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function IB(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:m,width:h,height:x,onAnimationEnd:g,onAnimationStart:y}=r,p=a.current,v=Fk(r,"recharts-line-"),[b,S]=w.useState(!1),j=w.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),N=w.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),_=MB(n.current),k=i.current;return w.createElement(ea,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:N,key:v},A=>{var{t:O}=A,P=Er(k,_+k),C=Math.min(P(O),_),E;if(o){var R="".concat(o).split(/[,\s]+/gim).map(B=>parseFloat(B));E=AB(C,_,R)}else E=oP(_,C);if(p){var z=p.length/l.length,M=O===1?l:l.map((B,I)=>{var U=Math.floor(I*z);if(p[U]){var Y=p[U],F=Er(Y.x,B.x),D=Er(Y.y,B.y);return Tr(Tr({},B),{},{x:F(O),y:D(O)})}if(m){var re=Er(h*2,B.x),xe=Er(x/2,B.y);return Tr(Tr({},B),{},{x:re(O),y:xe(O)})}return Tr(Tr({},B),{},{x:B.x,y:B.y})});return a.current=M,w.createElement(Qh,{props:r,points:M,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:E})}return O>0&&_>0&&(a.current=l,i.current=C),w.createElement(Qh,{props:r,points:l,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:E})})}function DB(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=w.useRef(null),l=w.useRef(0),o=w.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?w.createElement(IB,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:o}):w.createElement(Qh,{props:r,points:n,clipPathId:t,pathRef:o,showLabels:!0})}var $B=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:pt(e.payload,t)});class LB extends w.Component{constructor(){super(...arguments),Gd(this,"id",Va("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:d,width:u,height:f,id:m,needClip:h,layout:x}=this.props;if(r)return null;var g=ue("recharts-line",i),y=ge(m)?this.id:m,{r:p=3,strokeWidth:v=2}=(t=ce(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=_N(n),S=p*2+v;return w.createElement(w.Fragment,null,w.createElement(er,{className:g},h&&w.createElement("defs",null,w.createElement(Jk,{clipPathId:y,xAxisId:l,yAxisId:o}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(y)},w.createElement("rect",{x:d-S/2,y:c-S/2,width:u+S,height:f+S}))),w.createElement(DB,{props:this.props,clipPathId:y}),w.createElement(Hk,{direction:x==="horizontal"?"y":"x"},w.createElement(zk,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:$B,errorBarOffset:0},this.props.children))),w.createElement(fF,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var cP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ui.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function RB(e){var t=Cn(e,cP),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:m,xAxisId:h,yAxisId:x}=t,g=lP(t,jB),{needClip:y}=z0(h,x),{height:p,width:v,left:b,top:S}=ao(),j=Cd(),N=St(),_=w.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),k=G(A=>bB(A,h,x,N,_));return j!=="horizontal"&&j!=="vertical"?null:w.createElement(LB,ni({},g,{connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:m,xAxisId:h,yAxisId:x,points:k,layout:j,height:p,width:v,left:b,top:S,needClip:y}))}function FB(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=pt(d,l);return t==="horizontal"?{x:gy({axis:r,ticks:a,bandSize:o,entry:d,index:u}),y:ge(f)?null:n.scale(f),value:f,payload:d}:{x:ge(f)?null:r.scale(f),y:gy({axis:n,ticks:i,bandSize:o,entry:d,index:u}),value:f,payload:d}})}class ju extends w.PureComponent{render(){return w.createElement(Wk,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},w.createElement(Rk,{legendPayload:kB(this.props)}),w.createElement(Lk,{fn:PB,args:this.props}),w.createElement(RB,this.props))}}Gd(ju,"displayName","Line");Gd(ju,"defaultProps",cP);function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=zB(e,"string");return typeof t=="symbol"?t:t+""}function zB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WB={xAxis:{},yAxis:{},zAxis:{}},uP=Nr({name:"cartesianAxis",initialState:WB,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=ww(ww({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:KB,removeXAxis:qB,addYAxis:HB,removeYAxis:VB,addZAxis:Fz,removeZAxis:Bz,updateYAxisWidth:YB}=uP.actions,GB=uP.reducer,JB=["children"],XB=["dangerouslySetInnerHTML","ticks"];function dP(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(null,arguments)}function fP(e,t){if(e==null)return{};var r,n,a=eU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tU(e){var t=Re(),r=w.useMemo(()=>{var i=fP(e,JB);return i},[e]),n=G(i=>On(i,r.id)),a=r===n;return w.useEffect(()=>(t(KB(r)),()=>{t(qB(r))}),[r,t]),a?e.children:null}var rU=e=>{var{xAxisId:t,className:r}=e,n=G(H2),a=St(),i="xAxis",l=G(f=>gi(f,i,t,a)),o=G(f=>z_(f,i,t,a)),c=G(f=>R_(f,t)),d=G(f=>iR(f,t));if(c==null||d==null)return null;var u=fP(e,XB);return w.createElement(ws,Zh({},u,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:ue("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},nU=e=>{var t,r,n,a,i;return w.createElement(tU,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},w.createElement(rU,e))};class Nu extends w.Component{render(){return w.createElement(nU,this.props)}}dP(Nu,"displayName","XAxis");dP(Nu,"defaultProps",{allowDataOverflow:Bt.allowDataOverflow,allowDecimals:Bt.allowDecimals,allowDuplicatedCategory:Bt.allowDuplicatedCategory,height:Bt.height,hide:!1,mirror:Bt.mirror,orientation:Bt.orientation,padding:Bt.padding,reversed:Bt.reversed,scale:Bt.scale,tickCount:Bt.tickCount,type:Bt.type,xAxisId:0});var sU=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,d=l+c+o+(r?n:0);return Math.round(d)}return 0},aU=["dangerouslySetInnerHTML","ticks"];function mP(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function oU(e,t){if(e==null)return{};var r,n,a=cU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uU(e){var t=Re();return w.useEffect(()=>(t(HB(e)),()=>{t(VB(e))}),[e,t]),null}var dU=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,l=w.useRef(null),o=w.useRef(null),c=G(H2),d=St(),u=Re(),f="yAxis",m=G(p=>gi(p,f,r,d)),h=G(p=>F_(p,r)),x=G(p=>lR(p,r)),g=G(p=>z_(p,f,r,d));if(w.useLayoutEffect(()=>{var p;if(!(a!=="auto"||!h||U0(i)||w.isValidElement(i))){var v=l.current,b=v==null||(p=v.tickRefs)===null||p===void 0?void 0:p.current,{tickSize:S,tickMargin:j}=v.props,N=sU({ticks:b,label:o.current,labelGapWithTick:5,tickSize:S,tickMargin:j});Math.round(h.width)!==Math.round(N)&&u(YB({id:r,width:N}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,h==null?void 0:h.width,h,u,i,r,a]),h==null||x==null)return null;var y=oU(e,aU);return w.createElement(ws,ep({},y,{ref:l,labelRef:o,scale:m,x:x.x,y:x.y,width:h.width,height:h.height,className:ue("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},fU=e=>{var t,r,n,a,i;return w.createElement(w.Fragment,null,w.createElement(uU,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),w.createElement(dU,e))},mU={allowDataOverflow:Ut.allowDataOverflow,allowDecimals:Ut.allowDecimals,allowDuplicatedCategory:Ut.allowDuplicatedCategory,hide:!1,mirror:Ut.mirror,orientation:Ut.orientation,padding:Ut.padding,reversed:Ut.reversed,scale:Ut.scale,tickCount:Ut.tickCount,type:Ut.type,width:Ut.width,yAxisId:0};class Su extends w.Component{render(){return w.createElement(fU,this.props)}}mP(Su,"displayName","YAxis");mP(Su,"defaultProps",mU);var hU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=w;function pU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gU=typeof Object.is=="function"?Object.is:pU,xU=po.useSyncExternalStore,vU=po.useRef,yU=po.useEffect,bU=po.useMemo,wU=po.useDebugValue;hU.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=vU(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=bU(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),a!==void 0&&l.hasValue){var x=l.value;if(a(x,h))return f=x}return f=h}if(x=f,gU(u,h))return x;var g=n(h);return a!==void 0&&a(x,g)?(u=h,x):(u=h,f=g)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=xU(e,i[0],i[1]);return yU(function(){l.hasValue=!0,l.value=o},[o]),wU(o),o};function jU(e){e()}function NU(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jU(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var jw={notify(){},get:()=>[]};function SU(e,t){let r,n=jw,a=0,i=!1;function l(g){u();const y=n.subscribe(g);let p=!1;return()=>{p||(p=!0,y(),f())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=NU())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=jw)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return x}var _U=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kU=_U(),PU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CU=PU(),AU=()=>kU||CU?w.useLayoutEffect:w.useEffect,OU=AU(),tm=Symbol.for("react-redux-context"),rm=typeof globalThis<"u"?globalThis:{};function EU(){if(!w.createContext)return{};const e=rm[tm]??(rm[tm]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var TU=EU();function MU(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const c=SU(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=w.useMemo(()=>a.getState(),[a]);OU(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||TU;return w.createElement(o.Provider,{value:i},t)}var IU=MU,DU=(e,t)=>t,V0=T([DU,me,yL,et,rk,En,l8,lt],h8),Y0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hP=br("mouseClick"),pP=so();pP.startListening({actionCreator:hP,effect:(e,t)=>{var r=e.payload,n=V0(t.getState(),Y0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(bR({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var tp=br("mouseMove"),gP=so();gP.startListening({actionCreator:tp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=T0(n,n.tooltip.settings.shared),i=V0(n,Y0(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(J_({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(G_()))}});function $U(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Nw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},xP=Nr({name:"rootProps",initialState:Nw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Nw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),LU=xP.reducer,{updateOptions:RU}=xP.actions,FU=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),BU=FU.reducer,vP=br("keyDown"),yP=br("focus"),G0=so();G0.startListening({actionCreator:vP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(M0(a,oa(r))),o=En(r);if(i==="Enter"){var c=gu(r,"axis","hover",String(a.index));t.dispatch(Wh({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=dR(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,m=l+f*u;if(!(o==null||m>=o.length||m<0)){var h=gu(r,"axis","hover",String(m));t.dispatch(Wh({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});G0.startListening({actionCreator:yP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=gu(r,"axis","hover",String(i));t.dispatch(Wh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var ur=br("externalEvent"),bP=so();bP.startListening({actionCreator:ur,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:JR(r),activeDataKey:lk(r),activeIndex:ri(r),activeLabel:ik(r),activeTooltipIndex:ri(r),isTooltipActive:XR(r)};e.payload.handler(n,e.payload.reactEvent)}}});var UU=T([xi],e=>e.tooltipItemPayloads),zU=T([UU,qd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),wP=br("touchMove"),jP=so();jP.startListening({actionCreator:wP,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=T0(n,n.tooltip.settings.shared);if(a==="axis"){var i=V0(n,Y0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(J_({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(U6),u=(l=c.getAttribute(z6))!==null&&l!==void 0?l:void 0,f=zU(t.getState(),d,u);t.dispatch(Y_({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var WU=y2({brush:O7,cartesianAxis:GB,chartData:A8,graphicalItems:z9,layout:d6,legend:rM,options:S8,polarAxis:$9,polarOptions:BU,referenceElements:R7,rootProps:LU,tooltip:wR}),KU=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $5({reducer:WU,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([pP.middleware,gP.middleware,G0.middleware,bP.middleware,jP.middleware]),devTools:{serialize:{replacer:$U},name:"recharts-".concat(r)}})};function qU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=St(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=KU(t,n));var l=Eg;return w.createElement(IU,{context:l,store:i.current},r)}function HU(e){var{layout:t,width:r,height:n,margin:a}=e,i=Re(),l=St();return w.useEffect(()=>{l||(i(o6(t)),i(c6({width:r,height:n})),i(l6(a)))},[i,l,t,r,n,a]),null}function VU(e){var t=Re();return w.useEffect(()=>{t(RU(e))},[t,e]),null}var YU=["children"];function GU(e,t){if(e==null)return{};var r,n,a=JU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(null,arguments)}var XU={width:"100%",height:"100%"},QU=w.forwardRef((e,t)=>{var r=zg(),n=Wg(),a=Y2();if(!tu(r)||!tu(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?u=l.role:u=a?"application":void 0,w.createElement(xg,_u({},l,{title:o,desc:c,role:u,tabIndex:d,width:r,height:n,style:XU,ref:t}),i)}),ZU=e=>{var{children:t}=e,r=G(Pd);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return w.createElement(xg,{width:n,height:a,x:l,y:i},t)},Sw=w.forwardRef((e,t)=>{var{children:r}=e,n=GU(e,YU),a=St();return a?w.createElement(ZU,null,r):w.createElement(QU,_u({ref:t},n),r)});function ez(){var e=Re(),[t,r]=w.useState(null),n=G(B6);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;nr(i)&&i!==n&&e(u6(i))}},[t,e,n]),r}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var az=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:x,onTouchStart:g,style:y,width:p}=e,v=Re(),[b,S]=w.useState(null),[j,N]=w.useState(null);T8();var _=ez(),k=w.useCallback(D=>{_(D),typeof t=="function"&&t(D),S(D),N(D)},[_,t,S,N]),A=w.useCallback(D=>{v(hP(D)),v(ur({handler:i,reactEvent:D}))},[v,i]),O=w.useCallback(D=>{v(tp(D)),v(ur({handler:d,reactEvent:D}))},[v,d]),P=w.useCallback(D=>{v(G_()),v(ur({handler:u,reactEvent:D}))},[v,u]),C=w.useCallback(D=>{v(tp(D)),v(ur({handler:f,reactEvent:D}))},[v,f]),E=w.useCallback(()=>{v(yP())},[v]),R=w.useCallback(D=>{v(vP(D.key))},[v]),z=w.useCallback(D=>{v(ur({handler:l,reactEvent:D}))},[v,l]),M=w.useCallback(D=>{v(ur({handler:o,reactEvent:D}))},[v,o]),B=w.useCallback(D=>{v(ur({handler:c,reactEvent:D}))},[v,c]),I=w.useCallback(D=>{v(ur({handler:m,reactEvent:D}))},[v,m]),U=w.useCallback(D=>{v(ur({handler:g,reactEvent:D}))},[v,g]),Y=w.useCallback(D=>{v(wP(D)),v(ur({handler:x,reactEvent:D}))},[v,x]),F=w.useCallback(D=>{v(ur({handler:h,reactEvent:D}))},[v,h]);return w.createElement(mk.Provider,{value:b},w.createElement(kN.Provider,{value:j},w.createElement("div",{className:ue("recharts-wrapper",n),style:tz({position:"relative",cursor:"default",width:p,height:a},y),role:"application",onClick:A,onContextMenu:z,onDoubleClick:M,onFocus:E,onKeyDown:R,onMouseDown:B,onMouseEnter:O,onMouseLeave:P,onMouseMove:C,onMouseUp:I,onTouchEnd:F,onTouchMove:Y,onTouchStart:U,ref:k},r)))}),iz=["children","className","width","height","style","compact","title","desc"];function lz(e,t){if(e==null)return{};var r,n,a=oz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cz=w.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:o,title:c,desc:d}=e,u=lz(e,iz),f=ce(u,!1);return o?w.createElement(Sw,{otherAttributes:f,title:c,desc:d},r):w.createElement(az,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(Sw,{otherAttributes:f,title:c,desc:d,ref:t},w.createElement(B7,null,r)))}),uz=["width","height"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}function dz(e,t){if(e==null)return{};var r,n,a=fz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mz={top:5,right:5,bottom:5,left:5},hz={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mz,reverseStackOrder:!1,syncMethod:"index"},NP=w.forwardRef(function(t,r){var n,a=Cn(t.categoricalChartProps,hz),{width:i,height:l}=a,o=dz(a,uz);if(!tu(i)||!tu(l))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(qU,{preloadedState:{options:h},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},w.createElement(C7,{chartData:m.data}),w.createElement(HU,{width:i,height:l,layout:a.layout,margin:a.margin}),w.createElement(VU,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(cz,rp({},o,{width:i,height:l,ref:r})))}),pz=["axis"],gz=w.forwardRef((e,t)=>w.createElement(NP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pz,tooltipPayloadSearcher:pk,categoricalChartProps:e,ref:t})),xz=["axis","item"],vz=w.forwardRef((e,t)=>w.createElement(NP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xz,tooltipPayloadSearcher:pk,categoricalChartProps:e,ref:t}));function nm(e,t,r){const n={};return e.forEach(a=>{const i=new Date(a[t]),l=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;n[l]=(n[l]||0)+(r?Number(a[r]):1)}),n}const yz=()=>{const{orders:e,transactions:t,campaigns:r,talents:n,founders:a}=he(),i=nm(t.filter(y=>{var p;return y.type==="credit"&&((p=y.description)==null?void 0:p.toLowerCase().includes("admin fee"))}),"createdAt","amount"),l=nm(t.filter(y=>{var p;return y.type==="credit"&&((p=y.description)==null?void 0:p.toLowerCase().includes("payment received"))}),"createdAt","amount"),o=nm(r,"createdAt"),c=new Set([...Object.keys(i),...Object.keys(l),...Object.keys(o)]),u=Array.from(c).sort().map(y=>({month:y,Revenue:i[y]||0,"Talent Payments":l[y]||0,Campaigns:o[y]||0})),f=Object.values(i).reduce((y,p)=>y+p,0),m=Object.values(l).reduce((y,p)=>y+p,0),h=r.length,x=n.length,g=a.length;return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Platform Analytics"}),s.jsx("p",{className:"text-gray-600",children:"See platform growth, revenue, and activity over time"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(bn,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:h}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Campaigns"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(se,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:f.toLocaleString("ms-MY",{style:"currency",currency:"MYR"})}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Revenue"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(je,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:m.toLocaleString("ms-MY",{style:"currency",currency:"MYR"})}),s.jsx("span",{className:"text-xs text-gray-500",children:"Talent Payouts"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(qe,{className:"h-8 w-8 text-blue-500 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:x}),s.jsx("span",{className:"text-xs text-gray-500",children:"Talents"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(wt,{className:"h-8 w-8 text-yellow-500 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:g}),s.jsx("span",{className:"text-xs text-gray-500",children:"Founders"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue & Campaign Activity"}),s.jsx("div",{className:"w-full h-96",children:s.jsx(zb,{width:"100%",height:"100%",children:s.jsxs(vz,{data:u,children:[s.jsx(Xh,{strokeDasharray:"3 3"}),s.jsx(Nu,{dataKey:"month"}),s.jsx(Su,{}),s.jsx(Bb,{}),s.jsx(Dl,{}),s.jsx(ol,{dataKey:"Revenue",fill:"#22d3ee",radius:[6,6,0,0]}),s.jsx(ol,{dataKey:"Talent Payments",fill:"#818cf8",radius:[6,6,0,0]}),s.jsx(ol,{dataKey:"Campaigns",fill:"#fde047",radius:[6,6,0,0]})]})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue vs Talent Payouts"}),s.jsx("div",{className:"w-full h-80",children:s.jsx(zb,{width:"100%",height:"100%",children:s.jsxs(gz,{data:u,children:[s.jsx(Xh,{strokeDasharray:"3 3"}),s.jsx(Nu,{dataKey:"month"}),s.jsx(Su,{}),s.jsx(Bb,{}),s.jsx(Dl,{}),s.jsx(ju,{type:"monotone",dataKey:"Revenue",stroke:"#22d3ee",strokeWidth:3,dot:{r:5}}),s.jsx(ju,{type:"monotone",dataKey:"Talent Payments",stroke:"#818cf8",strokeWidth:3,dot:{r:5}})]})})})]})]})},J0=({onClose:e,onSave:t,title:r,currentImage:n})=>{const[a,i]=w.useState(n||null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),[f,m]=w.useState(!1),h=y=>{var v;const p=(v=y.target.files)==null?void 0:v[0];if(p){if(!p.type.startsWith("image/")){alert("Please select a valid image file.");return}if(p.size>5*1024*1024){alert("Image size must be less than 5MB.");return}m(!0),o(p);const b=new FileReader;b.onload=S=>{var j;i((j=S.target)==null?void 0:j.result),m(!1)},b.readAsDataURL(p)}},x=async()=>{if(l){d(!0);try{const{data:{user:y},error:p}=await J.auth.getUser();if(p||!y)throw new Error("User not authenticated");const v=l.name.split(".").pop(),b=`${y.id}/avatar-${Date.now()}.${v}`,{data:S,error:j}=await J.storage.from("avatars").upload(b,l,{cacheControl:"3600",upsert:!0});if(j)throw j;const{data:N}=J.storage.from("avatars").getPublicUrl(S.path);t(N.publicUrl)}catch(y){console.error("Error uploading image:",y),alert("Failed to upload image. Please try again.")}finally{d(!1)}}},g=()=>{i(null),o(null),u.current&&(u.current.value="")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:a?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:a,alt:"Selected",className:"w-32 h-32 object-cover rounded-full border-4 border-gray-200"}),s.jsx("button",{onClick:g,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(_e,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-100 rounded-full flex items-center justify-center border-4 border-gray-200",children:s.jsx(Xt,{className:"h-8 w-8 text-gray-400"})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(cs,{className:"w-8 h-8 mb-2 text-gray-400"}),f?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 mb-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"mb-2 text-sm text-gray-500 font-semibold",children:"Loading preview..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]})]}),s.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/*",onChange:h})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Image Guidelines"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Use a clear, professional photo"}),s.jsx("li",{children:"• Square images work best (1:1 ratio)"}),s.jsx("li",{children:"• Ensure good lighting and focus"}),s.jsx("li",{children:"• Avoid group photos or distracting backgrounds"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:x,disabled:!a||c,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{children:c?"Uploading...":"Save Image"})]})]})]})})},bz=({onClose:e})=>{const{user:t,updateProfile:r}=Ae(),n=t,[a,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(n.avatar||""),[u,f]=w.useState({name:n.name||"",email:n.email||"",company:n.company||"",phone:n.phone||"",address:n.address||""}),m=y=>{const{name:p,value:v}=y.target;f(b=>({...b,[p]:v}))},h=y=>{d(y),o(!1)},x=async y=>{y.preventDefault(),i(!0);try{await new Promise(v=>setTimeout(v,1e3));const p={...n,...u,avatar:c};r==null||r(p),e()}catch(p){console.error("Failed to update profile:",p)}finally{i(!1)}},g=y=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(y);return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[c?s.jsx("img",{src:c,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:n.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",onClick:()=>o(!0),className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",children:s.jsx(Xt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-gray-600",children:n.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:"Founder"}),s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-green-50 to-blue-50 px-3 py-1 rounded-full border border-green-200",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:g(n.walletBalance||0)})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:u.name,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:u.email,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"company",name:"company",value:u.company,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your company name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ag,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(Jr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{id:"address",name:"address",rows:3,value:u.address,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your business address"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Wallet Balance"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:g(n.walletBalance||0)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Cl,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Campaigns"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:"4"})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rr,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:n.createdAt.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{children:a?"Saving...":"Save Changes"})]})]})]})]}),l&&s.jsx(J0,{onClose:()=>o(!1),onSave:h,title:"Update Profile Picture",currentImage:c})]})},wz=({onClose:e})=>{var I,U,Y;const{user:t,updateProfile:r}=Ae(),{earnings:n,refreshData:a}=he(),i=t,[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(i.avatar||""),[m,h]=w.useState({name:i.name||"",email:i.email||"",bio:i.bio||"",skills:i.skills||[],socialMedia:{instagram:((I=i.socialMedia)==null?void 0:I.instagram)||"",youtube:((U=i.socialMedia)==null?void 0:U.youtube)||""}}),[x,g]=w.useState("");w.useState([]);const[y,p]=w.useState(!1),[v,b]=w.useState(((Y=i.portfolio)==null?void 0:Y.map(F=>({url:F,type:F.includes(".mp4")||F.includes("video")?"video":"image"})))||[]),S=w.useRef(null),j=F=>{const{name:D,value:re}=F.target;if(D.startsWith("socialMedia.")){const xe=D.split(".")[1];h(le=>({...le,socialMedia:{...le.socialMedia,[xe]:re}}))}else h(xe=>({...xe,[D]:re}))},N=()=>{x.trim()&&!m.skills.includes(x.trim())&&(h(F=>({...F,skills:[...F.skills,x.trim()]})),g(""))},_=F=>{h(D=>({...D,skills:D.skills.filter(re=>re!==F)}))},k=()=>{var F;(F=S.current)==null||F.click()},A=async F=>{const D=F.target.files;if(!(!D||D.length===0)){p(!0);try{const{data:{user:re}}=await J.auth.getUser();if(!re)throw new Error("User not authenticated");const xe=[];for(let le=0;le<D.length;le++){const De=D[le];if(!De.type.startsWith("image/")&&!De.type.startsWith("video/")){console.warn(`${De.name} is not a valid image or video file.`);continue}if(De.size>10*1024*1024){console.warn(`${De.name} is too large. Maximum size is 10MB.`);continue}const zr=De.type.startsWith("image/")?"image":"video",Jd=De.name.split(".").pop(),q=`${re.id}/portfolio-${Date.now()}-${le}.${Jd}`,{data:Z,error:ne}=await J.storage.from("portfolio").upload(q,De,{cacheControl:"3600",upsert:!0});if(ne){console.error("Error uploading file:",ne);continue}const{data:L}=J.storage.from("portfolio").getPublicUrl(Z.path);xe.push({url:L.publicUrl,type:zr})}b(le=>[...le,...xe]),S.current&&(S.current.value="")}catch(re){console.error("Error uploading portfolio items:",re),alert("Failed to upload some files. Please try again.")}finally{p(!1)}}},O=async F=>{try{const D=v[F],xe=new URL(D.url).pathname.match(/\/portfolio\/(.+)$/);if(xe&&xe[1]){const le=decodeURIComponent(xe[1]),{error:De}=await J.storage.from("portfolio").remove([le]);De&&console.error("Error removing file from storage:",De)}b(le=>le.filter((De,zr)=>zr!==F))}catch(D){console.error("Error removing portfolio item:",D)}},P=F=>{f(F),d(!1)},C=async F=>{F.preventDefault(),o(!0);try{const D={...i,...m,avatar:u,portfolio:v.map(re=>re.url)};await(r==null?void 0:r(D)),await a(),e()}catch(D){console.error("Failed to update profile:",D),alert("Failed to update profile. Please try again.")}finally{o(!1)}},E=F=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(F),R=n.filter(F=>F.talentId===i.id&&F.status==="paid").reduce((F,D)=>F+D.amount,0),z=n.filter(F=>F.talentId===i.id&&F.status==="paid").length,M=n.filter(F=>F.talentId===i.id&&F.status==="pending").reduce((F,D)=>F+D.amount,0),B=F=>{switch(F){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[u?s.jsx("img",{src:u,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:i.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",onClick:()=>d(!0),className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",children:s.jsx(Xt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),s.jsx("p",{className:"text-gray-600",children:i.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-purple-100 text-purple-800",children:"Talent"}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${B(i.rateLevel)}`,children:[i.rateLevel," Star Level"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:E(R)}),s.jsx("div",{className:"text-sm text-green-700",children:"Total Earnings"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:z}),s.jsx("div",{className:"text-sm text-blue-700",children:"Completed Jobs"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:E(M)}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Earnings"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:m.name,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:m.email,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:4,value:m.bio,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself, your experience, and what makes you unique as a content creator..."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Skills & Expertise"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:x,onChange:F=>g(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),N()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a skill (e.g., Photography, Video Editing)"}),s.jsxs("button",{type:"button",onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[s.jsx(al,{className:"h-4 w-4"}),s.jsx("span",{children:"Add"})]})]}),m.skills.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:m.skills.map((F,D)=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[F,s.jsx("button",{type:"button",onClick:()=>_(F),className:"ml-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(_e,{className:"h-3 w-3"})})]},D))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Social Media"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"socialMedia.instagram",className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zl,{className:"h-5 w-5 text-pink-500"})}),s.jsx("input",{type:"text",id:"socialMedia.instagram",name:"socialMedia.instagram",value:m.socialMedia.instagram,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"@username"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"socialMedia.youtube",className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ro,{className:"h-5 w-5 text-red-500"})}),s.jsx("input",{type:"text",id:"socialMedia.youtube",name:"socialMedia.youtube",value:m.socialMedia.youtube,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Channel URL"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Portfolio"}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(cs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload images or videos to showcase your work"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:A,className:"hidden",ref:S}),s.jsx("button",{type:"button",onClick:k,disabled:y,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):s.jsx(s.Fragment,{children:"Choose Files"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max file size: 10MB. Supported formats: JPG, PNG, MP4, MOV"})]})}),v.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Portfolio Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.map((F,D)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:F.type==="image"?s.jsx("img",{src:F.url,alt:`Portfolio ${D+1}`,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:F.url,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-8 w-8 text-white drop-shadow-lg"})})]})}),s.jsx("button",{type:"button",onClick:()=>O(D),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(to,{className:"h-4 w-4"})})]},D))})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||y,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}),c&&s.jsx(J0,{onClose:()=>d(!1),onSave:P,title:"Update Profile Picture",currentImage:u})]})},jz=({onClose:e})=>{var x;const{user:t,updateProfile:r}=Ae(),[n,a]=w.useState(!1),[i,l]=w.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||""}),[o,c]=w.useState((t==null?void 0:t.avatar)||""),[d,u]=w.useState(!1),f=g=>{c(g),u(!1)},m=g=>{const{name:y,value:p}=g.target;l(v=>({...v,[y]:p}))},h=async g=>{g.preventDefault(),a(!0);try{await new Promise(p=>setTimeout(p,1e3));const y={...t,...i,avatar:o};r==null||r(y),e()}catch(y){console.error("Failed to update profile:",y)}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Admin Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(_e,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:t==null?void 0:t.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",onClick:()=>u(!0),children:s.jsx(Xt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-red-100 text-red-800 flex items-center space-x-1",children:[s.jsx(ih,{className:"h-3 w-3"}),s.jsx("span",{children:"Administrator"})]}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:"Super User"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:i.name,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:i.email,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:i.address,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your address"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ih,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Admin Level"}),s.jsx("p",{className:"text-xl font-bold text-red-900",children:"Super Admin"})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(El,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"System Access"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:"Full Access"})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:(x=t==null?void 0:t.createdAt)==null?void 0:x.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Permissions"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"User Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Campaign Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Payment Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"System Analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Content Moderation"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Financial Reports"})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg hover:from-red-700 hover:to-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{children:n?"Saving...":"Save Changes"})]})]})]})]})}),d&&s.jsx(J0,{onClose:()=>u(!1),onSave:f,title:"Update Admin Avatar",currentImage:o})]})},Nz=()=>{const{user:e,loading:t}=Ae(),[r,n]=w.useState(!1),[a,i]=w.useState("dashboard"),[l,o]=w.useState(!1);if(w.useEffect(()=>{const d=()=>{o(!0)};return window.addEventListener("openProfileModal",d),()=>{window.removeEventListener("openProfileModal",d)}},[]),t)return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!e)return r?s.jsx(WE,{onSwitchToLogin:()=>n(!1)}):s.jsx(zE,{onSwitchToRegister:()=>n(!0)});const c=()=>{switch(a){case"dashboard":if(e.role==="admin")return s.jsx(Ss,{});if(e.role==="founder")return s.jsx(Mn,{});if(e.role==="talent")return s.jsx(rn,{});break;case"founders":return e.role==="admin"?s.jsx(f3,{}):(i("dashboard"),e.role==="founder"?s.jsx(Mn,{}):s.jsx(rn,{}));case"talents":return e.role==="admin"?s.jsx(p3,{}):(i("dashboard"),e.role==="founder"?s.jsx(Mn,{}):s.jsx(rn,{}));case"payments":return e.role==="admin"?s.jsx(v3,{}):(i("dashboard"),e.role==="founder"?s.jsx(Mn,{}):s.jsx(rn,{}));case"analytics":return e.role==="admin"?s.jsx(yz,{}):(i("dashboard"),e.role==="founder"?s.jsx(Mn,{}):s.jsx(rn,{}));case"marketplace":return e.role==="talent"?s.jsx(YE,{}):(i("dashboard"),e.role==="founder"?s.jsx(Mn,{}):s.jsx(Ss,{}));case"campaigns":return e.role==="founder"?s.jsx(ZE,{}):e.role==="admin"?s.jsx(x3,{}):(i("dashboard"),s.jsx(rn,{}));case"orders":return e.role==="founder"?s.jsx(r3,{}):(i("dashboard"),e.role==="admin"?s.jsx(Ss,{}):s.jsx(rn,{}));case"jobs":return e.role==="talent"?s.jsx(a3,{}):(i("dashboard"),e.role==="admin"?s.jsx(Ss,{}):s.jsx(Mn,{}));case"reviews":return e.role==="founder"?s.jsx(l3,{}):(i("dashboard"),e.role==="admin"?s.jsx(Ss,{}):s.jsx(rn,{}));case"wallet":return e.role==="founder"?s.jsx(c3,{}):(i("dashboard"),e.role==="admin"?s.jsx(Ss,{}):s.jsx(rn,{}));case"earnings":return e.role==="talent"?s.jsx(u3,{}):(i("dashboard"),e.role==="admin"?s.jsx(Ss,{}):s.jsx(Mn,{}));default:return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("p",{className:"text-gray-600",children:"This page is under development"})]})})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(KE,{}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx(qE,{currentPage:a,onPageChange:i,className:"w-full md:w-64"}),s.jsx("main",{className:"flex-1 p-4 md:p-6",children:c()})]}),l&&e.role==="founder"&&s.jsx(bz,{onClose:()=>o(!1)}),l&&e.role==="talent"&&s.jsx(wz,{onClose:()=>o(!1)}),l&&e.role==="admin"&&s.jsx(jz,{onClose:()=>o(!1)})]})};function Sz(){return s.jsx(OE,{children:s.jsx(EE,{children:s.jsx(Nz,{})})})}R1(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(Sz,{})}));
